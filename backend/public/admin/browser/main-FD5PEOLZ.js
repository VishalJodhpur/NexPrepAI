import{$ as W,$a as td,$b as Ee,A as cm,Aa as M1,Ab as ee,Ac as ta,B as Ho,Ba as P1,Bb as Sn,Bc as Rn,C as Ku,Ca as D1,Cb as W1,Cc as fb,D as Uo,Da as Qs,Db as ns,Dc as mb,E as Kr,Ea as Ri,Eb as Fl,Ec as Fn,F as um,Fa as wn,Fb as Q1,Fc as jt,G as p1,Ga as N1,Gb as hi,Gc as qt,H as h1,Ha as Ju,Hb as Zo,Hc as Ht,I as zo,Ia as g,Ib as Ko,Ic as sd,J as ei,Ja as Rl,Jb as G1,Jc as od,K as f1,Ka as L1,Kb as wm,Kc as Bn,L as sn,La as vm,Lb as Y1,Lc as Vn,M as Tt,Ma as U,Mb as nd,Mc as Ut,N as ae,Na as O1,Nb as X1,Nc as $n,O as Jr,Oa as R1,Ob as id,P as m1,Pa as F1,Pb as Z1,Q as Gt,Qa as ed,Qb as Ln,R as dm,Ra as pe,Rb as Bl,S as ie,Sa as es,Sb as K1,T as se,Ta as Gs,Tb as J1,U as pm,Ua as B1,Ub as eb,V as g1,Va as O,Vb as Vl,W as Wo,Wa as xm,Wb as tb,X as Ki,Xa as V1,Xb as Jo,Y as Ws,Ya as bm,Yb as nb,Z as M,Za as ym,Zb as er,_ as P,_a as _m,_b as je,a as L,aa as Z,ab as _,ac as ib,b as _e,ba as hm,bc as rb,c as s1,ca as v1,cb as $e,cc as rd,d as o1,da as Dl,db as ts,dc as sb,e as Zu,ea as x1,eb as d,ec as ob,f as a1,fa as b1,fb as p,fc as ge,g as om,ga as Ji,gb as S,gc as ab,h as am,ha as Oi,hb as Yo,hc as lb,i as Li,ia as fm,ib as Xo,ic as Sm,j as dn,ja as y1,jb as de,jc as cb,k as Tr,ka as Nl,kb as F,kc as ub,l as In,la as _1,lb as D,lc as ze,m as ve,ma as mm,mb as $1,mc as Em,n as Ml,na as w1,nb as lt,nc as _t,o as l1,oa as Ll,ob as ct,oc as db,p as c1,pa as gm,pb as j1,pc as pb,q as rt,qa as S1,qb as q1,qc as hb,r as qo,ra as E1,rb as H1,rc as ht,s as Nn,sa as C1,sb as Qe,sc as ea,t as Pl,ta as Ol,tb as h,tc as Je,u as u1,ua as Qo,ub as Q,uc as fe,v as lm,va as Go,vb as z,vc as et,w as Zr,wa as k1,wb as U1,wc as ut,x as Ar,xa as T1,xb as z1,xc as On,y as zs,ya as A1,yb as K,yc as on,z as d1,za as I1,zb as J,zc as dt}from"./chunk-2OU76MRE.js";var Rw=s1((Pv,Dv)=>{"use strict";(function(n,e){typeof define=="function"&&define.amd?define([],e):typeof Pv<"u"?e():(e(),n.FileSaver={})})(Pv,function(){"use strict";function n(a,l){return typeof l>"u"?l={autoBom:!1}:typeof l!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function e(a,l,c){var u=new XMLHttpRequest;u.open("GET",a),u.responseType="blob",u.onload=function(){o(u.response,l,c)},u.onerror=function(){console.error("could not download file")},u.send()}function t(a){var l=new XMLHttpRequest;l.open("HEAD",a,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function i(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(l)}}var r=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,s=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=r.saveAs||(typeof window!="object"||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(a,l,c){var u=r.URL||r.webkitURL,f=document.createElement("a");l=l||a.name||"download",f.download=l,f.rel="noopener",typeof a=="string"?(f.href=a,f.origin===location.origin?i(f):t(f.href)?e(a,l,c):i(f,f.target="_blank")):(f.href=u.createObjectURL(a),setTimeout(function(){u.revokeObjectURL(f.href)},4e4),setTimeout(function(){i(f)},0))}:"msSaveOrOpenBlob"in navigator?function(a,l,c){if(l=l||a.name||"download",typeof a!="string")navigator.msSaveOrOpenBlob(n(a,c),l);else if(t(a))e(a,l,c);else{var u=document.createElement("a");u.href=a,u.target="_blank",setTimeout(function(){i(u)})}}:function(a,l,c,u){if(u=u||open("","_blank"),u&&(u.document.title=u.document.body.innerText="downloading..."),typeof a=="string")return e(a,l,c);var f=a.type==="application/octet-stream",m=/constructor/i.test(r.HTMLElement)||r.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||f&&m||s)&&typeof FileReader<"u"){var b=new FileReader;b.onloadend=function(){var k=b.result;k=v?k:k.replace(/^data:[^;]*;/,"data:attachment/file;"),u?u.location.href=k:location=k,u=null},b.readAsDataURL(a)}else{var w=r.URL||r.webkitURL,y=w.createObjectURL(a);u?u.location=y:location.href=y,u=null,setTimeout(function(){w.revokeObjectURL(y)},4e4)}});r.saveAs=o.saveAs=o,typeof Dv<"u"&&(Dv.exports=o)})});var Ck=s1((e1,t1)=>{"use strict";((n,e)=>{typeof define=="function"&&define.amd?define([],e):typeof t1=="object"&&typeof e1<"u"?t1.exports=e():n.Papa=e()})(e1,function n(){var e=typeof self<"u"?self:typeof window<"u"?window:e!==void 0?e:{},t,i=!e.document&&!!e.postMessage,r=e.IS_PAPA_WORKER||!1,s={},o=0,a={};function l(E){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(T){var N=V(T);N.chunkSize=parseInt(N.chunkSize),T.step||T.chunk||(N.chunkSize=null),this._handle=new v(N),(this._handle.streamer=this)._config=N}.call(this,E),this.parseChunk=function(T,N){var j=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<j){let G=this._config.newline;G||(H=this._config.quoteChar||'"',G=this._handle.guessLineEndings(T,H)),T=[...T.split(G).slice(j)].join(G)}this.isFirstChunk&&B(this._config.beforeFirstChunk)&&(H=this._config.beforeFirstChunk(T))!==void 0&&(T=H),this.isFirstChunk=!1,this._halted=!1;var j=this._partialLine+T,H=(this._partialLine="",this._handle.parse(j,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(T=H.meta.cursor,j=(this._finished||(this._partialLine=j.substring(T-this._baseIndex),this._baseIndex=T),H&&H.data&&(this._rowCount+=H.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),r)e.postMessage({results:H,workerId:a.WORKER_ID,finished:j});else if(B(this._config.chunk)&&!N){if(this._config.chunk(H,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=H=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(H.data),this._completeResults.errors=this._completeResults.errors.concat(H.errors),this._completeResults.meta=H.meta),this._completed||!j||!B(this._config.complete)||H&&H.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),j||H&&H.meta.paused||this._nextChunk(),H}this._halted=!0},this._sendError=function(T){B(this._config.error)?this._config.error(T):r&&this._config.error&&e.postMessage({workerId:a.WORKER_ID,error:T,finished:!1})}}function c(E){var T;(E=E||{}).chunkSize||(E.chunkSize=a.RemoteChunkSize),l.call(this,E),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(N){this._input=N,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(T=new XMLHttpRequest,this._config.withCredentials&&(T.withCredentials=this._config.withCredentials),i||(T.onload=$(this._chunkLoaded,this),T.onerror=$(this._chunkError,this)),T.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var N,j=this._config.downloadRequestHeaders;for(N in j)T.setRequestHeader(N,j[N])}var H;this._config.chunkSize&&(H=this._start+this._config.chunkSize-1,T.setRequestHeader("Range","bytes="+this._start+"-"+H));try{T.send(this._config.downloadRequestBody)}catch(G){this._chunkError(G.message)}i&&T.status===0&&this._chunkError()}},this._chunkLoaded=function(){T.readyState===4&&(T.status<200||400<=T.status?this._chunkError():(this._start+=this._config.chunkSize||T.responseText.length,this._finished=!this._config.chunkSize||this._start>=(N=>(N=N.getResponseHeader("Content-Range"))!==null?parseInt(N.substring(N.lastIndexOf("/")+1)):-1)(T),this.parseChunk(T.responseText)))},this._chunkError=function(N){N=T.statusText||N,this._sendError(new Error(N))}}function u(E){(E=E||{}).chunkSize||(E.chunkSize=a.LocalChunkSize),l.call(this,E);var T,N,j=typeof FileReader<"u";this.stream=function(H){this._input=H,N=H.slice||H.webkitSlice||H.mozSlice,j?((T=new FileReader).onload=$(this._chunkLoaded,this),T.onerror=$(this._chunkError,this)):T=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var H=this._input,G=(this._config.chunkSize&&(G=Math.min(this._start+this._config.chunkSize,this._input.size),H=N.call(H,this._start,G)),T.readAsText(H,this._config.encoding));j||this._chunkLoaded({target:{result:G}})},this._chunkLoaded=function(H){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(H.target.result)},this._chunkError=function(){this._sendError(T.error)}}function f(E){var T;l.call(this,E=E||{}),this.stream=function(N){return T=N,this._nextChunk()},this._nextChunk=function(){var N,j;if(!this._finished)return N=this._config.chunkSize,T=N?(j=T.substring(0,N),T.substring(N)):(j=T,""),this._finished=!T,this.parseChunk(j)}}function m(E){l.call(this,E=E||{});var T=[],N=!0,j=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(H){this._input=H,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){j&&T.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),T.length?this.parseChunk(T.shift()):N=!0},this._streamData=$(function(H){try{T.push(typeof H=="string"?H:H.toString(this._config.encoding)),N&&(N=!1,this._checkIsFinished(),this.parseChunk(T.shift()))}catch(G){this._streamError(G)}},this),this._streamError=$(function(H){this._streamCleanUp(),this._sendError(H)},this),this._streamEnd=$(function(){this._streamCleanUp(),j=!0,this._streamData("")},this),this._streamCleanUp=$(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function v(E){var T,N,j,H,G=Math.pow(2,53),me=-G,Ze=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,xt=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,re=this,ye=0,ne=0,ot=!1,he=!1,Pe=[],ue={data:[],errors:[],meta:{}};function bt(Te){return E.skipEmptyLines==="greedy"?Te.join("").trim()==="":Te.length===1&&Te[0].length===0}function yt(){if(ue&&j&&(tn("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),j=!1),E.skipEmptyLines&&(ue.data=ue.data.filter(function(Pt){return!bt(Pt)})),kt()){let Pt=function(nn,Dt){B(E.transformHeader)&&(nn=E.transformHeader(nn,Dt)),Pe.push(nn)};var Fe=Pt;if(ue)if(Array.isArray(ue.data[0])){for(var Te=0;kt()&&Te<ue.data.length;Te++)ue.data[Te].forEach(Pt);ue.data.splice(0,1)}else ue.data.forEach(Pt)}function Ye(Pt,nn){for(var Dt=E.header?{}:[],at=0;at<Pt.length;at++){var Be=at,yn=Pt[at],yn=((Ke,Nt)=>(Qt=>(E.dynamicTypingFunction&&E.dynamicTyping[Qt]===void 0&&(E.dynamicTyping[Qt]=E.dynamicTypingFunction(Qt)),(E.dynamicTyping[Qt]||E.dynamicTyping)===!0))(Ke)?Nt==="true"||Nt==="TRUE"||Nt!=="false"&&Nt!=="FALSE"&&((Qt=>{if(Ze.test(Qt)&&(Qt=parseFloat(Qt),me<Qt&&Qt<G))return 1})(Nt)?parseFloat(Nt):xt.test(Nt)?new Date(Nt):Nt===""?null:Nt):Nt)(Be=E.header?at>=Pe.length?"__parsed_extra":Pe[at]:Be,yn=E.transform?E.transform(yn,Be):yn);Be==="__parsed_extra"?(Dt[Be]=Dt[Be]||[],Dt[Be].push(yn)):Dt[Be]=yn}return E.header&&(at>Pe.length?tn("FieldMismatch","TooManyFields","Too many fields: expected "+Pe.length+" fields but parsed "+at,ne+nn):at<Pe.length&&tn("FieldMismatch","TooFewFields","Too few fields: expected "+Pe.length+" fields but parsed "+at,ne+nn)),Dt}var Rt;ue&&(E.header||E.dynamicTyping||E.transform)&&(Rt=1,!ue.data.length||Array.isArray(ue.data[0])?(ue.data=ue.data.map(Ye),Rt=ue.data.length):ue.data=Ye(ue.data,0),E.header&&ue.meta&&(ue.meta.fields=Pe),ne+=Rt)}function kt(){return E.header&&Pe.length===0}function tn(Te,Ye,Rt,Fe){Te={type:Te,code:Ye,message:Rt},Fe!==void 0&&(Te.row=Fe),ue.errors.push(Te)}B(E.step)&&(H=E.step,E.step=function(Te){ue=Te,kt()?yt():(yt(),ue.data.length!==0&&(ye+=Te.data.length,E.preview&&ye>E.preview?N.abort():(ue.data=ue.data[0],H(ue,re))))}),this.parse=function(Te,Ye,Rt){var Fe=E.quoteChar||'"',Fe=(E.newline||(E.newline=this.guessLineEndings(Te,Fe)),j=!1,E.delimiter?B(E.delimiter)&&(E.delimiter=E.delimiter(Te),ue.meta.delimiter=E.delimiter):((Fe=((Pt,nn,Dt,at,Be)=>{var yn,Ke,Nt,Qt;Be=Be||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var $o=0;$o<Be.length;$o++){for(var Yi,Al=Be[$o],_n=0,Xi=0,rn=0,Dn=(Nt=void 0,new w({comments:at,delimiter:Al,newline:nn,preview:10}).parse(Pt)),kr=0;kr<Dn.data.length;kr++)Dt&&bt(Dn.data[kr])?rn++:(Yi=Dn.data[kr].length,Xi+=Yi,Nt===void 0?Nt=Yi:0<Yi&&(_n+=Math.abs(Yi-Nt),Nt=Yi));0<Dn.data.length&&(Xi/=Dn.data.length-rn),(Ke===void 0||_n<=Ke)&&(Qt===void 0||Qt<Xi)&&1.99<Xi&&(Ke=_n,yn=Al,Qt=Xi)}return{successful:!!(E.delimiter=yn),bestDelimiter:yn}})(Te,E.newline,E.skipEmptyLines,E.comments,E.delimitersToGuess)).successful?E.delimiter=Fe.bestDelimiter:(j=!0,E.delimiter=a.DefaultDelimiter),ue.meta.delimiter=E.delimiter),V(E));return E.preview&&E.header&&Fe.preview++,T=Te,N=new w(Fe),ue=N.parse(T,Ye,Rt),yt(),ot?{meta:{paused:!0}}:ue||{meta:{paused:!1}}},this.paused=function(){return ot},this.pause=function(){ot=!0,N.abort(),T=B(E.chunk)?"":T.substring(N.getCharIndex())},this.resume=function(){re.streamer._halted?(ot=!1,re.streamer.parseChunk(T,!0)):setTimeout(re.resume,3)},this.aborted=function(){return he},this.abort=function(){he=!0,N.abort(),ue.meta.aborted=!0,B(E.complete)&&E.complete(ue),T=""},this.guessLineEndings=function(Pt,Fe){Pt=Pt.substring(0,1048576);var Fe=new RegExp(b(Fe)+"([^]*?)"+b(Fe),"gm"),Rt=(Pt=Pt.replace(Fe,"")).split("\r"),Fe=Pt.split(`
`),Pt=1<Fe.length&&Fe[0].length<Rt[0].length;if(Rt.length===1||Pt)return`
`;for(var nn=0,Dt=0;Dt<Rt.length;Dt++)Rt[Dt][0]===`
`&&nn++;return nn>=Rt.length/2?`\r
`:"\r"}}function b(E){return E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function w(E){var T=(E=E||{}).delimiter,N=E.newline,j=E.comments,H=E.step,G=E.preview,me=E.fastMode,Ze=null,xt=!1,re=E.quoteChar==null?'"':E.quoteChar,ye=re;if(E.escapeChar!==void 0&&(ye=E.escapeChar),(typeof T!="string"||-1<a.BAD_DELIMITERS.indexOf(T))&&(T=","),j===T)throw new Error("Comment character same as delimiter");j===!0?j="#":(typeof j!="string"||-1<a.BAD_DELIMITERS.indexOf(j))&&(j=!1),N!==`
`&&N!=="\r"&&N!==`\r
`&&(N=`
`);var ne=0,ot=!1;this.parse=function(he,Pe,ue){if(typeof he!="string")throw new Error("Input must be a string");var bt=he.length,yt=T.length,kt=N.length,tn=j.length,Te=B(H),Ye=[],Rt=[],Fe=[],Pt=ne=0;if(!he)return _n();if(me||me!==!1&&he.indexOf(re)===-1){for(var nn=he.split(N),Dt=0;Dt<nn.length;Dt++){if(Fe=nn[Dt],ne+=Fe.length,Dt!==nn.length-1)ne+=N.length;else if(ue)return _n();if(!j||Fe.substring(0,tn)!==j){if(Te){if(Ye=[],Qt(Fe.split(T)),Xi(),ot)return _n()}else Qt(Fe.split(T));if(G&&G<=Dt)return Ye=Ye.slice(0,G),_n(!0)}}return _n()}for(var at=he.indexOf(T,ne),Be=he.indexOf(N,ne),yn=new RegExp(b(ye)+b(re),"g"),Ke=he.indexOf(re,ne);;)if(he[ne]===re)for(Ke=ne,ne++;;){if((Ke=he.indexOf(re,Ke+1))===-1)return ue||Rt.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ye.length,index:ne}),Yi();if(Ke===bt-1)return Yi(he.substring(ne,Ke).replace(yn,re));if(re===ye&&he[Ke+1]===ye)Ke++;else if(re===ye||Ke===0||he[Ke-1]!==ye){at!==-1&&at<Ke+1&&(at=he.indexOf(T,Ke+1));var Nt=$o((Be=Be!==-1&&Be<Ke+1?he.indexOf(N,Ke+1):Be)===-1?at:Math.min(at,Be));if(he.substr(Ke+1+Nt,yt)===T){Fe.push(he.substring(ne,Ke).replace(yn,re)),he[ne=Ke+1+Nt+yt]!==re&&(Ke=he.indexOf(re,ne)),at=he.indexOf(T,ne),Be=he.indexOf(N,ne);break}if(Nt=$o(Be),he.substring(Ke+1+Nt,Ke+1+Nt+kt)===N){if(Fe.push(he.substring(ne,Ke).replace(yn,re)),Al(Ke+1+Nt+kt),at=he.indexOf(T,ne),Ke=he.indexOf(re,ne),Te&&(Xi(),ot))return _n();if(G&&Ye.length>=G)return _n(!0);break}Rt.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ye.length,index:ne}),Ke++}}else if(j&&Fe.length===0&&he.substring(ne,ne+tn)===j){if(Be===-1)return _n();ne=Be+kt,Be=he.indexOf(N,ne),at=he.indexOf(T,ne)}else if(at!==-1&&(at<Be||Be===-1))Fe.push(he.substring(ne,at)),ne=at+yt,at=he.indexOf(T,ne);else{if(Be===-1)break;if(Fe.push(he.substring(ne,Be)),Al(Be+kt),Te&&(Xi(),ot))return _n();if(G&&Ye.length>=G)return _n(!0)}return Yi();function Qt(rn){Ye.push(rn),Pt=ne}function $o(rn){var Dn=0;return Dn=rn!==-1&&(rn=he.substring(Ke+1,rn))&&rn.trim()===""?rn.length:Dn}function Yi(rn){return ue||(rn===void 0&&(rn=he.substring(ne)),Fe.push(rn),ne=bt,Qt(Fe),Te&&Xi()),_n()}function Al(rn){ne=rn,Qt(Fe),Fe=[],Be=he.indexOf(N,ne)}function _n(rn){if(E.header&&!Pe&&Ye.length&&!xt){var Dn=Ye[0],kr=Object.create(null),sm=new Set(Dn);let i1=!1;for(let jo=0;jo<Dn.length;jo++){let Zi=Dn[jo];if(kr[Zi=B(E.transformHeader)?E.transformHeader(Zi,jo):Zi]){let Il,r1=kr[Zi];for(;Il=Zi+"_"+r1,r1++,sm.has(Il););sm.add(Il),Dn[jo]=Il,kr[Zi]++,i1=!0,(Ze=Ze===null?{}:Ze)[Il]=Zi}else kr[Zi]=1,Dn[jo]=Zi;sm.add(Zi)}i1&&console.warn("Duplicate headers found and renamed."),xt=!0}return{data:Ye,errors:Rt,meta:{delimiter:T,linebreak:N,aborted:ot,truncated:!!rn,cursor:Pt+(Pe||0),renamedHeaders:Ze}}}function Xi(){H(_n()),Ye=[],Rt=[]}},this.abort=function(){ot=!0},this.getCharIndex=function(){return ne}}function y(E){var T=E.data,N=s[T.workerId],j=!1;if(T.error)N.userError(T.error,T.file);else if(T.results&&T.results.data){var H={abort:function(){j=!0,k(T.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:I,resume:I};if(B(N.userStep)){for(var G=0;G<T.results.data.length&&(N.userStep({data:T.results.data[G],errors:T.results.errors,meta:T.results.meta},H),!j);G++);delete T.results}else B(N.userChunk)&&(N.userChunk(T.results,H,T.file),delete T.results)}T.finished&&!j&&k(T.workerId,T.results)}function k(E,T){var N=s[E];B(N.userComplete)&&N.userComplete(T),N.terminate(),delete s[E]}function I(){throw new Error("Not implemented.")}function V(E){if(typeof E!="object"||E===null)return E;var T,N=Array.isArray(E)?[]:{};for(T in E)N[T]=V(E[T]);return N}function $(E,T){return function(){E.apply(T,arguments)}}function B(E){return typeof E=="function"}return a.parse=function(E,T){var N=(T=T||{}).dynamicTyping||!1;if(B(N)&&(T.dynamicTypingFunction=N,N={}),T.dynamicTyping=N,T.transform=!!B(T.transform)&&T.transform,!T.worker||!a.WORKERS_SUPPORTED)return N=null,a.NODE_STREAM_INPUT,typeof E=="string"?(E=(j=>j.charCodeAt(0)!==65279?j:j.slice(1))(E),N=new(T.download?c:f)(T)):E.readable===!0&&B(E.read)&&B(E.on)?N=new m(T):(e.File&&E instanceof File||E instanceof Object)&&(N=new u(T)),N.stream(E);(N=(()=>{var j;return!!a.WORKERS_SUPPORTED&&(j=(()=>{var H=e.URL||e.webkitURL||null,G=n.toString();return a.BLOB_URL||(a.BLOB_URL=H.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",G,")();"],{type:"text/javascript"})))})(),(j=new e.Worker(j)).onmessage=y,j.id=o++,s[j.id]=j)})()).userStep=T.step,N.userChunk=T.chunk,N.userComplete=T.complete,N.userError=T.error,T.step=B(T.step),T.chunk=B(T.chunk),T.complete=B(T.complete),T.error=B(T.error),delete T.worker,N.postMessage({input:E,config:T,workerId:N.id})},a.unparse=function(E,T){var N=!1,j=!0,H=",",G=`\r
`,me='"',Ze=me+me,xt=!1,re=null,ye=!1,ne=((()=>{if(typeof T=="object"){if(typeof T.delimiter!="string"||a.BAD_DELIMITERS.filter(function(Pe){return T.delimiter.indexOf(Pe)!==-1}).length||(H=T.delimiter),typeof T.quotes!="boolean"&&typeof T.quotes!="function"&&!Array.isArray(T.quotes)||(N=T.quotes),typeof T.skipEmptyLines!="boolean"&&typeof T.skipEmptyLines!="string"||(xt=T.skipEmptyLines),typeof T.newline=="string"&&(G=T.newline),typeof T.quoteChar=="string"&&(me=T.quoteChar),typeof T.header=="boolean"&&(j=T.header),Array.isArray(T.columns)){if(T.columns.length===0)throw new Error("Option columns is empty");re=T.columns}T.escapeChar!==void 0&&(Ze=T.escapeChar+me),T.escapeFormulae instanceof RegExp?ye=T.escapeFormulae:typeof T.escapeFormulae=="boolean"&&T.escapeFormulae&&(ye=/^[=+\-@\t\r].*$/)}})(),new RegExp(b(me),"g"));if(typeof E=="string"&&(E=JSON.parse(E)),Array.isArray(E)){if(!E.length||Array.isArray(E[0]))return ot(null,E,xt);if(typeof E[0]=="object")return ot(re||Object.keys(E[0]),E,xt)}else if(typeof E=="object")return typeof E.data=="string"&&(E.data=JSON.parse(E.data)),Array.isArray(E.data)&&(E.fields||(E.fields=E.meta&&E.meta.fields||re),E.fields||(E.fields=Array.isArray(E.data[0])?E.fields:typeof E.data[0]=="object"?Object.keys(E.data[0]):[]),Array.isArray(E.data[0])||typeof E.data[0]=="object"||(E.data=[E.data])),ot(E.fields||[],E.data||[],xt);throw new Error("Unable to serialize unrecognized input");function ot(Pe,ue,bt){var yt="",kt=(typeof Pe=="string"&&(Pe=JSON.parse(Pe)),typeof ue=="string"&&(ue=JSON.parse(ue)),Array.isArray(Pe)&&0<Pe.length),tn=!Array.isArray(ue[0]);if(kt&&j){for(var Te=0;Te<Pe.length;Te++)0<Te&&(yt+=H),yt+=he(Pe[Te],Te);0<ue.length&&(yt+=G)}for(var Ye=0;Ye<ue.length;Ye++){var Rt=(kt?Pe:ue[Ye]).length,Fe=!1,Pt=kt?Object.keys(ue[Ye]).length===0:ue[Ye].length===0;if(bt&&!kt&&(Fe=bt==="greedy"?ue[Ye].join("").trim()==="":ue[Ye].length===1&&ue[Ye][0].length===0),bt==="greedy"&&kt){for(var nn=[],Dt=0;Dt<Rt;Dt++){var at=tn?Pe[Dt]:Dt;nn.push(ue[Ye][at])}Fe=nn.join("").trim()===""}if(!Fe){for(var Be=0;Be<Rt;Be++){0<Be&&!Pt&&(yt+=H);var yn=kt&&tn?Pe[Be]:Be;yt+=he(ue[Ye][yn],Be)}Ye<ue.length-1&&(!bt||0<Rt&&!Pt)&&(yt+=G)}}return yt}function he(Pe,ue){var bt,yt;return Pe==null?"":Pe.constructor===Date?JSON.stringify(Pe).slice(1,25):(yt=!1,ye&&typeof Pe=="string"&&ye.test(Pe)&&(Pe="'"+Pe,yt=!0),bt=Pe.toString().replace(ne,Ze),(yt=yt||N===!0||typeof N=="function"&&N(Pe,ue)||Array.isArray(N)&&N[ue]||((kt,tn)=>{for(var Te=0;Te<tn.length;Te++)if(-1<kt.indexOf(tn[Te]))return!0;return!1})(bt,a.BAD_DELIMITERS)||-1<bt.indexOf(H)||bt.charAt(0)===" "||bt.charAt(bt.length-1)===" ")?me+bt+me:bt)}},a.RECORD_SEP="",a.UNIT_SEP="",a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!i&&!!e.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=w,a.ParserHandle=v,a.NetworkStreamer=c,a.FileStreamer=u,a.StringStreamer=f,a.ReadableStreamStreamer=m,e.jQuery&&((t=e.jQuery).fn.parse=function(E){var T=E.config||{},N=[];return this.each(function(G){if(!(t(this).prop("tagName").toUpperCase()==="INPUT"&&t(this).attr("type").toLowerCase()==="file"&&e.FileReader)||!this.files||this.files.length===0)return!0;for(var me=0;me<this.files.length;me++)N.push({file:this.files[me],inputElem:this,instanceConfig:t.extend({},T)})}),j(),this;function j(){if(N.length===0)B(E.complete)&&E.complete();else{var G,me,Ze,xt,re=N[0];if(B(E.before)){var ye=E.before(re.file,re.inputElem);if(typeof ye=="object"){if(ye.action==="abort")return G="AbortError",me=re.file,Ze=re.inputElem,xt=ye.reason,void(B(E.error)&&E.error({name:G},me,Ze,xt));if(ye.action==="skip")return void H();typeof ye.config=="object"&&(re.instanceConfig=t.extend(re.instanceConfig,ye.config))}else if(ye==="skip")return void H()}var ne=re.instanceConfig.complete;re.instanceConfig.complete=function(ot){B(ne)&&ne(ot,re.file,re.inputElem),H()},a.parse(re.file,re.instanceConfig)}}function H(){N.splice(0,1),j()}}),r&&(e.onmessage=function(E){E=E.data,a.WORKER_ID===void 0&&E&&(a.WORKER_ID=E.workerId),typeof E.input=="string"?e.postMessage({workerId:a.WORKER_ID,results:a.parse(E.input,E.config),finished:!0}):(e.File&&E.input instanceof File||E.input instanceof Object)&&(E=a.parse(E.input,E.config))&&e.postMessage({workerId:a.WORKER_ID,results:E,finished:!0})}),(c.prototype=Object.create(l.prototype)).constructor=c,(u.prototype=Object.create(l.prototype)).constructor=u,(f.prototype=Object.create(f.prototype)).constructor=f,(m.prototype=Object.create(l.prototype)).constructor=m,a})});var gb=new RegExp(`(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*\\\\$]+)(?:=(["']?)([^\\]"']*)\\5)?\\])|(\\))|(\\s*,\\s*)`,"g"),ba=class n{element=null;classNames=[];attrs=[];notSelectors=[];static parse(e){let t=[],i=(l,c)=>{c.notSelectors.length>0&&!c.element&&c.classNames.length==0&&c.attrs.length==0&&(c.element="*"),l.push(c)},r=new n,s,o=r,a=!1;for(gb.lastIndex=0;s=gb.exec(e);){if(s[1]){if(a)throw new Error("Nesting :not in a selector is not allowed");a=!0,o=new n,r.notSelectors.push(o)}let l=s[2];if(l){let u=s[3];u==="#"?o.addAttribute("id",l.slice(1)):u==="."?o.addClassName(l.slice(1)):o.setElement(l)}let c=s[4];if(c&&o.addAttribute(o.unescapeAttribute(c),s[6]),s[7]&&(a=!1,o=r),s[8]){if(a)throw new Error("Multiple selectors in :not are not supported");i(t,r),r=o=new n}}return i(t,r),t}unescapeAttribute(e){let t="",i=!1;for(let r=0;r<e.length;r++){let s=e.charAt(r);if(s==="\\"){i=!0;continue}if(s==="$"&&!i)throw new Error(`Error in attribute selector "${e}". Unescaped "$" is not supported. Please escape with "\\$".`);i=!1,t+=s}return t}escapeAttribute(e){return e.replace(/\\/g,"\\\\").replace(/\$/g,"\\$")}isElementSelector(){return this.hasElementSelector()&&this.classNames.length==0&&this.attrs.length==0&&this.notSelectors.length===0}hasElementSelector(){return!!this.element}setElement(e=null){this.element=e}getAttrs(){let e=[];return this.classNames.length>0&&e.push("class",this.classNames.join(" ")),e.concat(this.attrs)}addAttribute(e,t=""){this.attrs.push(e,t&&t.toLowerCase()||"")}addClassName(e){this.classNames.push(e.toLowerCase())}toString(){let e=this.element||"";if(this.classNames&&this.classNames.forEach(t=>e+=`.${t}`),this.attrs)for(let t=0;t<this.attrs.length;t+=2){let i=this.escapeAttribute(this.attrs[t]),r=this.attrs[t+1];e+=`[${i}${r?"="+r:""}]`}return this.notSelectors.forEach(t=>e+=`:not(${t})`),e}},yd=class n{static createNotMatcher(e){let t=new n;return t.addSelectables(e,null),t}_elementMap=new Map;_elementPartialMap=new Map;_classMap=new Map;_classPartialMap=new Map;_attrValueMap=new Map;_attrValuePartialMap=new Map;_listContexts=[];addSelectables(e,t){let i=null;e.length>1&&(i=new Gm(e),this._listContexts.push(i));for(let r=0;r<e.length;r++)this._addSelectable(e[r],t,i)}_addSelectable(e,t,i){let r=this,s=e.element,o=e.classNames,a=e.attrs,l=new Ym(e,t,i);if(s&&(a.length===0&&o.length===0?this._addTerminal(r._elementMap,s,l):r=this._addPartial(r._elementPartialMap,s)),o)for(let c=0;c<o.length;c++){let u=a.length===0&&c===o.length-1,f=o[c];u?this._addTerminal(r._classMap,f,l):r=this._addPartial(r._classPartialMap,f)}if(a)for(let c=0;c<a.length;c+=2){let u=c===a.length-2,f=a[c],m=a[c+1];if(u){let v=r._attrValueMap,b=v.get(f);b||(b=new Map,v.set(f,b)),this._addTerminal(b,m,l)}else{let v=r._attrValuePartialMap,b=v.get(f);b||(b=new Map,v.set(f,b)),r=this._addPartial(b,m)}}}_addTerminal(e,t,i){let r=e.get(t);r||(r=[],e.set(t,r)),r.push(i)}_addPartial(e,t){let i=e.get(t);return i||(i=new n,e.set(t,i)),i}match(e,t){let i=!1,r=e.element,s=e.classNames,o=e.attrs;for(let a=0;a<this._listContexts.length;a++)this._listContexts[a].alreadyMatched=!1;if(i=this._matchTerminal(this._elementMap,r,e,t)||i,i=this._matchPartial(this._elementPartialMap,r,e,t)||i,s)for(let a=0;a<s.length;a++){let l=s[a];i=this._matchTerminal(this._classMap,l,e,t)||i,i=this._matchPartial(this._classPartialMap,l,e,t)||i}if(o)for(let a=0;a<o.length;a+=2){let l=o[a],c=o[a+1],u=this._attrValueMap.get(l);c&&(i=this._matchTerminal(u,"",e,t)||i),i=this._matchTerminal(u,c,e,t)||i;let f=this._attrValuePartialMap.get(l);c&&(i=this._matchPartial(f,"",e,t)||i),i=this._matchPartial(f,c,e,t)||i}return i}_matchTerminal(e,t,i,r){if(!e||typeof t!="string")return!1;let s=e.get(t)||[],o=e.get("*");if(o&&(s=s.concat(o)),s.length===0)return!1;let a,l=!1;for(let c=0;c<s.length;c++)a=s[c],l=a.finalize(i,r)||l;return l}_matchPartial(e,t,i,r){if(!e||typeof t!="string")return!1;let s=e.get(t);return s?s.match(i,r):!1}},Gm=class{selectors;alreadyMatched=!1;constructor(e){this.selectors=e}},Ym=class{selector;cbContext;listContext;notSelectors;constructor(e,t,i){this.selector=e,this.cbContext=t,this.listContext=i,this.notSelectors=e.notSelectors}finalize(e,t){let i=!0;return this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)&&(i=!yd.createNotMatcher(this.notSelectors).match(e,null)),i&&t&&(!this.listContext||!this.listContext.alreadyMatched)&&(this.listContext&&(this.listContext.alreadyMatched=!0),t(this.selector,this.cbContext)),i}};var Ys=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Ys||{}),xg=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(xg||{}),Wl=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Wl||{}),vb={name:"custom-elements"},xb={name:"no-errors-schema"};var ft=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(ft||{});function Nk(n){let e=n.classNames&&n.classNames.length?[8,...n.classNames]:[];return[n.element&&n.element!=="*"?n.element:"",...n.attrs,...e]}function Lk(n){let e=n.classNames&&n.classNames.length?[8,...n.classNames]:[];return n.element?[5,n.element,...n.attrs,...e]:n.attrs.length?[3,...n.attrs,...e]:n.classNames&&n.classNames.length?[9,...n.classNames]:[]}function Ok(n){let e=Nk(n),t=n.notSelectors&&n.notSelectors.length?n.notSelectors.map(i=>Lk(i)):[];return e.concat(...t)}function bg(n){return n?ba.parse(n).map(Ok):[]}var Ir=function(n){return n[n.Directive=0]="Directive",n[n.Component=1]="Component",n[n.Injectable=2]="Injectable",n[n.Pipe=3]="Pipe",n[n.NgModule=4]="NgModule",n}(Ir||{});var _d;function Rk(n){return $k(Vk(n.nodes).join("")+`[${n.meaning}]`)}function Fk(n){return n.id||Zy(n)}function Zy(n){let e=new Xm,t=n.nodes.map(i=>i.visit(e,null));return Ky(t.join(""),n.meaning)}var wd=class{visitText(e,t){return e.value}visitContainer(e,t){return`[${e.children.map(i=>i.visit(this)).join(", ")}]`}visitIcu(e,t){let i=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.expression}, ${e.type}, ${i.join(", ")}}`}visitTagPlaceholder(e,t){return e.isVoid?`<ph tag name="${e.startName}"/>`:`<ph tag name="${e.startName}">${e.children.map(i=>i.visit(this)).join(", ")}</ph name="${e.closeName}">`}visitPlaceholder(e,t){return e.value?`<ph name="${e.name}">${e.value}</ph>`:`<ph name="${e.name}"/>`}visitIcuPlaceholder(e,t){return`<ph icu name="${e.name}">${e.value.visit(this)}</ph>`}visitBlockPlaceholder(e,t){return`<ph block name="${e.startName}">${e.children.map(i=>i.visit(this)).join(", ")}</ph name="${e.closeName}">`}},Bk=new wd;function Vk(n){return n.map(e=>e.visit(Bk,null))}var Xm=class extends wd{visitIcu(e){let t=Object.keys(e.cases).map(i=>`${i} {${e.cases[i].visit(this)}}`);return`{${e.type}, ${t.join(", ")}}`}};function $k(n){_d??=new TextEncoder;let e=[..._d.encode(n)],t=Hk(e,yg.Big),i=e.length*8,r=new Uint32Array(80),s=1732584193,o=4023233417,a=2562383102,l=271733878,c=3285377520;t[i>>5]|=128<<24-i%32,t[(i+64>>9<<4)+15]=i;for(let u=0;u<t.length;u+=16){let f=s,m=o,v=a,b=l,w=c;for(let y=0;y<80;y++){y<16?r[y]=t[u+y]:r[y]=Cm(r[y-3]^r[y-8]^r[y-14]^r[y-16],1);let k=jk(y,o,a,l),I=k[0],V=k[1],$=[Cm(s,5),I,c,V,r[y]].reduce(na);c=l,l=a,a=Cm(o,30),o=s,s=$}s=na(s,f),o=na(o,m),a=na(a,v),l=na(l,b),c=na(c,w)}return $l(s)+$l(o)+$l(a)+$l(l)+$l(c)}function $l(n){return(n>>>0).toString(16).padStart(8,"0")}function jk(n,e,t,i){return n<20?[e&t|~e&i,1518500249]:n<40?[e^t^i,1859775393]:n<60?[e&t|e&i|t&i,2400959708]:[e^t^i,3395469782]}function bb(n){_d??=new TextEncoder;let e=_d.encode(n),t=new DataView(e.buffer,e.byteOffset,e.byteLength),i=yb(t,e.length,0),r=yb(t,e.length,102072);return i==0&&(r==0||r==1)&&(i=i^319790063,r=r^-1801410264),BigInt.asUintN(32,BigInt(i))<<BigInt(32)|BigInt.asUintN(32,BigInt(r))}function Ky(n,e=""){let t=bb(n);return e&&(t=BigInt.asUintN(64,t<<BigInt(1))|t>>BigInt(63)&BigInt(1),t+=bb(e)),BigInt.asUintN(63,t).toString()}function yb(n,e,t){let i=2654435769,r=2654435769,s=0,o=e-12;for(;s<=o;s+=12){i+=n.getUint32(s,!0),r+=n.getUint32(s+4,!0),t+=n.getUint32(s+8,!0);let l=_b(i,r,t);i=l[0],r=l[1],t=l[2]}let a=e-s;return t+=e,a>=4?(i+=n.getUint32(s,!0),s+=4,a>=8?(r+=n.getUint32(s,!0),s+=4,a>=9&&(t+=n.getUint8(s++)<<8),a>=10&&(t+=n.getUint8(s++)<<16),a===11&&(t+=n.getUint8(s++)<<24)):(a>=5&&(r+=n.getUint8(s++)),a>=6&&(r+=n.getUint8(s++)<<8),a===7&&(r+=n.getUint8(s++)<<16))):(a>=1&&(i+=n.getUint8(s++)),a>=2&&(i+=n.getUint8(s++)<<8),a===3&&(i+=n.getUint8(s++)<<16)),_b(i,r,t)[2]}function _b(n,e,t){return n-=e,n-=t,n^=t>>>13,e-=t,e-=n,e^=n<<8,t-=n,t-=e,t^=e>>>13,n-=e,n-=t,n^=t>>>12,e-=t,e-=n,e^=n<<16,t-=n,t-=e,t^=e>>>5,n-=e,n-=t,n^=t>>>3,e-=t,e-=n,e^=n<<10,t-=n,t-=e,t^=e>>>15,[n,e,t]}var yg=function(n){return n[n.Little=0]="Little",n[n.Big=1]="Big",n}(yg||{});function na(n,e){return qk(n,e)[1]}function qk(n,e){let t=(n&65535)+(e&65535),i=(n>>>16)+(e>>>16)+(t>>>16);return[i>>>16,i<<16|t&65535]}function Cm(n,e){return n<<e|n>>>32-e}function Hk(n,e){let t=n.length+3>>>2,i=[];for(let r=0;r<t;r++)i[r]=Uk(n,r*4,e);return i}function wb(n,e){return e>=n.length?0:n[e]}function Uk(n,e,t){let i=0;if(t===yg.Big)for(let r=0;r<4;r++)i+=wb(n,e+r)<<24-8*r;else for(let r=0;r<4;r++)i+=wb(n,e+r)<<8*r;return i}var Jy=function(n){return n[n.None=0]="None",n[n.Const=1]="Const",n}(Jy||{}),Sd=class{modifiers;constructor(e=Jy.None){this.modifiers=e}hasModifier(e){return(this.modifiers&e)!==0}},jr=function(n){return n[n.Dynamic=0]="Dynamic",n[n.Bool=1]="Bool",n[n.String=2]="String",n[n.Int=3]="Int",n[n.Number=4]="Number",n[n.Function=5]="Function",n[n.Inferred=6]="Inferred",n[n.None=7]="None",n}(jr||{}),sr=class extends Sd{name;constructor(e,t){super(t),this.name=e}visitType(e,t){return e.visitBuiltinType(this,t)}},Si=class extends Sd{value;typeParams;constructor(e,t,i=null){super(t),this.value=e,this.typeParams=i}visitType(e,t){return e.visitExpressionType(this,t)}};var Qc=new sr(jr.Dynamic),_i=new sr(jr.Inferred),zk=new sr(jr.Bool),CH=new sr(jr.Int),_g=new sr(jr.Number),wg=new sr(jr.String),kH=new sr(jr.Function),or=new sr(jr.None),oc=function(n){return n[n.Minus=0]="Minus",n[n.Plus=1]="Plus",n}(oc||{}),te=function(n){return n[n.Equals=0]="Equals",n[n.NotEquals=1]="NotEquals",n[n.Identical=2]="Identical",n[n.NotIdentical=3]="NotIdentical",n[n.Minus=4]="Minus",n[n.Plus=5]="Plus",n[n.Divide=6]="Divide",n[n.Multiply=7]="Multiply",n[n.Modulo=8]="Modulo",n[n.And=9]="And",n[n.Or=10]="Or",n[n.BitwiseOr=11]="BitwiseOr",n[n.BitwiseAnd=12]="BitwiseAnd",n[n.Lower=13]="Lower",n[n.LowerEquals=14]="LowerEquals",n[n.Bigger=15]="Bigger",n[n.BiggerEquals=16]="BiggerEquals",n[n.NullishCoalesce=17]="NullishCoalesce",n}(te||{});function Wk(n,e){return n==null||e==null?n==e:n.isEquivalent(e)}function e2(n,e,t){let i=n.length;if(i!==e.length)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function oi(n,e){return e2(n,e,(t,i)=>t.isEquivalent(i))}var Ge=class{type;sourceSpan;constructor(e,t){this.type=e||null,this.sourceSpan=t||null}prop(e,t){return new ai(this,e,null,t)}key(e,t,i){return new Fr(this,e,t,i)}callFn(e,t,i){return new Un(this,e,null,t,i)}instantiate(e,t,i){return new lc(this,e,t,i)}conditional(e,t=null,i){return new Rr(this,e,t,null,i)}equals(e,t){return new qe(te.Equals,this,e,null,t)}notEquals(e,t){return new qe(te.NotEquals,this,e,null,t)}identical(e,t){return new qe(te.Identical,this,e,null,t)}notIdentical(e,t){return new qe(te.NotIdentical,this,e,null,t)}minus(e,t){return new qe(te.Minus,this,e,null,t)}plus(e,t){return new qe(te.Plus,this,e,null,t)}divide(e,t){return new qe(te.Divide,this,e,null,t)}multiply(e,t){return new qe(te.Multiply,this,e,null,t)}modulo(e,t){return new qe(te.Modulo,this,e,null,t)}and(e,t){return new qe(te.And,this,e,null,t)}bitwiseOr(e,t,i=!0){return new qe(te.BitwiseOr,this,e,null,t,i)}bitwiseAnd(e,t,i=!0){return new qe(te.BitwiseAnd,this,e,null,t,i)}or(e,t){return new qe(te.Or,this,e,null,t)}lower(e,t){return new qe(te.Lower,this,e,null,t)}lowerEquals(e,t){return new qe(te.LowerEquals,this,e,null,t)}bigger(e,t){return new qe(te.Bigger,this,e,null,t)}biggerEquals(e,t){return new qe(te.BiggerEquals,this,e,null,t)}isBlank(e){return this.equals(Zk,e)}nullishCoalesce(e,t){return new qe(te.NullishCoalesce,this,e,null,t)}toStmt(){return new Ti(this,null)}},ki=class n extends Ge{name;constructor(e,t,i){super(t,i),this.name=e}isEquivalent(e){return e instanceof n&&this.name===e.name}isConstant(){return!1}visitExpression(e,t){return e.visitReadVarExpr(this,t)}clone(){return new n(this.name,this.type,this.sourceSpan)}set(e){return new Ed(this.name,e,null,this.sourceSpan)}},ya=class n extends Ge{expr;constructor(e,t,i){super(t,i),this.expr=e}visitExpression(e,t){return e.visitTypeofExpr(this,t)}isEquivalent(e){return e instanceof n&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new n(this.expr.clone())}},Le=class n extends Ge{node;constructor(e,t,i){super(t,i),this.node=e}isEquivalent(e){return e instanceof n&&this.node===e.node}isConstant(){return!1}visitExpression(e,t){return e.visitWrappedNodeExpr(this,t)}clone(){return new n(this.node,this.type,this.sourceSpan)}},Ed=class n extends Ge{name;value;constructor(e,t,i,r){super(i||t.type,r),this.name=e,this.value=t}isEquivalent(e){return e instanceof n&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitWriteVarExpr(this,t)}clone(){return new n(this.name,this.value.clone(),this.type,this.sourceSpan)}toDeclStmt(e,t){return new kn(this.name,this.value,e,t,this.sourceSpan)}toConstDecl(){return this.toDeclStmt(_i,mn.Final)}},ac=class n extends Ge{receiver;index;value;constructor(e,t,i,r,s){super(r||i.type,s),this.receiver=e,this.index=t,this.value=i}isEquivalent(e){return e instanceof n&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitWriteKeyExpr(this,t)}clone(){return new n(this.receiver.clone(),this.index.clone(),this.value.clone(),this.type,this.sourceSpan)}},_a=class n extends Ge{receiver;name;value;constructor(e,t,i,r,s){super(r||i.type,s),this.receiver=e,this.name=t,this.value=i}isEquivalent(e){return e instanceof n&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitWritePropExpr(this,t)}clone(){return new n(this.receiver.clone(),this.name,this.value.clone(),this.type,this.sourceSpan)}},Un=class n extends Ge{fn;args;pure;constructor(e,t,i,r,s=!1){super(i,r),this.fn=e,this.args=t,this.pure=s}get receiver(){return this.fn}isEquivalent(e){return e instanceof n&&this.fn.isEquivalent(e.fn)&&oi(this.args,e.args)&&this.pure===e.pure}isConstant(){return!1}visitExpression(e,t){return e.visitInvokeFunctionExpr(this,t)}clone(){return new n(this.fn.clone(),this.args.map(e=>e.clone()),this.type,this.sourceSpan,this.pure)}},Cd=class n extends Ge{tag;template;constructor(e,t,i,r){super(i,r),this.tag=e,this.template=t}isEquivalent(e){return e instanceof n&&this.tag.isEquivalent(e.tag)&&this.template.isEquivalent(e.template)}isConstant(){return!1}visitExpression(e,t){return e.visitTaggedTemplateLiteralExpr(this,t)}clone(){return new n(this.tag.clone(),this.template.clone(),this.type,this.sourceSpan)}},lc=class n extends Ge{classExpr;args;constructor(e,t,i,r){super(i,r),this.classExpr=e,this.args=t}isEquivalent(e){return e instanceof n&&this.classExpr.isEquivalent(e.classExpr)&&oi(this.args,e.args)}isConstant(){return!1}visitExpression(e,t){return e.visitInstantiateExpr(this,t)}clone(){return new n(this.classExpr.clone(),this.args.map(e=>e.clone()),this.type,this.sourceSpan)}},vn=class n extends Ge{value;constructor(e,t,i){super(t,i),this.value=e}isEquivalent(e){return e instanceof n&&this.value===e.value}isConstant(){return!0}visitExpression(e,t){return e.visitLiteralExpr(this,t)}clone(){return new n(this.value,this.type,this.sourceSpan)}},cc=class n extends Ge{elements;expressions;constructor(e,t,i){super(null,i),this.elements=e,this.expressions=t}isEquivalent(e){return e instanceof n&&e2(this.elements,e.elements,(t,i)=>t.text===i.text)&&oi(this.expressions,e.expressions)}isConstant(){return!1}visitExpression(e,t){return e.visitTemplateLiteralExpr(this,t)}clone(){return new n(this.elements.map(e=>e.clone()),this.expressions.map(e=>e.clone()))}},kd=class n extends Ge{text;rawText;constructor(e,t,i){super(wg,t),this.text=e,this.rawText=i??Zm(vd(e))}visitExpression(e,t){return e.visitTemplateLiteralElementExpr(this,t)}isEquivalent(e){return e instanceof n&&e.text===this.text&&e.rawText===this.rawText}isConstant(){return!0}clone(){return new n(this.text,this.sourceSpan,this.rawText)}},io=class{text;sourceSpan;constructor(e,t){this.text=e,this.sourceSpan=t}},ma=class{text;sourceSpan;associatedMessage;constructor(e,t,i){this.text=e,this.sourceSpan=t,this.associatedMessage=i}},Qk="|",Sb="@@",Gk="\u241F",Td=class n extends Ge{metaBlock;messageParts;placeHolderNames;expressions;constructor(e,t,i,r,s){super(wg,s),this.metaBlock=e,this.messageParts=t,this.placeHolderNames=i,this.expressions=r}isEquivalent(e){return!1}isConstant(){return!1}visitExpression(e,t){return e.visitLocalizedString(this,t)}clone(){return new n(this.metaBlock,this.messageParts,this.placeHolderNames,this.expressions.map(e=>e.clone()),this.sourceSpan)}serializeI18nHead(){let e=this.metaBlock.description||"";return this.metaBlock.meaning&&(e=`${this.metaBlock.meaning}${Qk}${e}`),this.metaBlock.customId&&(e=`${e}${Sb}${this.metaBlock.customId}`),this.metaBlock.legacyIds&&this.metaBlock.legacyIds.forEach(t=>{e=`${e}${Gk}${t}`}),Eb(e,this.messageParts[0].text,this.getMessagePartSourceSpan(0))}getMessagePartSourceSpan(e){return this.messageParts[e]?.sourceSpan??this.sourceSpan}getPlaceholderSourceSpan(e){return this.placeHolderNames[e]?.sourceSpan??this.expressions[e]?.sourceSpan??this.sourceSpan}serializeI18nTemplatePart(e){let t=this.placeHolderNames[e-1],i=this.messageParts[e],r=t.text;return t.associatedMessage?.legacyIds.length===0&&(r+=`${Sb}${Ky(t.associatedMessage.messageString,t.associatedMessage.meaning)}`),Eb(r,i.text,this.getMessagePartSourceSpan(e))}},vd=n=>n.replace(/\\/g,"\\\\"),Yk=n=>n.replace(/^:/,"\\:"),Xk=n=>n.replace(/:/g,"\\:"),Zm=n=>n.replace(/`/g,"\\`").replace(/\${/g,"$\\{");function Eb(n,e,t){return n===""?{cooked:e,raw:Zm(Yk(vd(e))),range:t}:{cooked:`:${n}:${e}`,raw:Zm(`:${Xk(vd(n))}:${vd(e)}`),range:t}}var uo=class n extends Ge{value;typeParams;constructor(e,t,i=null,r){super(t,r),this.value=e,this.typeParams=i}isEquivalent(e){return e instanceof n&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName}isConstant(){return!1}visitExpression(e,t){return e.visitExternalExpr(this,t)}clone(){return new n(this.value,this.type,this.typeParams,this.sourceSpan)}};var Rr=class n extends Ge{condition;falseCase;trueCase;constructor(e,t,i=null,r,s){super(r||t.type,s),this.condition=e,this.falseCase=i,this.trueCase=t}isEquivalent(e){return e instanceof n&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&Wk(this.falseCase,e.falseCase)}isConstant(){return!1}visitExpression(e,t){return e.visitConditionalExpr(this,t)}clone(){return new n(this.condition.clone(),this.trueCase.clone(),this.falseCase?.clone(),this.type,this.sourceSpan)}};var uc=class n extends Ge{condition;constructor(e,t){super(zk,t),this.condition=e}isEquivalent(e){return e instanceof n&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(e,t){return e.visitNotExpr(this,t)}clone(){return new n(this.condition.clone(),this.sourceSpan)}},ln=class n{name;type;constructor(e,t=null){this.name=e,this.type=t}isEquivalent(e){return this.name===e.name}clone(){return new n(this.name,this.type)}},fs=class n extends Ge{params;statements;name;constructor(e,t,i,r,s){super(i,r),this.params=e,this.statements=t,this.name=s}isEquivalent(e){return(e instanceof n||e instanceof pc)&&oi(this.params,e.params)&&oi(this.statements,e.statements)}isConstant(){return!1}visitExpression(e,t){return e.visitFunctionExpr(this,t)}toDeclStmt(e,t){return new pc(e,this.params,this.statements,this.type,t,this.sourceSpan)}clone(){return new n(this.params.map(e=>e.clone()),this.statements,this.type,this.sourceSpan,this.name)}},po=class n extends Ge{params;body;constructor(e,t,i,r){super(i,r),this.params=e,this.body=t}isEquivalent(e){return!(e instanceof n)||!oi(this.params,e.params)?!1:this.body instanceof Ge&&e.body instanceof Ge?this.body.isEquivalent(e.body):Array.isArray(this.body)&&Array.isArray(e.body)?oi(this.body,e.body):!1}isConstant(){return!1}visitExpression(e,t){return e.visitArrowFunctionExpr(this,t)}clone(){return new n(this.params.map(e=>e.clone()),Array.isArray(this.body)?this.body:this.body.clone(),this.type,this.sourceSpan)}toDeclStmt(e,t){return new kn(e,this,_i,t,this.sourceSpan)}},wa=class n extends Ge{operator;expr;parens;constructor(e,t,i,r,s=!0){super(i||_g,r),this.operator=e,this.expr=t,this.parens=s}isEquivalent(e){return e instanceof n&&this.operator===e.operator&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}visitExpression(e,t){return e.visitUnaryOperatorExpr(this,t)}clone(){return new n(this.operator,this.expr.clone(),this.type,this.sourceSpan,this.parens)}},qe=class n extends Ge{operator;rhs;parens;lhs;constructor(e,t,i,r,s,o=!0){super(r||t.type,s),this.operator=e,this.rhs=i,this.parens=o,this.lhs=t}isEquivalent(e){return e instanceof n&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)}isConstant(){return!1}visitExpression(e,t){return e.visitBinaryOperatorExpr(this,t)}clone(){return new n(this.operator,this.lhs.clone(),this.rhs.clone(),this.type,this.sourceSpan,this.parens)}},ai=class n extends Ge{receiver;name;constructor(e,t,i,r){super(i,r),this.receiver=e,this.name=t}get index(){return this.name}isEquivalent(e){return e instanceof n&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name}isConstant(){return!1}visitExpression(e,t){return e.visitReadPropExpr(this,t)}set(e){return new _a(this.receiver,this.name,e,null,this.sourceSpan)}clone(){return new n(this.receiver.clone(),this.name,this.type,this.sourceSpan)}},Fr=class n extends Ge{receiver;index;constructor(e,t,i,r){super(i,r),this.receiver=e,this.index=t}isEquivalent(e){return e instanceof n&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)}isConstant(){return!1}visitExpression(e,t){return e.visitReadKeyExpr(this,t)}set(e){return new ac(this.receiver,this.index,e,null,this.sourceSpan)}clone(){return new n(this.receiver.clone(),this.index.clone(),this.type,this.sourceSpan)}},$i=class n extends Ge{entries;constructor(e,t,i){super(t,i),this.entries=e}isConstant(){return this.entries.every(e=>e.isConstant())}isEquivalent(e){return e instanceof n&&oi(this.entries,e.entries)}visitExpression(e,t){return e.visitLiteralArrayExpr(this,t)}clone(){return new n(this.entries.map(e=>e.clone()),this.type,this.sourceSpan)}},Sa=class n{key;value;quoted;constructor(e,t,i){this.key=e,this.value=t,this.quoted=i}isEquivalent(e){return this.key===e.key&&this.value.isEquivalent(e.value)}clone(){return new n(this.key,this.value.clone(),this.quoted)}},ar=class n extends Ge{entries;valueType=null;constructor(e,t,i){super(t,i),this.entries=e,t&&(this.valueType=t.valueType)}isEquivalent(e){return e instanceof n&&oi(this.entries,e.entries)}isConstant(){return this.entries.every(e=>e.value.isConstant())}visitExpression(e,t){return e.visitLiteralMapExpr(this,t)}clone(){let e=this.entries.map(t=>t.clone());return new n(e,this.type,this.sourceSpan)}};var dc=new vn(null,null,null),Zk=new vn(null,_i,null),mn=function(n){return n[n.None=0]="None",n[n.Final=1]="Final",n[n.Private=2]="Private",n[n.Exported=4]="Exported",n[n.Static=8]="Static",n}(mn||{}),Km=class{text;multiline;trailingNewline;constructor(e,t,i){this.text=e,this.multiline=t,this.trailingNewline=i}toString(){return this.multiline?` ${this.text} `:this.text}},Ad=class extends Km{tags;constructor(e){super("",!0,!0),this.tags=e}toString(){return nT(this.tags)}},ho=class{modifiers;sourceSpan;leadingComments;constructor(e=mn.None,t=null,i){this.modifiers=e,this.sourceSpan=t,this.leadingComments=i}hasModifier(e){return(this.modifiers&e)!==0}addLeadingComment(e){this.leadingComments=this.leadingComments??[],this.leadingComments.push(e)}},kn=class n extends ho{name;value;type;constructor(e,t,i,r,s,o){super(r,s,o),this.name=e,this.value=t,this.type=i||t&&t.type||null}isEquivalent(e){return e instanceof n&&this.name===e.name&&(this.value?!!e.value&&this.value.isEquivalent(e.value):!e.value)}visitStatement(e,t){return e.visitDeclareVarStmt(this,t)}},pc=class n extends ho{name;params;statements;type;constructor(e,t,i,r,s,o,a){super(s,o,a),this.name=e,this.params=t,this.statements=i,this.type=r||null}isEquivalent(e){return e instanceof n&&oi(this.params,e.params)&&oi(this.statements,e.statements)}visitStatement(e,t){return e.visitDeclareFunctionStmt(this,t)}},Ti=class n extends ho{expr;constructor(e,t,i){super(mn.None,t,i),this.expr=e}isEquivalent(e){return e instanceof n&&this.expr.isEquivalent(e.expr)}visitStatement(e,t){return e.visitExpressionStmt(this,t)}},Cn=class n extends ho{value;constructor(e,t=null,i){super(mn.None,t,i),this.value=e}isEquivalent(e){return e instanceof n&&this.value.isEquivalent(e.value)}visitStatement(e,t){return e.visitReturnStmt(this,t)}},Id=class n extends ho{condition;trueCase;falseCase;constructor(e,t,i=[],r,s){super(mn.None,r,s),this.condition=e,this.trueCase=t,this.falseCase=i}isEquivalent(e){return e instanceof n&&this.condition.isEquivalent(e.condition)&&oi(this.trueCase,e.trueCase)&&oi(this.falseCase,e.falseCase)}visitStatement(e,t){return e.visitIfStmt(this,t)}};function Kk(n=[]){return new Ad(n)}function Ie(n,e,t){return new ki(n,e,t)}function ce(n,e=null,t){return new uo(n,null,e,t)}function gn(n,e,t){return new Si(n,e,t)}function Gc(n){return new ya(n)}function We(n,e,t){return new $i(n,e,t)}function Pn(n,e=null){return new ar(n.map(t=>new Sa(t.key,t.value,t.quoted)),e,null)}function Jk(n,e){return new uc(n,e)}function ms(n,e,t,i,r){return new fs(n,e,t,i,r)}function ji(n,e,t,i){return new po(n,e,t,i)}function Fp(n,e,t,i,r){return new Id(n,e,t,i,r)}function eT(n,e,t,i){return new Cd(n,e,t,i)}function R(n,e,t){return new vn(n,e,t)}function tT(n,e,t,i,r){return new Td(n,e,t,i,r)}function Cb(n){let e="";if(n.tagName&&(e+=` @${n.tagName}`),n.text){if(n.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');e+=" "+n.text.replace(/@/g,"\\@")}return e}function nT(n){if(n.length===0)return"";if(n.length===1&&n[0].tagName&&!n[0].text)return`*${Cb(n[0])} `;let e=`*
`;for(let t of n)e+=" *",e+=Cb(t).replace(/\n/g,`
 * `),e+=`
`;return e+=" ",e}var iT="_c",kb=Ie("<unknown>"),rT={},sT=50,Md=class n extends Ge{resolved;original;shared=!1;constructor(e){super(e.type),this.resolved=e,this.original=e}visitExpression(e,t){return t===rT?this.original.visitExpression(e,t):this.resolved.visitExpression(e,t)}isEquivalent(e){return e instanceof n&&this.resolved.isEquivalent(e.resolved)}isConstant(){return!0}clone(){throw new Error("Not supported.")}fixup(e){this.resolved=e,this.shared=!0}},Pd=class{isClosureCompilerEnabled;statements=[];literals=new Map;literalFactories=new Map;sharedConstants=new Map;_claimedNames=new Map;nextNameIndex=0;constructor(e=!1){this.isClosureCompilerEnabled=e}getConstLiteral(e,t){if(e instanceof vn&&!Tb(e)||e instanceof Md)return e;let i=ga.INSTANCE.keyOf(e),r=this.literals.get(i),s=!1;if(r||(r=new Md(e),this.literals.set(i,r),s=!0),!s&&!r.shared||s&&t){let o=this.freshName(),a,l;this.isClosureCompilerEnabled&&Tb(e)?(a=Ie(o).set(new fs([],[new Cn(e)])),l=Ie(o).callFn([])):(a=Ie(o).set(e),l=Ie(o)),this.statements.push(a.toDeclStmt(_i,mn.Final)),r.fixup(l)}return r}getSharedConstant(e,t){let i=e.keyOf(t);if(!this.sharedConstants.has(i)){let r=this.freshName();this.sharedConstants.set(i,Ie(r)),this.statements.push(e.toSharedConstantDeclaration(r,t))}return this.sharedConstants.get(i)}getLiteralFactory(e){if(e instanceof $i){let t=e.entries.map(r=>r.isConstant()?r:kb),i=ga.INSTANCE.keyOf(We(t));return this._getLiteralFactory(i,e.entries,r=>We(r))}else{let t=Pn(e.entries.map(r=>({key:r.key,value:r.value.isConstant()?r.value:kb,quoted:r.quoted}))),i=ga.INSTANCE.keyOf(t);return this._getLiteralFactory(i,e.entries.map(r=>r.value),r=>Pn(r.map((s,o)=>({key:e.entries[o].key,value:s,quoted:e.entries[o].quoted}))))}}getSharedFunctionReference(e,t,i=!0){let r=e instanceof po;for(let o of this.statements)if(r&&o instanceof kn&&o.value?.isEquivalent(e)||!r&&o instanceof pc&&e instanceof fs&&e.isEquivalent(o))return Ie(o.name);let s=i?this.uniqueName(t):t;return this.statements.push(e instanceof fs?e.toDeclStmt(s,mn.Final):new kn(s,e,_i,mn.Final,e.sourceSpan)),Ie(s)}_getLiteralFactory(e,t,i){let r=this.literalFactories.get(e),s=t.filter(o=>!o.isConstant());if(!r){let o=t.map((u,f)=>u.isConstant()?this.getConstLiteral(u,!0):Ie(`a${f}`)),a=o.filter(oT).map(u=>new ln(u.name,Qc)),l=ji(a,i(o),_i),c=this.freshName();this.statements.push(Ie(c).set(l).toDeclStmt(_i,mn.Final)),r=Ie(c),this.literalFactories.set(e,r)}return{literalFactory:r,literalFactoryArguments:s}}uniqueName(e,t=!0){let i=this._claimedNames.get(e)??0,r=i===0&&!t?`${e}`:`${e}${i}`;return this._claimedNames.set(e,i+1),r}freshName(){return this.uniqueName(iT)}},ga=class n{static INSTANCE=new n;keyOf(e){if(e instanceof vn&&typeof e.value=="string")return`"${e.value}"`;if(e instanceof vn)return String(e.value);if(e instanceof $i){let t=[];for(let i of e.entries)t.push(this.keyOf(i));return`[${t.join(",")}]`}else if(e instanceof ar){let t=[];for(let i of e.entries){let r=i.key;i.quoted&&(r=`"${r}"`),t.push(r+":"+this.keyOf(i.value))}return`{${t.join(",")}}`}else{if(e instanceof uo)return`import("${e.value.moduleName}", ${e.value.name})`;if(e instanceof ki)return`read(${e.name})`;if(e instanceof ya)return`typeof(${this.keyOf(e.expr)})`;throw new Error(`${this.constructor.name} does not handle expressions of type ${e.constructor.name}`)}}};function oT(n){return n instanceof ki}function Tb(n){return n instanceof vn&&typeof n.value=="string"&&n.value.length>=sT}var A="@angular/core",C=(()=>{class n{static NEW_METHOD="factory";static TRANSFORM_METHOD="transform";static PATCH_DEPS="patchedDeps";static core={name:null,moduleName:A};static namespaceHTML={name:"\u0275\u0275namespaceHTML",moduleName:A};static namespaceMathML={name:"\u0275\u0275namespaceMathML",moduleName:A};static namespaceSVG={name:"\u0275\u0275namespaceSVG",moduleName:A};static element={name:"\u0275\u0275element",moduleName:A};static elementStart={name:"\u0275\u0275elementStart",moduleName:A};static elementEnd={name:"\u0275\u0275elementEnd",moduleName:A};static advance={name:"\u0275\u0275advance",moduleName:A};static syntheticHostProperty={name:"\u0275\u0275syntheticHostProperty",moduleName:A};static syntheticHostListener={name:"\u0275\u0275syntheticHostListener",moduleName:A};static attribute={name:"\u0275\u0275attribute",moduleName:A};static attributeInterpolate1={name:"\u0275\u0275attributeInterpolate1",moduleName:A};static attributeInterpolate2={name:"\u0275\u0275attributeInterpolate2",moduleName:A};static attributeInterpolate3={name:"\u0275\u0275attributeInterpolate3",moduleName:A};static attributeInterpolate4={name:"\u0275\u0275attributeInterpolate4",moduleName:A};static attributeInterpolate5={name:"\u0275\u0275attributeInterpolate5",moduleName:A};static attributeInterpolate6={name:"\u0275\u0275attributeInterpolate6",moduleName:A};static attributeInterpolate7={name:"\u0275\u0275attributeInterpolate7",moduleName:A};static attributeInterpolate8={name:"\u0275\u0275attributeInterpolate8",moduleName:A};static attributeInterpolateV={name:"\u0275\u0275attributeInterpolateV",moduleName:A};static classProp={name:"\u0275\u0275classProp",moduleName:A};static elementContainerStart={name:"\u0275\u0275elementContainerStart",moduleName:A};static elementContainerEnd={name:"\u0275\u0275elementContainerEnd",moduleName:A};static elementContainer={name:"\u0275\u0275elementContainer",moduleName:A};static styleMap={name:"\u0275\u0275styleMap",moduleName:A};static styleMapInterpolate1={name:"\u0275\u0275styleMapInterpolate1",moduleName:A};static styleMapInterpolate2={name:"\u0275\u0275styleMapInterpolate2",moduleName:A};static styleMapInterpolate3={name:"\u0275\u0275styleMapInterpolate3",moduleName:A};static styleMapInterpolate4={name:"\u0275\u0275styleMapInterpolate4",moduleName:A};static styleMapInterpolate5={name:"\u0275\u0275styleMapInterpolate5",moduleName:A};static styleMapInterpolate6={name:"\u0275\u0275styleMapInterpolate6",moduleName:A};static styleMapInterpolate7={name:"\u0275\u0275styleMapInterpolate7",moduleName:A};static styleMapInterpolate8={name:"\u0275\u0275styleMapInterpolate8",moduleName:A};static styleMapInterpolateV={name:"\u0275\u0275styleMapInterpolateV",moduleName:A};static classMap={name:"\u0275\u0275classMap",moduleName:A};static classMapInterpolate1={name:"\u0275\u0275classMapInterpolate1",moduleName:A};static classMapInterpolate2={name:"\u0275\u0275classMapInterpolate2",moduleName:A};static classMapInterpolate3={name:"\u0275\u0275classMapInterpolate3",moduleName:A};static classMapInterpolate4={name:"\u0275\u0275classMapInterpolate4",moduleName:A};static classMapInterpolate5={name:"\u0275\u0275classMapInterpolate5",moduleName:A};static classMapInterpolate6={name:"\u0275\u0275classMapInterpolate6",moduleName:A};static classMapInterpolate7={name:"\u0275\u0275classMapInterpolate7",moduleName:A};static classMapInterpolate8={name:"\u0275\u0275classMapInterpolate8",moduleName:A};static classMapInterpolateV={name:"\u0275\u0275classMapInterpolateV",moduleName:A};static styleProp={name:"\u0275\u0275styleProp",moduleName:A};static stylePropInterpolate1={name:"\u0275\u0275stylePropInterpolate1",moduleName:A};static stylePropInterpolate2={name:"\u0275\u0275stylePropInterpolate2",moduleName:A};static stylePropInterpolate3={name:"\u0275\u0275stylePropInterpolate3",moduleName:A};static stylePropInterpolate4={name:"\u0275\u0275stylePropInterpolate4",moduleName:A};static stylePropInterpolate5={name:"\u0275\u0275stylePropInterpolate5",moduleName:A};static stylePropInterpolate6={name:"\u0275\u0275stylePropInterpolate6",moduleName:A};static stylePropInterpolate7={name:"\u0275\u0275stylePropInterpolate7",moduleName:A};static stylePropInterpolate8={name:"\u0275\u0275stylePropInterpolate8",moduleName:A};static stylePropInterpolateV={name:"\u0275\u0275stylePropInterpolateV",moduleName:A};static nextContext={name:"\u0275\u0275nextContext",moduleName:A};static resetView={name:"\u0275\u0275resetView",moduleName:A};static templateCreate={name:"\u0275\u0275template",moduleName:A};static defer={name:"\u0275\u0275defer",moduleName:A};static deferWhen={name:"\u0275\u0275deferWhen",moduleName:A};static deferOnIdle={name:"\u0275\u0275deferOnIdle",moduleName:A};static deferOnImmediate={name:"\u0275\u0275deferOnImmediate",moduleName:A};static deferOnTimer={name:"\u0275\u0275deferOnTimer",moduleName:A};static deferOnHover={name:"\u0275\u0275deferOnHover",moduleName:A};static deferOnInteraction={name:"\u0275\u0275deferOnInteraction",moduleName:A};static deferOnViewport={name:"\u0275\u0275deferOnViewport",moduleName:A};static deferPrefetchWhen={name:"\u0275\u0275deferPrefetchWhen",moduleName:A};static deferPrefetchOnIdle={name:"\u0275\u0275deferPrefetchOnIdle",moduleName:A};static deferPrefetchOnImmediate={name:"\u0275\u0275deferPrefetchOnImmediate",moduleName:A};static deferPrefetchOnTimer={name:"\u0275\u0275deferPrefetchOnTimer",moduleName:A};static deferPrefetchOnHover={name:"\u0275\u0275deferPrefetchOnHover",moduleName:A};static deferPrefetchOnInteraction={name:"\u0275\u0275deferPrefetchOnInteraction",moduleName:A};static deferPrefetchOnViewport={name:"\u0275\u0275deferPrefetchOnViewport",moduleName:A};static deferHydrateWhen={name:"\u0275\u0275deferHydrateWhen",moduleName:A};static deferHydrateNever={name:"\u0275\u0275deferHydrateNever",moduleName:A};static deferHydrateOnIdle={name:"\u0275\u0275deferHydrateOnIdle",moduleName:A};static deferHydrateOnImmediate={name:"\u0275\u0275deferHydrateOnImmediate",moduleName:A};static deferHydrateOnTimer={name:"\u0275\u0275deferHydrateOnTimer",moduleName:A};static deferHydrateOnHover={name:"\u0275\u0275deferHydrateOnHover",moduleName:A};static deferHydrateOnInteraction={name:"\u0275\u0275deferHydrateOnInteraction",moduleName:A};static deferHydrateOnViewport={name:"\u0275\u0275deferHydrateOnViewport",moduleName:A};static deferEnableTimerScheduling={name:"\u0275\u0275deferEnableTimerScheduling",moduleName:A};static conditional={name:"\u0275\u0275conditional",moduleName:A};static repeater={name:"\u0275\u0275repeater",moduleName:A};static repeaterCreate={name:"\u0275\u0275repeaterCreate",moduleName:A};static repeaterTrackByIndex={name:"\u0275\u0275repeaterTrackByIndex",moduleName:A};static repeaterTrackByIdentity={name:"\u0275\u0275repeaterTrackByIdentity",moduleName:A};static componentInstance={name:"\u0275\u0275componentInstance",moduleName:A};static text={name:"\u0275\u0275text",moduleName:A};static enableBindings={name:"\u0275\u0275enableBindings",moduleName:A};static disableBindings={name:"\u0275\u0275disableBindings",moduleName:A};static getCurrentView={name:"\u0275\u0275getCurrentView",moduleName:A};static textInterpolate={name:"\u0275\u0275textInterpolate",moduleName:A};static textInterpolate1={name:"\u0275\u0275textInterpolate1",moduleName:A};static textInterpolate2={name:"\u0275\u0275textInterpolate2",moduleName:A};static textInterpolate3={name:"\u0275\u0275textInterpolate3",moduleName:A};static textInterpolate4={name:"\u0275\u0275textInterpolate4",moduleName:A};static textInterpolate5={name:"\u0275\u0275textInterpolate5",moduleName:A};static textInterpolate6={name:"\u0275\u0275textInterpolate6",moduleName:A};static textInterpolate7={name:"\u0275\u0275textInterpolate7",moduleName:A};static textInterpolate8={name:"\u0275\u0275textInterpolate8",moduleName:A};static textInterpolateV={name:"\u0275\u0275textInterpolateV",moduleName:A};static restoreView={name:"\u0275\u0275restoreView",moduleName:A};static pureFunction0={name:"\u0275\u0275pureFunction0",moduleName:A};static pureFunction1={name:"\u0275\u0275pureFunction1",moduleName:A};static pureFunction2={name:"\u0275\u0275pureFunction2",moduleName:A};static pureFunction3={name:"\u0275\u0275pureFunction3",moduleName:A};static pureFunction4={name:"\u0275\u0275pureFunction4",moduleName:A};static pureFunction5={name:"\u0275\u0275pureFunction5",moduleName:A};static pureFunction6={name:"\u0275\u0275pureFunction6",moduleName:A};static pureFunction7={name:"\u0275\u0275pureFunction7",moduleName:A};static pureFunction8={name:"\u0275\u0275pureFunction8",moduleName:A};static pureFunctionV={name:"\u0275\u0275pureFunctionV",moduleName:A};static pipeBind1={name:"\u0275\u0275pipeBind1",moduleName:A};static pipeBind2={name:"\u0275\u0275pipeBind2",moduleName:A};static pipeBind3={name:"\u0275\u0275pipeBind3",moduleName:A};static pipeBind4={name:"\u0275\u0275pipeBind4",moduleName:A};static pipeBindV={name:"\u0275\u0275pipeBindV",moduleName:A};static hostProperty={name:"\u0275\u0275hostProperty",moduleName:A};static property={name:"\u0275\u0275property",moduleName:A};static propertyInterpolate={name:"\u0275\u0275propertyInterpolate",moduleName:A};static propertyInterpolate1={name:"\u0275\u0275propertyInterpolate1",moduleName:A};static propertyInterpolate2={name:"\u0275\u0275propertyInterpolate2",moduleName:A};static propertyInterpolate3={name:"\u0275\u0275propertyInterpolate3",moduleName:A};static propertyInterpolate4={name:"\u0275\u0275propertyInterpolate4",moduleName:A};static propertyInterpolate5={name:"\u0275\u0275propertyInterpolate5",moduleName:A};static propertyInterpolate6={name:"\u0275\u0275propertyInterpolate6",moduleName:A};static propertyInterpolate7={name:"\u0275\u0275propertyInterpolate7",moduleName:A};static propertyInterpolate8={name:"\u0275\u0275propertyInterpolate8",moduleName:A};static propertyInterpolateV={name:"\u0275\u0275propertyInterpolateV",moduleName:A};static i18n={name:"\u0275\u0275i18n",moduleName:A};static i18nAttributes={name:"\u0275\u0275i18nAttributes",moduleName:A};static i18nExp={name:"\u0275\u0275i18nExp",moduleName:A};static i18nStart={name:"\u0275\u0275i18nStart",moduleName:A};static i18nEnd={name:"\u0275\u0275i18nEnd",moduleName:A};static i18nApply={name:"\u0275\u0275i18nApply",moduleName:A};static i18nPostprocess={name:"\u0275\u0275i18nPostprocess",moduleName:A};static pipe={name:"\u0275\u0275pipe",moduleName:A};static projection={name:"\u0275\u0275projection",moduleName:A};static projectionDef={name:"\u0275\u0275projectionDef",moduleName:A};static reference={name:"\u0275\u0275reference",moduleName:A};static inject={name:"\u0275\u0275inject",moduleName:A};static injectAttribute={name:"\u0275\u0275injectAttribute",moduleName:A};static directiveInject={name:"\u0275\u0275directiveInject",moduleName:A};static invalidFactory={name:"\u0275\u0275invalidFactory",moduleName:A};static invalidFactoryDep={name:"\u0275\u0275invalidFactoryDep",moduleName:A};static templateRefExtractor={name:"\u0275\u0275templateRefExtractor",moduleName:A};static forwardRef={name:"forwardRef",moduleName:A};static resolveForwardRef={name:"resolveForwardRef",moduleName:A};static replaceMetadata={name:"\u0275\u0275replaceMetadata",moduleName:A};static getReplaceMetadataURL={name:"\u0275\u0275getReplaceMetadataURL",moduleName:A};static \u0275\u0275defineInjectable={name:"\u0275\u0275defineInjectable",moduleName:A};static declareInjectable={name:"\u0275\u0275ngDeclareInjectable",moduleName:A};static InjectableDeclaration={name:"\u0275\u0275InjectableDeclaration",moduleName:A};static resolveWindow={name:"\u0275\u0275resolveWindow",moduleName:A};static resolveDocument={name:"\u0275\u0275resolveDocument",moduleName:A};static resolveBody={name:"\u0275\u0275resolveBody",moduleName:A};static getComponentDepsFactory={name:"\u0275\u0275getComponentDepsFactory",moduleName:A};static defineComponent={name:"\u0275\u0275defineComponent",moduleName:A};static declareComponent={name:"\u0275\u0275ngDeclareComponent",moduleName:A};static setComponentScope={name:"\u0275\u0275setComponentScope",moduleName:A};static ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:A};static ViewEncapsulation={name:"ViewEncapsulation",moduleName:A};static ComponentDeclaration={name:"\u0275\u0275ComponentDeclaration",moduleName:A};static FactoryDeclaration={name:"\u0275\u0275FactoryDeclaration",moduleName:A};static declareFactory={name:"\u0275\u0275ngDeclareFactory",moduleName:A};static FactoryTarget={name:"\u0275\u0275FactoryTarget",moduleName:A};static defineDirective={name:"\u0275\u0275defineDirective",moduleName:A};static declareDirective={name:"\u0275\u0275ngDeclareDirective",moduleName:A};static DirectiveDeclaration={name:"\u0275\u0275DirectiveDeclaration",moduleName:A};static InjectorDef={name:"\u0275\u0275InjectorDef",moduleName:A};static InjectorDeclaration={name:"\u0275\u0275InjectorDeclaration",moduleName:A};static defineInjector={name:"\u0275\u0275defineInjector",moduleName:A};static declareInjector={name:"\u0275\u0275ngDeclareInjector",moduleName:A};static NgModuleDeclaration={name:"\u0275\u0275NgModuleDeclaration",moduleName:A};static ModuleWithProviders={name:"ModuleWithProviders",moduleName:A};static defineNgModule={name:"\u0275\u0275defineNgModule",moduleName:A};static declareNgModule={name:"\u0275\u0275ngDeclareNgModule",moduleName:A};static setNgModuleScope={name:"\u0275\u0275setNgModuleScope",moduleName:A};static registerNgModuleType={name:"\u0275\u0275registerNgModuleType",moduleName:A};static PipeDeclaration={name:"\u0275\u0275PipeDeclaration",moduleName:A};static definePipe={name:"\u0275\u0275definePipe",moduleName:A};static declarePipe={name:"\u0275\u0275ngDeclarePipe",moduleName:A};static declareClassMetadata={name:"\u0275\u0275ngDeclareClassMetadata",moduleName:A};static declareClassMetadataAsync={name:"\u0275\u0275ngDeclareClassMetadataAsync",moduleName:A};static setClassMetadata={name:"\u0275setClassMetadata",moduleName:A};static setClassMetadataAsync={name:"\u0275setClassMetadataAsync",moduleName:A};static setClassDebugInfo={name:"\u0275setClassDebugInfo",moduleName:A};static queryRefresh={name:"\u0275\u0275queryRefresh",moduleName:A};static viewQuery={name:"\u0275\u0275viewQuery",moduleName:A};static loadQuery={name:"\u0275\u0275loadQuery",moduleName:A};static contentQuery={name:"\u0275\u0275contentQuery",moduleName:A};static viewQuerySignal={name:"\u0275\u0275viewQuerySignal",moduleName:A};static contentQuerySignal={name:"\u0275\u0275contentQuerySignal",moduleName:A};static queryAdvance={name:"\u0275\u0275queryAdvance",moduleName:A};static twoWayProperty={name:"\u0275\u0275twoWayProperty",moduleName:A};static twoWayBindingSet={name:"\u0275\u0275twoWayBindingSet",moduleName:A};static twoWayListener={name:"\u0275\u0275twoWayListener",moduleName:A};static declareLet={name:"\u0275\u0275declareLet",moduleName:A};static storeLet={name:"\u0275\u0275storeLet",moduleName:A};static readContextLet={name:"\u0275\u0275readContextLet",moduleName:A};static attachSourceLocations={name:"\u0275\u0275attachSourceLocations",moduleName:A};static NgOnChangesFeature={name:"\u0275\u0275NgOnChangesFeature",moduleName:A};static InheritDefinitionFeature={name:"\u0275\u0275InheritDefinitionFeature",moduleName:A};static CopyDefinitionFeature={name:"\u0275\u0275CopyDefinitionFeature",moduleName:A};static ProvidersFeature={name:"\u0275\u0275ProvidersFeature",moduleName:A};static HostDirectivesFeature={name:"\u0275\u0275HostDirectivesFeature",moduleName:A};static ExternalStylesFeature={name:"\u0275\u0275ExternalStylesFeature",moduleName:A};static listener={name:"\u0275\u0275listener",moduleName:A};static getInheritedFactory={name:"\u0275\u0275getInheritedFactory",moduleName:A};static sanitizeHtml={name:"\u0275\u0275sanitizeHtml",moduleName:A};static sanitizeStyle={name:"\u0275\u0275sanitizeStyle",moduleName:A};static sanitizeResourceUrl={name:"\u0275\u0275sanitizeResourceUrl",moduleName:A};static sanitizeScript={name:"\u0275\u0275sanitizeScript",moduleName:A};static sanitizeUrl={name:"\u0275\u0275sanitizeUrl",moduleName:A};static sanitizeUrlOrResourceUrl={name:"\u0275\u0275sanitizeUrlOrResourceUrl",moduleName:A};static trustConstantHtml={name:"\u0275\u0275trustConstantHtml",moduleName:A};static trustConstantResourceUrl={name:"\u0275\u0275trustConstantResourceUrl",moduleName:A};static validateIframeAttribute={name:"\u0275\u0275validateIframeAttribute",moduleName:A};static InputSignalBrandWriteType={name:"\u0275INPUT_SIGNAL_BRAND_WRITE_TYPE",moduleName:A};static UnwrapDirectiveSignalInputs={name:"\u0275UnwrapDirectiveSignalInputs",moduleName:A};static unwrapWritableSignal={name:"\u0275unwrapWritableSignal",moduleName:A}}return n})(),aT=/-+([a-z0-9])/g;function lT(n){return n.replace(aT,(...e)=>e[1].toUpperCase())}function cT(n,e){return t2(n,":",e)}function uT(n,e){return t2(n,".",e)}function t2(n,e,t){let i=n.indexOf(e);return i==-1?t:[n.slice(0,i).trim(),n.slice(i+1).trim()]}function dT(n){let e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i>=55296&&i<=56319&&n.length>t+1){let r=n.charCodeAt(t+1);r>=56320&&r<=57343&&(t++,i=(i-55296<<10)+r-56320+65536)}i<=127?e.push(i):i<=2047?e.push(i>>6&31|192,i&63|128):i<=65535?e.push(i>>12|224,i>>6&63|128,i&63|128):i<=2097151&&e.push(i>>18&7|240,i>>12&63|128,i>>6&63|128,i&63|128)}return e}function n2(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(n2).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;if(!n.toString)return"object";let t=n.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i>=0?t.slice(0,i):t}var Jm=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Zl=globalThis,pT=/^([1-9]|1[0-8])\./;function i2(n){return n.startsWith("0.")?!0:!pT.test(n)}var hT=3,fT="# sourceMappingURL=data:application/json;base64,",e0=class{file;sourcesContent=new Map;lines=[];lastCol0=0;hasMappings=!1;constructor(e=null){this.file=e}addSource(e,t=null){return this.sourcesContent.has(e)||this.sourcesContent.set(e,t),this}addLine(){return this.lines.push([]),this.lastCol0=0,this}addMapping(e,t,i,r){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(t!=null&&!this.sourcesContent.has(t))throw new Error(`Unknown source file "${t}"`);if(e==null)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(t&&(i==null||r==null))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:t,sourceLine0:i,sourceCol0:r}),this}get currentLine(){return this.lines.slice(-1)[0]}toJSON(){if(!this.hasMappings)return null;let e=new Map,t=[],i=[];Array.from(this.sourcesContent.keys()).forEach((c,u)=>{e.set(c,u),t.push(c),i.push(this.sourcesContent.get(c)||null)});let r="",s=0,o=0,a=0,l=0;return this.lines.forEach(c=>{s=0,r+=c.map(u=>{let f=ad(u.col0-s);return s=u.col0,u.sourceUrl!=null&&(f+=ad(e.get(u.sourceUrl)-o),o=e.get(u.sourceUrl),f+=ad(u.sourceLine0-a),a=u.sourceLine0,f+=ad(u.sourceCol0-l),l=u.sourceCol0),f}).join(","),r+=";"}),r=r.slice(0,-1),{file:this.file||"",version:hT,sourceRoot:"",sources:t,sourcesContent:i,mappings:r}}toJsComment(){return this.hasMappings?"//"+fT+mT(JSON.stringify(this,null,0)):""}};function mT(n){let e="",t=dT(n);for(let i=0;i<t.length;){let r=t[i++],s=i<t.length?t[i++]:null,o=i<t.length?t[i++]:null;e+=Ql(r>>2),e+=Ql((r&3)<<4|(s===null?0:s>>4)),e+=s===null?"=":Ql((s&15)<<2|(o===null?0:o>>6)),e+=s===null||o===null?"=":Ql(o&63)}return e}function ad(n){n=n<0?(-n<<1)+1:n<<1;let e="";do{let t=n&31;n=n>>5,n>0&&(t=t|32),e+=Ql(t)}while(n>0);return e}var gT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Ql(n){if(n<0||n>=64)throw new Error("Can only encode value in the range [0, 63]");return gT[n]}var vT=/'|\\|\n|\r|\$/g,xT=/^[$A-Z_][0-9A-Z_$]*$/i,t0="  ",Dd=class{indent;partsLength=0;parts=[];srcSpans=[];constructor(e){this.indent=e}},n0=class n{_indent;static createRoot(){return new n(0)}_lines;constructor(e){this._indent=e,this._lines=[new Dd(e)]}get _currentLine(){return this._lines[this._lines.length-1]}println(e,t=""){this.print(e||null,t,!0)}lineIsEmpty(){return this._currentLine.parts.length===0}lineLength(){return this._currentLine.indent*t0.length+this._currentLine.partsLength}print(e,t,i=!1){t.length>0&&(this._currentLine.parts.push(t),this._currentLine.partsLength+=t.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),i&&this._lines.push(new Dd(this._indent))}removeEmptyLastLine(){this.lineIsEmpty()&&this._lines.pop()}incIndent(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}decIndent(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}toSource(){return this.sourceLines.map(e=>e.parts.length>0?Ab(e.indent)+e.parts.join(""):"").join(`
`)}toSourceMapGenerator(e,t=0){let i=new e0(e),r=!1,s=()=>{r||(i.addSource(e," ").addMapping(0,e,0,0),r=!0)};for(let o=0;o<t;o++)i.addLine(),s();return this.sourceLines.forEach((o,a)=>{i.addLine();let l=o.srcSpans,c=o.parts,u=o.indent*t0.length,f=0;for(;f<l.length&&!l[f];)u+=c[f].length,f++;for(f<l.length&&a===0&&u===0?r=!0:s();f<l.length;){let m=l[f],v=m.start.file,b=m.start.line,w=m.start.col;for(i.addSource(v.url,v.content).addMapping(u,v.url,b,w),u+=c[f].length,f++;f<l.length&&(m===l[f]||!l[f]);)u+=c[f].length,f++}}),i}spanOf(e,t){let i=this._lines[e];if(i){let r=t-Ab(i.indent).length;for(let s=0;s<i.parts.length;s++){let o=i.parts[s];if(o.length>r)return i.srcSpans[s];r-=o.length}}return null}get sourceLines(){return this._lines.length&&this._lines[this._lines.length-1].parts.length===0?this._lines.slice(0,-1):this._lines}},i0=class{_escapeDollarInStrings;constructor(e){this._escapeDollarInStrings=e}printLeadingComments(e,t){if(e.leadingComments!==void 0)for(let i of e.leadingComments)i instanceof Ad?t.print(e,`/*${i.toString()}*/`,i.trailingNewline):i.multiline?t.print(e,`/* ${i.text} */`,i.trailingNewline):i.text.split(`
`).forEach(r=>{t.println(e,`// ${r}`)})}visitExpressionStmt(e,t){return this.printLeadingComments(e,t),e.expr.visitExpression(this,t),t.println(e,";"),null}visitReturnStmt(e,t){return this.printLeadingComments(e,t),t.print(e,"return "),e.value.visitExpression(this,t),t.println(e,";"),null}visitIfStmt(e,t){this.printLeadingComments(e,t),t.print(e,"if ("),e.condition.visitExpression(this,t),t.print(e,") {");let i=e.falseCase!=null&&e.falseCase.length>0;return e.trueCase.length<=1&&!i?(t.print(e," "),this.visitAllStatements(e.trueCase,t),t.removeEmptyLastLine(),t.print(e," ")):(t.println(),t.incIndent(),this.visitAllStatements(e.trueCase,t),t.decIndent(),i&&(t.println(e,"} else {"),t.incIndent(),this.visitAllStatements(e.falseCase,t),t.decIndent())),t.println(e,"}"),null}visitWriteVarExpr(e,t){let i=t.lineIsEmpty();return i||t.print(e,"("),t.print(e,`${e.name} = `),e.value.visitExpression(this,t),i||t.print(e,")"),null}visitWriteKeyExpr(e,t){let i=t.lineIsEmpty();return i||t.print(e,"("),e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"] = "),e.value.visitExpression(this,t),i||t.print(e,")"),null}visitWritePropExpr(e,t){let i=t.lineIsEmpty();return i||t.print(e,"("),e.receiver.visitExpression(this,t),t.print(e,`.${e.name} = `),e.value.visitExpression(this,t),i||t.print(e,")"),null}visitInvokeFunctionExpr(e,t){let i=e.fn instanceof po;return i&&t.print(e.fn,"("),e.fn.visitExpression(this,t),i&&t.print(e.fn,")"),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}visitTaggedTemplateLiteralExpr(e,t){return e.tag.visitExpression(this,t),e.template.visitExpression(this,t),null}visitTemplateLiteralExpr(e,t){t.print(e,"`");for(let i=0;i<e.elements.length;i++){e.elements[i].visitExpression(this,t);let r=i<e.expressions.length?e.expressions[i]:null;r!==null&&(t.print(r,"${"),r.visitExpression(this,t),t.print(r,"}"))}t.print(e,"`")}visitTemplateLiteralElementExpr(e,t){t.print(e,e.rawText)}visitWrappedNodeExpr(e,t){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}visitTypeofExpr(e,t){t.print(e,"typeof "),e.expr.visitExpression(this,t)}visitReadVarExpr(e,t){return t.print(e,e.name),null}visitInstantiateExpr(e,t){return t.print(e,"new "),e.classExpr.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}visitLiteralExpr(e,t){let i=e.value;return typeof i=="string"?t.print(e,Ks(i,this._escapeDollarInStrings)):t.print(e,`${i}`),null}visitLocalizedString(e,t){let i=e.serializeI18nHead();t.print(e,"$localize `"+i.raw);for(let r=1;r<e.messageParts.length;r++)t.print(e,"${"),e.expressions[r-1].visitExpression(this,t),t.print(e,`}${e.serializeI18nTemplatePart(r).raw}`);return t.print(e,"`"),null}visitConditionalExpr(e,t){return t.print(e,"("),e.condition.visitExpression(this,t),t.print(e,"? "),e.trueCase.visitExpression(this,t),t.print(e,": "),e.falseCase.visitExpression(this,t),t.print(e,")"),null}visitDynamicImportExpr(e,t){t.print(e,`import(${e.url})`)}visitNotExpr(e,t){return t.print(e,"!"),e.condition.visitExpression(this,t),null}visitUnaryOperatorExpr(e,t){let i;switch(e.operator){case oc.Plus:i="+";break;case oc.Minus:i="-";break;default:throw new Error(`Unknown operator ${e.operator}`)}return e.parens&&t.print(e,"("),t.print(e,i),e.expr.visitExpression(this,t),e.parens&&t.print(e,")"),null}visitBinaryOperatorExpr(e,t){let i;switch(e.operator){case te.Equals:i="==";break;case te.Identical:i="===";break;case te.NotEquals:i="!=";break;case te.NotIdentical:i="!==";break;case te.And:i="&&";break;case te.BitwiseOr:i="|";break;case te.BitwiseAnd:i="&";break;case te.Or:i="||";break;case te.Plus:i="+";break;case te.Minus:i="-";break;case te.Divide:i="/";break;case te.Multiply:i="*";break;case te.Modulo:i="%";break;case te.Lower:i="<";break;case te.LowerEquals:i="<=";break;case te.Bigger:i=">";break;case te.BiggerEquals:i=">=";break;case te.NullishCoalesce:i="??";break;default:throw new Error(`Unknown operator ${e.operator}`)}return e.parens&&t.print(e,"("),e.lhs.visitExpression(this,t),t.print(e,` ${i} `),e.rhs.visitExpression(this,t),e.parens&&t.print(e,")"),null}visitReadPropExpr(e,t){return e.receiver.visitExpression(this,t),t.print(e,"."),t.print(e,e.name),null}visitReadKeyExpr(e,t){return e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"]"),null}visitLiteralArrayExpr(e,t){return t.print(e,"["),this.visitAllExpressions(e.entries,t,","),t.print(e,"]"),null}visitLiteralMapExpr(e,t){return t.print(e,"{"),this.visitAllObjects(i=>{t.print(e,`${Ks(i.key,this._escapeDollarInStrings,i.quoted)}:`),i.value.visitExpression(this,t)},e.entries,t,","),t.print(e,"}"),null}visitCommaExpr(e,t){return t.print(e,"("),this.visitAllExpressions(e.parts,t,","),t.print(e,")"),null}visitAllExpressions(e,t,i){this.visitAllObjects(r=>r.visitExpression(this,t),e,t,i)}visitAllObjects(e,t,i,r){let s=!1;for(let o=0;o<t.length;o++)o>0&&(i.lineLength()>80?(i.print(null,r,!0),s||(i.incIndent(),i.incIndent(),s=!0)):i.print(null,r,!1)),e(t[o]);s&&(i.decIndent(),i.decIndent())}visitAllStatements(e,t){e.forEach(i=>i.visitStatement(this,t))}};function Ks(n,e,t=!0){if(n==null)return null;let i=n.replace(vT,(...s)=>s[0]=="$"?e?"\\$":"$":s[0]==`
`?"\\n":s[0]=="\r"?"\\r":`\\${s[0]}`);return t||!xT.test(i)?`'${i}'`:i}function Ab(n){let e="";for(let t=0;t<n;t++)e+=t0;return e}function Bp(n,e){if(e===0)return gn(n);let t=[];for(let i=0;i<e;i++)t.push(Qc);return gn(n,void 0,t)}function bT(n,e){let t=Ks(e,!1,!1);return t!==e?`${n}[${t}]`:`${n}.${e}`}function yT(n){return _T("ngJitMode",n)}function _T(n,e){let t=new uo({name:n,moduleName:null}),i=new qe(te.Identical,new ya(t),R("undefined")),r=new qe(te.Or,i,t,void 0,void 0,!0);return new qe(te.And,r,e)}function Zt(n){let e=new Le(n);return{value:e,type:e}}function Js(n,e){let t=We(n.map(i=>i.value));return e?ji([],t):t}function Sg(n,e){return{expression:n,forwardRef:e}}function wT({expression:n,forwardRef:e}){switch(e){case 0:case 1:return n;case 2:return ST(n)}}function ST(n){return ce(C.forwardRef).callFn([ji([],n)])}var Nd=function(n){return n[n.Class=0]="Class",n[n.Function=1]="Function",n}(Nd||{});function Xs(n){let e=Ie("__ngFactoryType__"),t=null,i=Mb(n)?e:new qe(te.Or,e,n.type.value),r=null;n.deps!==null?n.deps!=="invalid"&&(r=new lc(i,Ib(n.deps,n.target))):(t=Ie(`\u0275${n.name}_BaseFactory`),r=t.callFn([i]));let s=[],o=null;function a(c){let u=Ie("__ngConditionalFactory__");s.push(u.set(dc).toDeclStmt());let f=r!==null?u.set(r).toStmt():ce(C.invalidFactory).callFn([]).toStmt();return s.push(Fp(e,[f],[u.set(c).toStmt()])),u}if(Mb(n)){let c=Ib(n.delegateDeps,n.target),u=new(n.delegateType===Nd.Class?lc:Un)(n.delegate,c);o=a(u)}else AT(n)?o=a(n.expression):o=r;if(o===null)s.push(ce(C.invalidFactory).callFn([]).toStmt());else if(t!==null){let c=ce(C.getInheritedFactory).callFn([n.type.value]),u=new qe(te.Or,t,t.set(c));s.push(new Cn(u.callFn([i])))}else s.push(new Cn(o));let l=ms([new ln(e.name,Qc)],s,_i,void 0,`${n.name}_Factory`);return t!==null&&(l=ji([],[new kn(t.name),new Cn(l)]).callFn([],void 0,!0)),{expression:l,statements:[],type:ET(n)}}function ET(n){let e=n.deps!==null&&n.deps!=="invalid"?kT(n.deps):or;return gn(ce(C.FactoryDeclaration,[Bp(n.type.type,n.typeArgumentCount),e]))}function Ib(n,e){return n.map((t,i)=>CT(t,e,i))}function CT(n,e,t){if(n.token===null)return ce(C.invalidFactoryDep).callFn([R(t)]);if(n.attributeNameType===null){let i=0|(n.self?2:0)|(n.skipSelf?4:0)|(n.host?1:0)|(n.optional?8:0)|(e===Ir.Pipe?16:0),r=i!==0||n.optional?R(i):null,s=[n.token];r&&s.push(r);let o=IT(e);return ce(o).callFn(s)}else return ce(C.injectAttribute).callFn([n.token])}function kT(n){let e=!1,t=n.map(i=>{let r=TT(i);return r!==null?(e=!0,r):R(null)});return e?gn(We(t)):or}function TT(n){let e=[];return n.attributeNameType!==null&&e.push({key:"attribute",value:n.attributeNameType,quoted:!1}),n.optional&&e.push({key:"optional",value:R(!0),quoted:!1}),n.host&&e.push({key:"host",value:R(!0),quoted:!1}),n.self&&e.push({key:"self",value:R(!0),quoted:!1}),n.skipSelf&&e.push({key:"skipSelf",value:R(!0),quoted:!1}),e.length>0?Pn(e):null}function Mb(n){return n.delegateType!==void 0}function AT(n){return n.expression!==void 0}function IT(n){switch(n){case Ir.Component:case Ir.Directive:case Ir.Pipe:return C.directiveInject;case Ir.NgModule:case Ir.Injectable:default:return C.inject}}var hc=class{input;errLocation;ctxLocation;message;constructor(e,t,i,r){this.input=t,this.errLocation=i,this.ctxLocation=r,this.message=`Parser Error: ${e} ${i} [${t}] in ${r}`}},fo=class{start;end;constructor(e,t){this.start=e,this.end=t}toAbsolute(e){return new ii(e+this.start,e+this.end)}},At=class{span;sourceSpan;constructor(e,t){this.span=e,this.sourceSpan=t}toString(){return"AST"}},Ea=class extends At{nameSpan;constructor(e,t,i){super(e,t),this.nameSpan=i}},jn=class extends At{visit(e,t=null){}},Ei=class extends At{visit(e,t=null){return e.visitImplicitReceiver(this,t)}},mo=class extends Ei{visit(e,t=null){return e.visitThisReceiver?.(this,t)}},Ca=class extends At{expressions;constructor(e,t,i){super(e,t),this.expressions=i}visit(e,t=null){return e.visitChain(this,t)}},Ld=class extends At{condition;trueExp;falseExp;constructor(e,t,i,r,s){super(e,t),this.condition=i,this.trueExp=r,this.falseExp=s}visit(e,t=null){return e.visitConditional(this,t)}},go=class extends Ea{receiver;name;constructor(e,t,i,r,s){super(e,t,i),this.receiver=r,this.name=s}visit(e,t=null){return e.visitPropertyRead(this,t)}},Od=class extends Ea{receiver;name;value;constructor(e,t,i,r,s,o){super(e,t,i),this.receiver=r,this.name=s,this.value=o}visit(e,t=null){return e.visitPropertyWrite(this,t)}},Rd=class extends Ea{receiver;name;constructor(e,t,i,r,s){super(e,t,i),this.receiver=r,this.name=s}visit(e,t=null){return e.visitSafePropertyRead(this,t)}},fc=class extends At{receiver;key;constructor(e,t,i,r){super(e,t),this.receiver=i,this.key=r}visit(e,t=null){return e.visitKeyedRead(this,t)}},Fd=class extends At{receiver;key;constructor(e,t,i,r){super(e,t),this.receiver=i,this.key=r}visit(e,t=null){return e.visitSafeKeyedRead(this,t)}},Bd=class extends At{receiver;key;value;constructor(e,t,i,r,s){super(e,t),this.receiver=i,this.key=r,this.value=s}visit(e,t=null){return e.visitKeyedWrite(this,t)}},Vd=class extends Ea{exp;name;args;constructor(e,t,i,r,s,o){super(e,t,o),this.exp=i,this.name=r,this.args=s}visit(e,t=null){return e.visitPipe(this,t)}},gi=class extends At{value;constructor(e,t,i){super(e,t),this.value=i}visit(e,t=null){return e.visitLiteralPrimitive(this,t)}},$d=class extends At{expressions;constructor(e,t,i){super(e,t),this.expressions=i}visit(e,t=null){return e.visitLiteralArray(this,t)}},jd=class extends At{keys;values;constructor(e,t,i,r){super(e,t),this.keys=i,this.values=r}visit(e,t=null){return e.visitLiteralMap(this,t)}},Yc=class extends At{strings;expressions;constructor(e,t,i,r){super(e,t),this.strings=i,this.expressions=r}visit(e,t=null){return e.visitInterpolation(this,t)}},Fi=class extends At{operation;left;right;constructor(e,t,i,r,s){super(e,t),this.operation=i,this.left=r,this.right=s}visit(e,t=null){return e.visitBinary(this,t)}},mc=class n extends Fi{operator;expr;left=null;right=null;operation=null;static createMinus(e,t,i){return new n(e,t,"-",i,"-",new gi(e,t,0),i)}static createPlus(e,t,i){return new n(e,t,"+",i,"-",i,new gi(e,t,0))}constructor(e,t,i,r,s,o,a){super(e,t,s,o,a),this.operator=i,this.expr=r}visit(e,t=null){return e.visitUnary!==void 0?e.visitUnary(this,t):e.visitBinary(this,t)}},qd=class extends At{expression;constructor(e,t,i){super(e,t),this.expression=i}visit(e,t=null){return e.visitPrefixNot(this,t)}},Hd=class extends At{expression;constructor(e,t,i){super(e,t),this.expression=i}visit(e,t=null){return e.visitTypeofExpression(this,t)}},gc=class extends At{expression;constructor(e,t,i){super(e,t),this.expression=i}visit(e,t=null){return e.visitNonNullAssert(this,t)}},vc=class extends At{receiver;args;argumentSpan;constructor(e,t,i,r,s){super(e,t),this.receiver=i,this.args=r,this.argumentSpan=s}visit(e,t=null){return e.visitCall(this,t)}},Ud=class extends At{receiver;args;argumentSpan;constructor(e,t,i,r,s){super(e,t),this.receiver=i,this.args=r,this.argumentSpan=s}visit(e,t=null){return e.visitSafeCall(this,t)}},xc=class extends At{elements;expressions;constructor(e,t,i,r){super(e,t),this.elements=i,this.expressions=r}visit(e,t){return e.visitTemplateLiteral(this,t)}},zd=class extends At{text;constructor(e,t,i){super(e,t),this.text=i}visit(e,t){return e.visitTemplateLiteralElement(this,t)}},ii=class{start;end;constructor(e,t){this.start=e,this.end=t}},xi=class extends At{ast;source;location;errors;constructor(e,t,i,r,s){super(new fo(0,t===null?0:t.length),new ii(r,t===null?r:r+t.length)),this.ast=e,this.source=t,this.location=i,this.errors=s}visit(e,t=null){return e.visitASTWithSource?e.visitASTWithSource(this,t):this.ast.visit(e,t)}toString(){return`${this.source} in ${this.location}`}},bc=class{sourceSpan;key;value;constructor(e,t,i){this.sourceSpan=e,this.key=t,this.value=i}},r0=class{sourceSpan;key;value;constructor(e,t,i){this.sourceSpan=e,this.key=t,this.value=i}},Wd=class{visit(e,t){e.visit(this,t)}visitUnary(e,t){this.visit(e.expr,t)}visitBinary(e,t){this.visit(e.left,t),this.visit(e.right,t)}visitChain(e,t){this.visitAll(e.expressions,t)}visitConditional(e,t){this.visit(e.condition,t),this.visit(e.trueExp,t),this.visit(e.falseExp,t)}visitPipe(e,t){this.visit(e.exp,t),this.visitAll(e.args,t)}visitImplicitReceiver(e,t){}visitThisReceiver(e,t){}visitInterpolation(e,t){this.visitAll(e.expressions,t)}visitKeyedRead(e,t){this.visit(e.receiver,t),this.visit(e.key,t)}visitKeyedWrite(e,t){this.visit(e.receiver,t),this.visit(e.key,t),this.visit(e.value,t)}visitLiteralArray(e,t){this.visitAll(e.expressions,t)}visitLiteralMap(e,t){this.visitAll(e.values,t)}visitLiteralPrimitive(e,t){}visitPrefixNot(e,t){this.visit(e.expression,t)}visitTypeofExpression(e,t){this.visit(e.expression,t)}visitNonNullAssert(e,t){this.visit(e.expression,t)}visitPropertyRead(e,t){this.visit(e.receiver,t)}visitPropertyWrite(e,t){this.visit(e.receiver,t),this.visit(e.value,t)}visitSafePropertyRead(e,t){this.visit(e.receiver,t)}visitSafeKeyedRead(e,t){this.visit(e.receiver,t),this.visit(e.key,t)}visitCall(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)}visitSafeCall(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)}visitTemplateLiteral(e,t){for(let i=0;i<e.elements.length;i++){this.visit(e.elements[i],t);let r=i<e.expressions.length?e.expressions[i]:null;r!==null&&this.visit(r,t)}}visitTemplateLiteralElement(e,t){}visitAll(e,t){for(let i of e)this.visit(i,t)}},Kl=class{name;expression;type;sourceSpan;keySpan;valueSpan;isLiteral;isAnimation;constructor(e,t,i,r,s,o){this.name=e,this.expression=t,this.type=i,this.sourceSpan=r,this.keySpan=s,this.valueSpan=o,this.isLiteral=this.type===cs.LITERAL_ATTR,this.isAnimation=this.type===cs.ANIMATION}},cs=function(n){return n[n.DEFAULT=0]="DEFAULT",n[n.LITERAL_ATTR=1]="LITERAL_ATTR",n[n.ANIMATION=2]="ANIMATION",n[n.TWO_WAY=3]="TWO_WAY",n}(cs||{}),Ci=function(n){return n[n.Regular=0]="Regular",n[n.Animation=1]="Animation",n[n.TwoWay=2]="TwoWay",n}(Ci||{}),Qd=class{name;targetOrPhase;type;handler;sourceSpan;handlerSpan;keySpan;constructor(e,t,i,r,s,o,a){this.name=e,this.targetOrPhase=t,this.type=i,this.handler=r,this.sourceSpan=s,this.handlerSpan=o,this.keySpan=a}},s0=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,t,i,r,s){this.name=e,this.value=t,this.sourceSpan=i,this.keySpan=r,this.valueSpan=s}},pt=function(n){return n[n.Property=0]="Property",n[n.Attribute=1]="Attribute",n[n.Class=2]="Class",n[n.Style=3]="Style",n[n.Animation=4]="Animation",n[n.TwoWay=5]="TwoWay",n}(pt||{}),Gd=class{name;type;securityContext;value;unit;sourceSpan;keySpan;valueSpan;constructor(e,t,i,r,s,o,a,l){this.name=e,this.type=t,this.securityContext=i,this.value=r,this.unit=s,this.sourceSpan=o,this.keySpan=a,this.valueSpan=l}},nr=function(n){return n[n.RAW_TEXT=0]="RAW_TEXT",n[n.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",n[n.PARSABLE_DATA=2]="PARSABLE_DATA",n}(nr||{});function qi(n,e=!0){if(n[0]!=":")return[null,n];let t=n.indexOf(":",1);if(t===-1){if(e)throw new Error(`Unsupported format "${n}" expecting ":namespace:name"`);return[null,n]}return[n.slice(1,t),n.slice(t+1)]}function Pb(n){return qi(n)[1]==="ng-container"}function o0(n){return qi(n)[1]==="ng-content"}function MT(n){return qi(n)[1]==="ng-template"}function a0(n){return n===null?null:qi(n)[0]}function l0(n,e){return n?`:${n}:${e}`:e}var Vp=class{value;sourceSpan;constructor(e,t){this.value=e,this.sourceSpan=t}visit(e){throw new Error("visit() not implemented for Comment")}},eo=class{value;sourceSpan;constructor(e,t){this.value=e,this.sourceSpan=t}visit(e){return e.visitText(this)}},ka=class{value;sourceSpan;i18n;constructor(e,t,i){this.value=e,this.sourceSpan=t,this.i18n=i}visit(e){return e.visitBoundText(this)}},Ta=class{name;value;sourceSpan;keySpan;valueSpan;i18n;constructor(e,t,i,r,s,o){this.name=e,this.value=t,this.sourceSpan=i,this.keySpan=r,this.valueSpan=s,this.i18n=o}visit(e){return e.visitTextAttribute(this)}},c0=class n{name;type;securityContext;value;unit;sourceSpan;keySpan;valueSpan;i18n;constructor(e,t,i,r,s,o,a,l,c){this.name=e,this.type=t,this.securityContext=i,this.value=r,this.unit=s,this.sourceSpan=o,this.keySpan=a,this.valueSpan=l,this.i18n=c}static fromBoundElementProperty(e,t){if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound attributes but was not for ${e.name}: ${e.sourceSpan}`);return new n(e.name,e.type,e.securityContext,e.value,e.unit,e.sourceSpan,e.keySpan,e.valueSpan,t)}visit(e){return e.visitBoundAttribute(this)}},u0=class n{name;type;handler;target;phase;sourceSpan;handlerSpan;keySpan;constructor(e,t,i,r,s,o,a,l){this.name=e,this.type=t,this.handler=i,this.target=r,this.phase=s,this.sourceSpan=o,this.handlerSpan=a,this.keySpan=l}static fromParsedEvent(e){let t=e.type===Ci.Regular?e.targetOrPhase:null,i=e.type===Ci.Animation?e.targetOrPhase:null;if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound event but was not for ${e.name}: ${e.sourceSpan}`);return new n(e.name,e.type,e.handler,t,i,e.sourceSpan,e.handlerSpan,e.keySpan)}visit(e){return e.visitBoundEvent(this)}},lr=class{name;attributes;inputs;outputs;children;references;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,t,i,r,s,o,a,l,c,u){this.name=e,this.attributes=t,this.inputs=i,this.outputs=r,this.children=s,this.references=o,this.sourceSpan=a,this.startSourceSpan=l,this.endSourceSpan=c,this.i18n=u}visit(e){return e.visitElement(this)}},cr=class{nameSpan;sourceSpan;prefetchSpan;whenOrOnSourceSpan;hydrateSpan;constructor(e,t,i,r,s){this.nameSpan=e,this.sourceSpan=t,this.prefetchSpan=i,this.whenOrOnSourceSpan=r,this.hydrateSpan=s}visit(e){return e.visitDeferredTrigger(this)}},d0=class extends cr{value;constructor(e,t,i,r,s){super(null,t,i,r,s),this.value=e}},p0=class extends cr{},h0=class extends cr{},f0=class extends cr{},Yd=class extends cr{reference;constructor(e,t,i,r,s,o){super(t,i,r,s,o),this.reference=e}},m0=class extends cr{delay;constructor(e,t,i,r,s,o){super(t,i,r,s,o),this.delay=e}},Xd=class extends cr{reference;constructor(e,t,i,r,s,o){super(t,i,r,s,o),this.reference=e}},Zd=class extends cr{reference;constructor(e,t,i,r,s,o){super(t,i,r,s,o),this.reference=e}},Ai=class{nameSpan;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,t,i,r){this.nameSpan=e,this.sourceSpan=t,this.startSourceSpan=i,this.endSourceSpan=r}},yc=class extends Ai{children;minimumTime;i18n;constructor(e,t,i,r,s,o,a){super(i,r,s,o),this.children=e,this.minimumTime=t,this.i18n=a}visit(e){return e.visitDeferredBlockPlaceholder(this)}},_c=class extends Ai{children;afterTime;minimumTime;i18n;constructor(e,t,i,r,s,o,a,l){super(r,s,o,a),this.children=e,this.afterTime=t,this.minimumTime=i,this.i18n=l}visit(e){return e.visitDeferredBlockLoading(this)}},wc=class extends Ai{children;i18n;constructor(e,t,i,r,s,o){super(t,i,r,s),this.children=e,this.i18n=o}visit(e){return e.visitDeferredBlockError(this)}},vo=class extends Ai{children;placeholder;loading;error;mainBlockSpan;i18n;triggers;prefetchTriggers;hydrateTriggers;definedTriggers;definedPrefetchTriggers;definedHydrateTriggers;constructor(e,t,i,r,s,o,a,l,c,u,f,m,v){super(l,c,f,m),this.children=e,this.placeholder=s,this.loading=o,this.error=a,this.mainBlockSpan=u,this.i18n=v,this.triggers=t,this.prefetchTriggers=i,this.hydrateTriggers=r,this.definedTriggers=Object.keys(t),this.definedPrefetchTriggers=Object.keys(i),this.definedHydrateTriggers=Object.keys(r)}visit(e){return e.visitDeferredBlock(this)}visitAll(e){this.visitTriggers(this.definedHydrateTriggers,this.hydrateTriggers,e),this.visitTriggers(this.definedTriggers,this.triggers,e),this.visitTriggers(this.definedPrefetchTriggers,this.prefetchTriggers,e),km(e,this.children);let t=[this.placeholder,this.loading,this.error].filter(i=>i!==null);km(e,t)}visitTriggers(e,t,i){km(i,e.map(r=>t[r]))}},Kd=class extends Ai{expression;cases;unknownBlocks;constructor(e,t,i,r,s,o,a){super(a,r,s,o),this.expression=e,this.cases=t,this.unknownBlocks=i}visit(e){return e.visitSwitchBlock(this)}},Sc=class extends Ai{expression;children;i18n;constructor(e,t,i,r,s,o,a){super(o,i,r,s),this.expression=e,this.children=t,this.i18n=a}visit(e){return e.visitSwitchBlockCase(this)}},Aa=class extends Ai{item;expression;trackBy;trackKeywordSpan;contextVariables;children;empty;mainBlockSpan;i18n;constructor(e,t,i,r,s,o,a,l,c,u,f,m,v){super(m,l,u,f),this.item=e,this.expression=t,this.trackBy=i,this.trackKeywordSpan=r,this.contextVariables=s,this.children=o,this.empty=a,this.mainBlockSpan=c,this.i18n=v}visit(e){return e.visitForLoopBlock(this)}},Ec=class extends Ai{children;i18n;constructor(e,t,i,r,s,o){super(s,t,i,r),this.children=e,this.i18n=o}visit(e){return e.visitForLoopBlockEmpty(this)}},Jd=class extends Ai{branches;constructor(e,t,i,r,s){super(s,t,i,r),this.branches=e}visit(e){return e.visitIfBlock(this)}},ro=class extends Ai{expression;children;expressionAlias;i18n;constructor(e,t,i,r,s,o,a,l){super(a,r,s,o),this.expression=e,this.children=t,this.expressionAlias=i,this.i18n=l}visit(e){return e.visitIfBlockBranch(this)}},ep=class{name;sourceSpan;nameSpan;constructor(e,t,i){this.name=e,this.sourceSpan=t,this.nameSpan=i}visit(e){return e.visitUnknownBlock(this)}},Eg=class{name;value;sourceSpan;nameSpan;valueSpan;constructor(e,t,i,r,s){this.name=e,this.value=t,this.sourceSpan=i,this.nameSpan=r,this.valueSpan=s}visit(e){return e.visitLetDeclaration(this)}},ri=class{tagName;attributes;inputs;outputs;templateAttrs;children;references;variables;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,t,i,r,s,o,a,l,c,u,f,m){this.tagName=e,this.attributes=t,this.inputs=i,this.outputs=r,this.templateAttrs=s,this.children=o,this.references=a,this.variables=l,this.sourceSpan=c,this.startSourceSpan=u,this.endSourceSpan=f,this.i18n=m}visit(e){return e.visitTemplate(this)}},Ia=class{selector;attributes;children;sourceSpan;i18n;name="ng-content";constructor(e,t,i,r,s){this.selector=e,this.attributes=t,this.children=i,this.sourceSpan=r,this.i18n=s}visit(e){return e.visitContent(this)}},gs=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,t,i,r,s){this.name=e,this.value=t,this.sourceSpan=i,this.keySpan=r,this.valueSpan=s}visit(e){return e.visitVariable(this)}},Cc=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,t,i,r,s){this.name=e,this.value=t,this.sourceSpan=i,this.keySpan=r,this.valueSpan=s}visit(e){return e.visitReference(this)}},r2=class{vars;placeholders;sourceSpan;i18n;constructor(e,t,i,r){this.vars=e,this.placeholders=t,this.sourceSpan=i,this.i18n=r}visit(e){return e.visitIcu(this)}};function km(n,e){let t=[];if(n.visit)for(let i of e)n.visit(i)||i.visit(n);else for(let i of e){let r=i.visit(n);r&&t.push(r)}return t}var Mn=class{nodes;placeholders;placeholderToMessage;meaning;description;customId;sources;id;legacyIds=[];messageString;constructor(e,t,i,r,s,o){this.nodes=e,this.placeholders=t,this.placeholderToMessage=i,this.meaning=r,this.description=s,this.customId=o,this.id=this.customId,this.messageString=PT(this.nodes),e.length?this.sources=[{filePath:e[0].sourceSpan.start.file.url,startLine:e[0].sourceSpan.start.line+1,startCol:e[0].sourceSpan.start.col+1,endLine:e[e.length-1].sourceSpan.end.line+1,endCol:e[0].sourceSpan.start.col+1}]:this.sources=[]}},jl=class{value;sourceSpan;constructor(e,t){this.value=e,this.sourceSpan=t}visit(e,t){return e.visitText(this,t)}},Nr=class{children;sourceSpan;constructor(e,t){this.children=e,this.sourceSpan=t}visit(e,t){return e.visitContainer(this,t)}},tp=class{expression;type;cases;sourceSpan;expressionPlaceholder;constructor(e,t,i,r,s){this.expression=e,this.type=t,this.cases=i,this.sourceSpan=r,this.expressionPlaceholder=s}visit(e,t){return e.visitIcu(this,t)}},vs=class{tag;attrs;startName;closeName;children;isVoid;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,t,i,r,s,o,a,l,c){this.tag=e,this.attrs=t,this.startName=i,this.closeName=r,this.children=s,this.isVoid=o,this.sourceSpan=a,this.startSourceSpan=l,this.endSourceSpan=c}visit(e,t){return e.visitTagPlaceholder(this,t)}},kc=class{value;name;sourceSpan;constructor(e,t,i){this.value=e,this.name=t,this.sourceSpan=i}visit(e,t){return e.visitPlaceholder(this,t)}},Ma=class{value;name;sourceSpan;previousMessage;constructor(e,t,i){this.value=e,this.name=t,this.sourceSpan=i}visit(e,t){return e.visitIcuPlaceholder(this,t)}},xs=class{name;parameters;startName;closeName;children;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,t,i,r,s,o,a,l){this.name=e,this.parameters=t,this.startName=i,this.closeName=r,this.children=s,this.sourceSpan=o,this.startSourceSpan=a,this.endSourceSpan=l}visit(e,t){return e.visitBlockPlaceholder(this,t)}};function PT(n){let e=new g0;return n.map(i=>i.visit(e)).join("")}var g0=class{visitText(e){return e.value}visitContainer(e){return e.children.map(t=>t.visit(this)).join("")}visitIcu(e){let t=Object.keys(e.cases).map(i=>`${i} {${e.cases[i].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${t.join(" ")}}`}visitTagPlaceholder(e){let t=e.children.map(i=>i.visit(this)).join("");return`{$${e.startName}}${t}{$${e.closeName}}`}visitPlaceholder(e){return`{$${e.name}}`}visitIcuPlaceholder(e){return`{$${e.name}}`}visitBlockPlaceholder(e){let t=e.children.map(i=>i.visit(this)).join("");return`{$${e.startName}}${t}{$${e.closeName}}`}};var DT=class{visitTag(e){let t=this._serializeAttributes(e.attrs);if(e.children.length==0)return`<${e.name}${t}/>`;let i=e.children.map(r=>r.visit(this));return`<${e.name}${t}>${i.join("")}</${e.name}>`}visitText(e){return e.value}visitDeclaration(e){return`<?xml${this._serializeAttributes(e.attrs)} ?>`}_serializeAttributes(e){let t=Object.keys(e).map(i=>`${i}="${e[i]}"`).join(" ");return t.length>0?" "+t:""}visitDoctype(e){return`<!DOCTYPE ${e.rootTag} [
${e.dtd}
]>`}},RH=new DT;function NT(n){return n.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}var s2="i18n",v0="i18n-",LT="VAR_";function o2(n){return n===s2||n.startsWith(v0)}function OT(n){return n.attrs.some(e=>o2(e.name))}function a2(n){return n.nodes[0]}function Cg(n={},e){let t={};return n&&Object.keys(n).length&&Object.keys(n).forEach(i=>t[Xc(i,e)]=n[i]),t}function Xc(n,e=!0){let t=NT(n);if(!e)return t;let i=t.split("_");if(i.length===1)return n.toLowerCase();let r;/^\d+$/.test(i[i.length-1])&&(r=i.pop());let s=i.shift().toLowerCase();return i.length&&(s+=i.map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join("")),r?`${s}_${r}`:s}var RT=/[-.]/,kg="_t",Tc="ctx",Tg="rf";function l2(n,e){let t=null;return()=>(t||(n(new kn(kg,void 0,Qc)),t=Ie(e)),t)}function ua(n){return Array.isArray(n)?We(n.map(ua)):R(n,_i)}function Db(n,e){let t=Object.getOwnPropertyNames(n);return t.length===0?null:Pn(t.map(i=>{let r=n[i],s,o,a,l;if(typeof r=="string")s=i,a=i,o=r,l=ua(o);else{a=i,s=r.classPropertyName,o=r.bindingPropertyName;let c=o!==s,u=r.transformFunction!==null,f=Wl.None;if(r.isSignal&&(f|=Wl.SignalBased),u&&(f|=Wl.HasDecoratorInputTransform),e&&(c||u||f!==Wl.None)){let m=[R(f),ua(o)];(c||u)&&(m.push(ua(s)),u&&m.push(r.transformFunction)),l=We(m)}else l=ua(o)}return{key:a,quoted:RT.test(a),value:l}}))}var bs=class{values=[];set(e,t){if(t){let i=this.values.find(r=>r.key===e);i?i.value=t:this.values.push({key:e,value:t,quoted:!1})}}toLiteralMap(){return Pn(this.values)}};function FT(n){let e=n instanceof lr?n.name:"ng-template",t=BT(n),i=new ba,r=qi(e)[1];return i.setElement(r),Object.getOwnPropertyNames(t).forEach(s=>{let o=qi(s)[1],a=t[s];i.addAttribute(o,a),s.toLowerCase()==="class"&&a.trim().split(/\s+/).forEach(c=>i.addClassName(c))}),i}function BT(n){let e={};return n instanceof ri&&n.tagName!=="ng-template"?n.templateAttrs.forEach(t=>e[t.name]=""):(n.attributes.forEach(t=>{o2(t.name)||(e[t.name]=t.value)}),n.inputs.forEach(t=>{(t.type===pt.Property||t.type===pt.TwoWay)&&(e[t.name]="")}),n.outputs.forEach(t=>{e[t.name]=""})),e}function Nb(n,e){let t=null,i={name:n.name,type:n.type,typeArgumentCount:n.typeArgumentCount,deps:[],target:Ir.Injectable};if(n.useClass!==void 0){let a=n.useClass.expression.isEquivalent(n.type.value),l;n.deps!==void 0&&(l=n.deps),l!==void 0?t=Xs(_e(L({},i),{delegate:n.useClass.expression,delegateDeps:l,delegateType:Nd.Class})):a?t=Xs(i):t={statements:[],expression:Lb(n.type.value,n.useClass.expression,e)}}else n.useFactory!==void 0?n.deps!==void 0?t=Xs(_e(L({},i),{delegate:n.useFactory,delegateDeps:n.deps||[],delegateType:Nd.Function})):t={statements:[],expression:ji([],n.useFactory.callFn([]))}:n.useValue!==void 0?t=Xs(_e(L({},i),{expression:n.useValue.expression})):n.useExisting!==void 0?t=Xs(_e(L({},i),{expression:ce(C.inject).callFn([n.useExisting.expression])})):t={statements:[],expression:Lb(n.type.value,n.type.value,e)};let r=n.type.value,s=new bs;return s.set("token",r),s.set("factory",t.expression),n.providedIn.expression.value!==null&&s.set("providedIn",wT(n.providedIn)),{expression:ce(C.\u0275\u0275defineInjectable).callFn([s.toLiteralMap()],void 0,!0),type:VT(n),statements:t.statements}}function VT(n){return new Si(ce(C.InjectableDeclaration,[Bp(n.type.type,n.typeArgumentCount)]))}function Lb(n,e,t){if(n.node===e.node)return e.prop("\u0275fac");if(!t)return Ob(e);let i=ce(C.resolveForwardRef).callFn([e]);return Ob(i)}function Ob(n){let e=new ln("__ngFactoryType__",Qc);return ji([e],n.prop("\u0275fac").callFn([Ie(e.name)]))}var $T=[/@/,/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function jT(n,e){if(e!=null&&!(Array.isArray(e)&&e.length==2))throw new Error(`Expected '${n}' to be an array, [start, end].`);if(e!=null){let t=e[0],i=e[1];$T.forEach(r=>{if(r.test(t)||r.test(i))throw new Error(`['${t}', '${i}'] contains unusable interpolation symbol.`)})}}var np=class n{start;end;static fromArray(e){return e?(jT("interpolation",e),new n(e[0],e[1])):ir}constructor(e,t){this.start=e,this.end=t}},ir=new np("{{","}}"),qT=new Set(["switch"]),hn=0,HT=8,Ag=9,so=10,c2=11,u2=12,Ig=13,d2=32,x0=33,Ac=34,p2=35,$p=36,UT=37,ip=38,Ic=39,Lr=40,Vi=41,zT=42,h2=43,wi=44,rp=45,aa=46,Mr=47,us=58,ti=59,da=60,to=61,as=62,Rb=63,Mg=48,WT=55,f2=57,Va=65,QT=69,GT=70,YT=88,jp=90,va=91,xa=92,pa=93,XT=94,Zc=95,xo=97,ZT=98,KT=101,Pg=102,m2=110,g2=114,v2=116,x2=117,b2=118,y2=120,Kc=122,Bi=123,Fb=124,qn=125,_2=160,Tm=64,b0=96;function Mc(n){return n>=Ag&&n<=d2||n==_2}function tr(n){return Mg<=n&&n<=f2}function Pc(n){return n>=xo&&n<=Kc||n>=Va&&n<=jp}function JT(n){return n>=xo&&n<=Pg||n>=Va&&n<=GT||tr(n)}function Dg(n){return n===so||n===Ig}function Bb(n){return Mg<=n&&n<=WT}function Jl(n){return n===Ic||n===Ac||n===b0}var Dc=class n{file;offset;line;col;constructor(e,t,i,r){this.file=e,this.offset=t,this.line=i,this.col=r}toString(){return this.offset!=null?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(e){let t=this.file.content,i=t.length,r=this.offset,s=this.line,o=this.col;for(;r>0&&e<0;)if(r--,e++,t.charCodeAt(r)==so){s--;let l=t.substring(0,r-1).lastIndexOf(String.fromCharCode(so));o=l>0?r-l:r}else o--;for(;r<i&&e>0;){let a=t.charCodeAt(r);r++,e--,a==so?(s++,o=0):o++}return new n(this.file,r,s,o)}getContext(e,t){let i=this.file.content,r=this.offset;if(r!=null){r>i.length-1&&(r=i.length-1);let s=r,o=0,a=0;for(;o<e&&r>0&&(r--,o++,!(i[r]==`
`&&++a==t)););for(o=0,a=0;o<e&&s<i.length-1&&(s++,o++,!(i[s]==`
`&&++a==t)););return{before:i.substring(r,this.offset),after:i.substring(this.offset,s+1)}}return null}},sp=class{content;url;constructor(e,t){this.content=e,this.url=t}},we=class{start;end;fullStart;details;constructor(e,t,i=e,r=null){this.start=e,this.end=t,this.fullStart=i,this.details=r}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}},ps=function(n){return n[n.WARNING=0]="WARNING",n[n.ERROR=1]="ERROR",n}(ps||{}),be=class{span;msg;level;relatedError;constructor(e,t,i=ps.ERROR,r){this.span=e,this.msg=t,this.level=i,this.relatedError=r}contextualMessage(){let e=this.span.start.getContext(100,3);return e?`${this.msg} ("${e.before}[${ps[this.level]} ->]${e.after}")`:this.msg}toString(){let e=this.span.details?`, ${this.span.details}`:"";return`${this.contextualMessage()}: ${this.span.start}${e}`}};function eA(n,e,t){let i=`in ${n} ${e} in ${t}`,r=new sp("",i);return new we(new Dc(r,-1,-1,-1),new Dc(r,-1,-1,-1))}var tA=0;function nA(n){if(!n||!n.reference)return null;let e=n.reference;if(e.__anonymousType)return e.__anonymousType;if(e.__forward_ref__)return"__forward_ref__";let t=n2(e);return t.indexOf("(")>=0?(t=`anonymous_${tA++}`,e.__anonymousType=t):t=ec(t),t}function ec(n){return n.replace(/\W/g,"_")}var Vb='(this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e})',y0=class extends i0{constructor(){super(!1)}visitWrappedNodeExpr(e,t){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}visitDeclareVarStmt(e,t){return t.print(e,`var ${e.name}`),e.value&&(t.print(e," = "),e.value.visitExpression(this,t)),t.println(e,";"),null}visitTaggedTemplateLiteralExpr(e,t){let i=e.template.elements;return e.tag.visitExpression(this,t),t.print(e,`(${Vb}(`),t.print(e,`[${i.map(r=>Ks(r.text,!1)).join(", ")}], `),t.print(e,`[${i.map(r=>Ks(r.rawText,!1)).join(", ")}])`),e.template.expressions.forEach(r=>{t.print(e,", "),r.visitExpression(this,t)}),t.print(e,")"),null}visitTemplateLiteralExpr(e,t){t.print(e,"`");for(let i=0;i<e.elements.length;i++){e.elements[i].visitExpression(this,t);let r=i<e.expressions.length?e.expressions[i]:null;r!==null&&(t.print(r,"${"),r.visitExpression(this,t),t.print(r,"}"))}t.print(e,"`")}visitTemplateLiteralElementExpr(e,t){return t.print(e,e.rawText),null}visitFunctionExpr(e,t){return t.print(e,`function${e.name?" "+e.name:""}(`),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print(e,"}"),null}visitArrowFunctionExpr(e,t){if(t.print(e,"("),this._visitParams(e.params,t),t.print(e,") =>"),Array.isArray(e.body))t.println(e,"{"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.print(e,"}");else{let i=e.body instanceof ar;i&&t.print(e,"("),e.body.visitExpression(this,t),i&&t.print(e,")")}return null}visitDeclareFunctionStmt(e,t){return t.print(e,`function ${e.name}(`),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println(e,"}"),null}visitLocalizedString(e,t){t.print(e,`$localize(${Vb}(`);let i=[e.serializeI18nHead()];for(let r=1;r<e.messageParts.length;r++)i.push(e.serializeI18nTemplatePart(r));return t.print(e,`[${i.map(r=>Ks(r.cooked,!1)).join(", ")}], `),t.print(e,`[${i.map(r=>Ks(r.raw,!1)).join(", ")}])`),e.expressions.forEach(r=>{t.print(e,", "),r.visitExpression(this,t)}),t.print(e,")"),null}_visitParams(e,t){this.visitAllObjects(i=>t.print(null,i.name),e,t,",")}},ld;function iA(){if(ld===void 0){let n=Zl.trustedTypes;if(ld=null,n)try{ld=n.createPolicy("angular#unsafe-jit",{createScript:e=>e})}catch{}}return ld}function rA(n){return iA()?.createScript(n)||n}function $b(...n){if(!Zl.trustedTypes)return new Function(...n);let e=n.slice(0,-1).join(","),t=n[n.length-1],i=`(function anonymous(${e}
) { ${t}
})`,r=Zl.eval(rA(i));return r.bind===void 0?new Function(...n):(r.toString=()=>i,r.bind(Zl))}var _0=class{evaluateStatements(e,t,i,r){let s=new w0(i),o=n0.createRoot();return t.length>0&&!sA(t[0])&&(t=[R("use strict").toStmt(),...t]),s.visitAllStatements(t,o),s.createReturnStmt(o),this.evaluateCode(e,o,s.getArgs(),r)}evaluateCode(e,t,i,r){let s=`"use strict";${t.toSource()}
//# sourceURL=${e}`,o=[],a=[];for(let c in i)a.push(i[c]),o.push(c);if(r){let c=$b(...o.concat("return null;")).toString(),u=c.slice(0,c.indexOf("return null;")).split(`
`).length-1;s+=`
${t.toSourceMapGenerator(e,u).toJsComment()}`}let l=$b(...o.concat(s));return this.executeFunction(l,a)}executeFunction(e,t){return e(...t)}},w0=class extends y0{refResolver;_evalArgNames=[];_evalArgValues=[];_evalExportedVars=[];constructor(e){super(),this.refResolver=e}createReturnStmt(e){new Cn(new ar(this._evalExportedVars.map(i=>new Sa(i,Ie(i),!1)))).visitStatement(this,e)}getArgs(){let e={};for(let t=0;t<this._evalArgNames.length;t++)e[this._evalArgNames[t]]=this._evalArgValues[t];return e}visitExternalExpr(e,t){return this._emitReferenceToExternal(e,this.refResolver.resolveExternalReference(e.value),t),null}visitWrappedNodeExpr(e,t){return this._emitReferenceToExternal(e,e.node,t),null}visitDeclareVarStmt(e,t){return e.hasModifier(mn.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareVarStmt(e,t)}visitDeclareFunctionStmt(e,t){return e.hasModifier(mn.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareFunctionStmt(e,t)}_emitReferenceToExternal(e,t,i){let r=this._evalArgValues.indexOf(t);if(r===-1){r=this._evalArgValues.length,this._evalArgValues.push(t);let s=nA({reference:t})||"val";this._evalArgNames.push(`jit_${s}_${r}`)}i.print(e,this._evalArgNames[r])}};function sA(n){return n.isEquivalent(R("use strict").toStmt())}function jb(n){let e=new bs;n.providers!==null&&e.set("providers",n.providers),n.imports.length>0&&e.set("imports",We(n.imports));let t=ce(C.defineInjector).callFn([e.toLiteralMap()],void 0,!0),i=oA(n);return{expression:t,type:i,statements:[]}}function oA(n){return new Si(ce(C.InjectorDeclaration,[new Si(n.type.type)]))}var S0=class{context;constructor(e){this.context=e}resolveExternalReference(e){if(e.moduleName!=="@angular/core")throw new Error(`Cannot resolve external reference to ${e.moduleName}, only references to @angular/core are supported.`);if(!this.context.hasOwnProperty(e.name))throw new Error(`No value provided for @angular/core symbol '${e.name}'.`);return this.context[e.name]}},op=function(n){return n[n.Inline=0]="Inline",n[n.SideEffect=1]="SideEffect",n[n.Omit=2]="Omit",n}(op||{}),hs=function(n){return n[n.Global=0]="Global",n[n.Local=1]="Local",n}(hs||{});function aA(n){let e=[],t=new bs;if(t.set("type",n.type.value),n.kind===hs.Global&&n.bootstrap.length>0&&t.set("bootstrap",Js(n.bootstrap,n.containsForwardDecls)),n.selectorScopeMode===op.Inline)n.declarations.length>0&&t.set("declarations",Js(n.declarations,n.containsForwardDecls)),n.imports.length>0&&t.set("imports",Js(n.imports,n.containsForwardDecls)),n.exports.length>0&&t.set("exports",Js(n.exports,n.containsForwardDecls));else if(n.selectorScopeMode===op.SideEffect){let s=uA(n);s!==null&&e.push(s)}n.schemas!==null&&n.schemas.length>0&&t.set("schemas",We(n.schemas.map(s=>s.value))),n.id!==null&&(t.set("id",n.id),e.push(ce(C.registerNgModuleType).callFn([n.type.value,n.id]).toStmt()));let i=ce(C.defineNgModule).callFn([t.toLiteralMap()],void 0,!0),r=cA(n);return{expression:i,type:r,statements:e}}function lA(n){let e=new bs;return e.set("type",new Le(n.type)),n.bootstrap!==void 0&&e.set("bootstrap",new Le(n.bootstrap)),n.declarations!==void 0&&e.set("declarations",new Le(n.declarations)),n.imports!==void 0&&e.set("imports",new Le(n.imports)),n.exports!==void 0&&e.set("exports",new Le(n.exports)),n.schemas!==void 0&&e.set("schemas",new Le(n.schemas)),n.id!==void 0&&e.set("id",new Le(n.id)),ce(C.defineNgModule).callFn([e.toLiteralMap()])}function cA(n){if(n.kind===hs.Local)return new Si(n.type.value);let{type:e,declarations:t,exports:i,imports:r,includeImportTypes:s,publicDeclarationTypes:o}=n;return new Si(ce(C.NgModuleDeclaration,[new Si(e.type),o===null?Am(t):dA(o),s?Am(r):or,Am(i)]))}function uA(n){let e=new bs;if(n.kind===hs.Global?n.declarations.length>0&&e.set("declarations",Js(n.declarations,n.containsForwardDecls)):n.declarationsExpression&&e.set("declarations",n.declarationsExpression),n.kind===hs.Global?n.imports.length>0&&e.set("imports",Js(n.imports,n.containsForwardDecls)):n.importsExpression&&e.set("imports",n.importsExpression),n.kind===hs.Global?n.exports.length>0&&e.set("exports",Js(n.exports,n.containsForwardDecls)):n.exportsExpression&&e.set("exports",n.exportsExpression),n.kind===hs.Local&&n.bootstrapExpression&&e.set("bootstrap",n.bootstrapExpression),Object.keys(e.values).length===0)return null;let t=new Un(ce(C.setNgModuleScope),[n.type.value,e.toLiteralMap()]),i=yT(t),r=new fs([],[i.toStmt()]);return new Un(r,[]).toStmt()}function Am(n){let e=n.map(t=>Gc(t.type));return n.length>0?gn(We(e)):or}function dA(n){let e=n.map(t=>Gc(t));return n.length>0?gn(We(e)):or}function qb(n){let e=[];e.push({key:"name",value:R(n.pipeName),quoted:!1}),e.push({key:"type",value:n.type.value,quoted:!1}),e.push({key:"pure",value:R(n.pure),quoted:!1}),n.isStandalone===!1&&e.push({key:"standalone",value:R(!1),quoted:!1});let t=ce(C.definePipe).callFn([Pn(e)],void 0,!0),i=pA(n);return{expression:t,type:i,statements:[]}}function pA(n){return new Si(ce(C.PipeDeclaration,[Bp(n.type.type,n.typeArgumentCount),new Si(new vn(n.pipeName)),new Si(new vn(n.isStandalone))]))}var qp=function(n){return n[n.Directive=0]="Directive",n[n.Pipe=1]="Pipe",n[n.NgModule=2]="NgModule",n}(qp||{}),hA=new Set(["inherit","initial","revert","unset","alternate","alternate-reverse","normal","reverse","backwards","both","forwards","none","paused","running","ease","ease-in","ease-in-out","ease-out","linear","step-start","step-end","end","jump-both","jump-end","jump-none","jump-start","start"]),fA=["@media","@supports","@document","@layer","@container","@scope","@starting-style"],E0=class{shimCssText(e,t,i=""){let r=[];e=e.replace(TA,a=>{if(a.match(AA))r.push(a);else{let l=a.match(kA);r.push((l?.join("")??"")+`
`)}return Ng}),e=this._insertDirectives(e);let s=this._scopeCssText(e,t,i),o=0;return s.replace(IA,()=>r[o++])}_insertDirectives(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)}_scopeKeyframesRelatedCss(e,t){let i=new Set,r=cd(e,s=>this._scopeLocalKeyframeDeclarations(s,t,i));return cd(r,s=>this._scopeAnimationRule(s,t,i))}_scopeLocalKeyframeDeclarations(e,t,i){return _e(L({},e),{selector:e.selector.replace(/(^@(?:-webkit-)?keyframes(?:\s+))(['"]?)(.+)\2(\s*)$/,(r,s,o,a,l)=>(i.add(zb(a,o)),`${s}${o}${t}_${a}${o}${l}`))})}_scopeAnimationKeyframe(e,t,i){return e.replace(/^(\s*)(['"]?)(.+?)\2(\s*)$/,(r,s,o,a,l)=>(a=`${i.has(zb(a,o))?t+"_":""}${a}`,`${s}${o}${a}${o}${l}`))}_animationDeclarationKeyframesRe=/(^|\s+|,)(?:(?:(['"])((?:\\\\|\\\2|(?!\2).)+)\2)|(-?[A-Za-z][\w\-]*))(?=[,\s]|$)/g;_scopeAnimationRule(e,t,i){let r=e.content.replace(/((?:^|\s+|;)(?:-webkit-)?animation\s*:\s*),*([^;]+)/g,(s,o,a)=>o+a.replace(this._animationDeclarationKeyframesRe,(l,c,u="",f,m)=>f?`${c}${this._scopeAnimationKeyframe(`${u}${f}${u}`,t,i)}`:hA.has(m)?l:`${c}${this._scopeAnimationKeyframe(m,t,i)}`));return r=r.replace(/((?:^|\s+|;)(?:-webkit-)?animation-name(?:\s*):(?:\s*))([^;]+)/g,(s,o,a)=>`${o}${a.split(",").map(l=>this._scopeAnimationKeyframe(l,t,i)).join(",")}`),_e(L({},e),{content:r})}_insertPolyfillDirectivesInCssText(e){return e.replace(gA,function(...t){return t[2]+"{"})}_insertPolyfillRulesInCssText(e){return e.replace(vA,(...t)=>{let i=t[0].replace(t[1],"").replace(t[2],"");return t[4]+i})}_scopeCssText(e,t,i){let r=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),t&&(e=this._scopeKeyframesRelatedCss(e,t),e=this._scopeSelectors(e,t,i)),e=e+`
`+r,e.trim()}_extractUnscopedRulesFromCssText(e){let t="",i;for(Hb.lastIndex=0;(i=Hb.exec(e))!==null;){let r=i[0].replace(i[2],"").replace(i[1],i[4]);t+=r+`

`}return t}_convertColonHost(e){return e.replace(xA,(t,i,r)=>{if(i){let s=[],o=i.split(",").map(a=>a.trim());for(let a of o){if(!a)break;let l=ls+a.replace(ap,"")+r;s.push(l)}return s.join(",")}else return ls+r})}_convertColonHostContext(e){let t=e.length,i=0,r=0,s="";for(let o=0;o<t;o++){let a=e[o];if(a===","&&i===0){s+=this._convertColonHostContextInSelectorPart(e.slice(r,o))+",",r=o+1;continue}if(o===t-1){s+=this._convertColonHostContextInSelectorPart(e.slice(r));break}a==="("?i++:a===")"&&i--}return s}_convertColonHostContextInSelectorPart(e){return e.replace(bA,(t,i)=>{let r=[[]],s;for(;s=yA.exec(t);){let o=(s[1]??"").trim().split(",").map(l=>l.trim()).filter(l=>l!==""),a=r.length;$A(r,o.length);for(let l=0;l<o.length;l++)for(let c=0;c<a;c++)r[c+l*a].push(o[l]);t=s[2]}return r.map(o=>VA(o,t,i)).join(", ")})}_convertShadowDOMSelectors(e){return wA.reduce((t,i)=>t.replace(i," "),e)}_scopeSelectors(e,t,i){return cd(e,r=>{let s=r.selector,o=r.content;return r.selector[0]!=="@"?s=this._scopeSelector({selector:s,scopeSelector:t,hostSelector:i,isParentSelector:!0}):fA.some(a=>r.selector.startsWith(a))?o=this._scopeSelectors(r.content,t,i):(r.selector.startsWith("@font-face")||r.selector.startsWith("@page"))&&(o=this._stripScopingSelectors(r.content)),new Nc(s,o)})}_stripScopingSelectors(e){return cd(e,t=>{let i=t.selector.replace(Ub," ").replace(Im," ");return new Nc(i,t.content)})}_safeSelector;_shouldScopeIndicator;_scopeSelector({selector:e,scopeSelector:t,hostSelector:i,isParentSelector:r=!1}){let s=/ ?,(?!(?:[^)(]*(?:\([^)(]*(?:\([^)(]*(?:\([^)(]*\)[^)(]*)*\)[^)(]*)*\)[^)(]*)*\))) ?/;return e.split(s).map(o=>o.split(Ub)).map(o=>{let[a,...l]=o;return[(u=>this._selectorNeedsScoping(u,t)?this._applySelectorScope({selector:u,scopeSelector:t,hostSelector:i,isParentSelector:r}):u)(a),...l].join(" ")}).join(", ")}_selectorNeedsScoping(e,t){return!this._makeScopeMatcher(t).test(e)}_makeScopeMatcher(e){let t=/\[/g,i=/\]/g;return e=e.replace(t,"\\[").replace(i,"\\]"),new RegExp("^("+e+")"+SA,"m")}_applySimpleSelectorScope(e,t,i){if(ha.lastIndex=0,ha.test(e)){let r=`[${i}]`,s=e;for(;s.match(Im);)s=s.replace(Im,(o,a)=>a.replace(/([^:\)]*)(:*)(.*)/,(l,c,u,f)=>c+r+u+f));return s.replace(ha,r)}return t+" "+e}_applySelectorScope({selector:e,scopeSelector:t,hostSelector:i,isParentSelector:r}){let s=/\[is=([^\]]*)\]/g;t=t.replace(s,(w,...y)=>y[0]);let o=`[${t}]`,a=w=>{let y=w.trim();if(!y)return w;if(w.includes(ls)){if(y=this._applySimpleSelectorScope(w,t,i),!w.match(_A)){let[k,I,V,$]=y.match(/([^:]*)(:*)([\s\S]*)/);y=I+o+V+$}}else{let k=w.replace(ha,"");if(k.length>0){let I=k.match(/([^:]*)(:*)([\s\S]*)/);I&&(y=I[1]+o+I[2]+I[3])}}return y},l=w=>{let y="",k=[],I;for(;(I=ql.exec(w))!==null;){let V=1,$=ql.lastIndex;for(;$<w.length;){let B=w[$];if($++,B==="("){V++;continue}if(B===")"){if(V--,V===0)break;continue}}k.push(`${I[0]}${w.slice(ql.lastIndex,$)}`),ql.lastIndex=$}return k.join("")===w?y=k.map(V=>{let[$]=V.match(ql)??[],B=V.slice($?.length,-1);B.includes(ls)&&(this._shouldScopeIndicator=!0);let E=this._scopeSelector({selector:B,scopeSelector:t,hostSelector:i});return`${$}${E})`}).join(""):(this._shouldScopeIndicator=this._shouldScopeIndicator||w.includes(ls),y=this._shouldScopeIndicator?a(w):w),y};r&&(this._safeSelector=new C0(e),e=this._safeSelector.content());let c="",u=0,f,m=/( |>|\+|~(?!=))(?!([^)(]*(?:\([^)(]*(?:\([^)(]*(?:\([^)(]*\)[^)(]*)*\)[^)(]*)*\)[^)(]*)*\)))\s*/g,v=e.includes(ls);for((r||this._shouldScopeIndicator)&&(this._shouldScopeIndicator=!v);(f=m.exec(e))!==null;){let w=f[1],y=e.slice(u,f.index);if(y.match(/__esc-ph-(\d+)__/)&&e[f.index+1]?.match(/[a-fA-F\d]/))continue;let k=l(y);c+=`${k} ${w} `,u=m.lastIndex}let b=e.substring(u);return c+=l(b),this._safeSelector.restore(c)}_insertPolyfillHostInCssText(e){return e.replace(CA,w2).replace(EA,ap)}},C0=class{placeholders=[];index=0;_content;constructor(e){e=this._escapeRegexMatches(e,/(\[[^\]]*\])/g),e=e.replace(/(\\.)/g,(t,i)=>{let r=`__esc-ph-${this.index}__`;return this.placeholders.push(i),this.index++,r}),this._content=e.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(t,i,r)=>{let s=`__ph-${this.index}__`;return this.placeholders.push(r),this.index++,i+s})}restore(e){return e.replace(/__(?:ph|esc-ph)-(\d+)__/g,(t,i)=>this.placeholders[+i])}content(){return this._content}_escapeRegexMatches(e,t){return e.replace(t,(i,r)=>{let s=`__ph-${this.index}__`;return this.placeholders.push(r),this.index++,s})}},mA="(:(where|is)\\()?",ql=/:(where|is)\(/gi,gA=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,vA=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,Hb=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,ap="-shadowcsshost",w2="-shadowcsscontext",S2="(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))",xA=new RegExp(ap+S2+"?([^,{]*)","gim"),E2=w2+S2+"?([^{]*)",bA=new RegExp(`${mA}(${E2})`,"gim"),yA=new RegExp(E2,"im"),ls=ap+"-no-combinator",_A=new RegExp(`${ls}(?![^(]*\\))`,"g"),Im=/-shadowcsshost-no-combinator([^\s,]*)/,wA=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],Ub=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,SA="([>\\s~+[.,{:][\\s\\S]*)?$",ha=/-shadowcsshost/gim,EA=/:host/gim,CA=/:host-context/gim,kA=/\r?\n/g,TA=/\/\*[\s\S]*?\*\//g,AA=/\/\*\s*#\s*source(Mapping)?URL=/g,Ng="%COMMENT%",IA=new RegExp(Ng,"g"),Mm="%BLOCK%",MA=new RegExp(`(\\s*(?:${Ng}\\s*)*)([^;\\{\\}]+?)(\\s*)((?:{%BLOCK%}?\\s*;?)|(?:\\s*;))`,"g"),PA=new Map([["{","}"]]),C2="%COMMA_IN_PLACEHOLDER%",k2="%SEMI_IN_PLACEHOLDER%",T2="%COLON_IN_PLACEHOLDER%",DA=new RegExp(C2,"g"),NA=new RegExp(k2,"g"),LA=new RegExp(T2,"g"),Nc=class{selector;content;constructor(e,t){this.selector=e,this.content=t}};function cd(n,e){let t=FA(n),i=OA(t,PA,Mm),r=0,s=i.escapedString.replace(MA,(...o)=>{let a=o[2],l="",c=o[4],u="";c&&c.startsWith("{"+Mm)&&(l=i.blocks[r++],c=c.substring(Mm.length+1),u="{");let f=e(new Nc(a,l));return`${o[1]}${f.selector}${o[3]}${u}${f.content}${c}`});return BA(s)}var k0=class{escapedString;blocks;constructor(e,t){this.escapedString=e,this.blocks=t}};function OA(n,e,t){let i=[],r=[],s=0,o=0,a=-1,l,c;for(let u=0;u<n.length;u++){let f=n[u];f==="\\"?u++:f===c?(s--,s===0&&(r.push(n.substring(a,u)),i.push(t),o=u,a=-1,l=c=void 0)):f===l?s++:s===0&&e.has(f)&&(l=f,c=e.get(f),s=1,a=u+1,i.push(n.substring(o,a)))}return a!==-1?(r.push(n.substring(a)),i.push(t)):i.push(n.substring(o)),new k0(i.join(""),r)}var RA={";":k2,",":C2,":":T2};function FA(n){let e=n,t=null;for(let i=0;i<e.length;i++){let r=e[i];if(r==="\\")i++;else if(t!==null)if(r===t)t=null;else{let s=RA[r];s&&(e=`${e.substr(0,i)}${s}${e.substr(i+1)}`,i+=s.length-1)}else(r==="'"||r==='"')&&(t=r)}return e}function BA(n){let e=n.replace(DA,",");return e=e.replace(NA,";"),e=e.replace(LA,":"),e}function zb(n,e){return e?n.replace(/((?:^|[^\\])(?:\\\\)*)\\(?=['"])/g,"$1"):n}function VA(n,e,t=""){let i=ls;ha.lastIndex=0;let r=ha.test(e);if(n.length===0)return i+e;let s=[n.pop()||""];for(;n.length>0;){let o=s.length,a=n.pop();for(let l=0;l<o;l++){let c=s[l];s[o*2+l]=c+" "+a,s[o+l]=a+" "+c,s[l]=a+c}}return s.map(o=>r?`${t}${o}${e}`:`${t}${o}${i}${e}, ${t}${o} ${i}${e}`).join(",")}function $A(n,e){let t=n.length;for(let i=1;i<e;i++)for(let r=0;r<t;r++)n[r+i*t]=n[r].slice(0)}var x=function(n){return n[n.ListEnd=0]="ListEnd",n[n.Statement=1]="Statement",n[n.Variable=2]="Variable",n[n.ElementStart=3]="ElementStart",n[n.Element=4]="Element",n[n.Template=5]="Template",n[n.ElementEnd=6]="ElementEnd",n[n.ContainerStart=7]="ContainerStart",n[n.Container=8]="Container",n[n.ContainerEnd=9]="ContainerEnd",n[n.DisableBindings=10]="DisableBindings",n[n.Conditional=11]="Conditional",n[n.EnableBindings=12]="EnableBindings",n[n.Text=13]="Text",n[n.Listener=14]="Listener",n[n.InterpolateText=15]="InterpolateText",n[n.Binding=16]="Binding",n[n.Property=17]="Property",n[n.StyleProp=18]="StyleProp",n[n.ClassProp=19]="ClassProp",n[n.StyleMap=20]="StyleMap",n[n.ClassMap=21]="ClassMap",n[n.Advance=22]="Advance",n[n.Pipe=23]="Pipe",n[n.Attribute=24]="Attribute",n[n.ExtractedAttribute=25]="ExtractedAttribute",n[n.Defer=26]="Defer",n[n.DeferOn=27]="DeferOn",n[n.DeferWhen=28]="DeferWhen",n[n.I18nMessage=29]="I18nMessage",n[n.HostProperty=30]="HostProperty",n[n.Namespace=31]="Namespace",n[n.ProjectionDef=32]="ProjectionDef",n[n.Projection=33]="Projection",n[n.RepeaterCreate=34]="RepeaterCreate",n[n.Repeater=35]="Repeater",n[n.TwoWayProperty=36]="TwoWayProperty",n[n.TwoWayListener=37]="TwoWayListener",n[n.DeclareLet=38]="DeclareLet",n[n.StoreLet=39]="StoreLet",n[n.I18nStart=40]="I18nStart",n[n.I18n=41]="I18n",n[n.I18nEnd=42]="I18nEnd",n[n.I18nExpression=43]="I18nExpression",n[n.I18nApply=44]="I18nApply",n[n.IcuStart=45]="IcuStart",n[n.IcuEnd=46]="IcuEnd",n[n.IcuPlaceholder=47]="IcuPlaceholder",n[n.I18nContext=48]="I18nContext",n[n.I18nAttributes=49]="I18nAttributes",n[n.SourceLocation=50]="SourceLocation",n}(x||{}),oe=function(n){return n[n.LexicalRead=0]="LexicalRead",n[n.Context=1]="Context",n[n.TrackContext=2]="TrackContext",n[n.ReadVariable=3]="ReadVariable",n[n.NextContext=4]="NextContext",n[n.Reference=5]="Reference",n[n.StoreLet=6]="StoreLet",n[n.ContextLetReference=7]="ContextLetReference",n[n.GetCurrentView=8]="GetCurrentView",n[n.RestoreView=9]="RestoreView",n[n.ResetView=10]="ResetView",n[n.PureFunctionExpr=11]="PureFunctionExpr",n[n.PureFunctionParameterExpr=12]="PureFunctionParameterExpr",n[n.PipeBinding=13]="PipeBinding",n[n.PipeBindingVariadic=14]="PipeBindingVariadic",n[n.SafePropertyRead=15]="SafePropertyRead",n[n.SafeKeyedRead=16]="SafeKeyedRead",n[n.SafeInvokeFunction=17]="SafeInvokeFunction",n[n.SafeTernaryExpr=18]="SafeTernaryExpr",n[n.EmptyExpr=19]="EmptyExpr",n[n.AssignTemporaryExpr=20]="AssignTemporaryExpr",n[n.ReadTemporaryExpr=21]="ReadTemporaryExpr",n[n.SlotLiteralExpr=22]="SlotLiteralExpr",n[n.ConditionalCase=23]="ConditionalCase",n[n.ConstCollected=24]="ConstCollected",n[n.TwoWayBindingSet=25]="TwoWayBindingSet",n}(oe||{}),bi=function(n){return n[n.None=0]="None",n[n.AlwaysInline=1]="AlwaysInline",n}(bi||{}),an=function(n){return n[n.Context=0]="Context",n[n.Identifier=1]="Identifier",n[n.SavedView=2]="SavedView",n[n.Alias=3]="Alias",n}(an||{}),li=function(n){return n[n.Normal=0]="Normal",n[n.TemplateDefinitionBuilder=1]="TemplateDefinitionBuilder",n}(li||{}),le=function(n){return n[n.Attribute=0]="Attribute",n[n.ClassName=1]="ClassName",n[n.StyleProperty=2]="StyleProperty",n[n.Property=3]="Property",n[n.Template=4]="Template",n[n.I18n=5]="I18n",n[n.Animation=6]="Animation",n[n.TwoWayProperty=7]="TwoWayProperty",n}(le||{}),Lc=function(n){return n[n.Creation=0]="Creation",n[n.Postproccessing=1]="Postproccessing",n}(Lc||{}),$a=function(n){return n[n.I18nText=0]="I18nText",n[n.I18nAttribute=1]="I18nAttribute",n}($a||{}),st=function(n){return n[n.None=0]="None",n[n.ElementTag=1]="ElementTag",n[n.TemplateTag=2]="TemplateTag",n[n.OpenTag=4]="OpenTag",n[n.CloseTag=8]="CloseTag",n[n.ExpressionIndex=16]="ExpressionIndex",n}(st||{}),En=function(n){return n[n.HTML=0]="HTML",n[n.SVG=1]="SVG",n[n.Math=2]="Math",n}(En||{}),tt=function(n){return n[n.Idle=0]="Idle",n[n.Immediate=1]="Immediate",n[n.Timer=2]="Timer",n[n.Hover=3]="Hover",n[n.Interaction=4]="Interaction",n[n.Viewport=5]="Viewport",n[n.Never=6]="Never",n}(tt||{}),no=function(n){return n[n.RootI18n=0]="RootI18n",n[n.Icu=1]="Icu",n[n.Attr=2]="Attr",n}(no||{}),si=function(n){return n[n.NgTemplate=0]="NgTemplate",n[n.Structural=1]="Structural",n[n.Block=2]="Block",n}(si||{}),A2=Symbol("ConsumesSlot"),Lg=Symbol("DependsOnSlotContext"),ja=Symbol("ConsumesVars"),Hp=Symbol("UsesVarOffset"),dr={[A2]:!0,numSlotsUsed:1},ci={[Lg]:!0},Wn={[ja]:!0};function qa(n){return n[A2]===!0}function lp(n){return n[Lg]===!0}function Pm(n){return n[ja]===!0}function Wb(n){return n[Hp]===!0}function Hi(n){return L({kind:x.Statement,statement:n},ke)}function ds(n,e,t,i){return L({kind:x.Variable,xref:n,variable:e,initializer:t,flags:i},ke)}var ke={debugListId:null,prev:null,next:null};function jA(n,e,t){return L(L(L({kind:x.InterpolateText,target:n,interpolation:e,sourceSpan:t},ci),Wn),ke)}var Vt=class{strings;expressions;i18nPlaceholders;constructor(e,t,i){if(this.strings=e,this.expressions=t,this.i18nPlaceholders=i,i.length!==0&&i.length!==t.length)throw new Error(`Expected ${t.length} placeholders to match interpolation expression count, but got ${i.length}`)}};function bo(n,e,t,i,r,s,o,a,l,c,u){return L({kind:x.Binding,bindingKind:e,target:n,name:t,expression:i,unit:r,securityContext:s,isTextAttribute:o,isStructuralTemplateAttribute:a,templateKind:l,i18nContext:null,i18nMessage:c,sourceSpan:u},ke)}function qA(n,e,t,i,r,s,o,a,l,c){return L(L(L({kind:x.Property,target:n,name:e,expression:t,isAnimationTrigger:i,securityContext:r,sanitizer:null,isStructuralTemplateAttribute:s,templateKind:o,i18nContext:a,i18nMessage:l,sourceSpan:c},ci),Wn),ke)}function HA(n,e,t,i,r,s,o,a,l){return L(L(L({kind:x.TwoWayProperty,target:n,name:e,expression:t,securityContext:i,sanitizer:null,isStructuralTemplateAttribute:r,templateKind:s,i18nContext:o,i18nMessage:a,sourceSpan:l},ci),Wn),ke)}function UA(n,e,t,i,r){return L(L(L({kind:x.StyleProp,target:n,name:e,expression:t,unit:i,sourceSpan:r},ci),Wn),ke)}function zA(n,e,t,i){return L(L(L({kind:x.ClassProp,target:n,name:e,expression:t,sourceSpan:i},ci),Wn),ke)}function WA(n,e,t){return L(L(L({kind:x.StyleMap,target:n,expression:e,sourceSpan:t},ci),Wn),ke)}function QA(n,e,t){return L(L(L({kind:x.ClassMap,target:n,expression:e,sourceSpan:t},ci),Wn),ke)}function GA(n,e,t,i,r,s,o,a,l,c){return L(L(L({kind:x.Attribute,target:n,namespace:e,name:t,expression:i,securityContext:r,sanitizer:null,isTextAttribute:s,isStructuralTemplateAttribute:o,templateKind:a,i18nContext:null,i18nMessage:l,sourceSpan:c},ci),Wn),ke)}function YA(n,e){return L({kind:x.Advance,delta:n,sourceSpan:e},ke)}function I2(n,e,t,i){return L(L(L({kind:x.Conditional,target:n,test:e,conditions:t,processed:null,sourceSpan:i,contextValue:null},ke),ci),Wn)}function XA(n,e,t,i){return L(L({kind:x.Repeater,target:n,targetSlot:e,collection:t,sourceSpan:i},ke),ci)}function ZA(n,e,t,i){return L(L(L({kind:x.DeferWhen,target:n,expr:e,modifier:t,sourceSpan:i},ke),ci),Wn)}function M2(n,e,t,i,r,s,o,a,l,c,u){return L(L(L({kind:x.I18nExpression,context:n,target:e,i18nOwner:t,handle:i,expression:r,icuPlaceholder:s,i18nPlaceholder:o,resolutionTime:a,usage:l,name:c,sourceSpan:u},ke),Wn),ci)}function KA(n,e,t){return L({kind:x.I18nApply,owner:n,handle:e,sourceSpan:t},ke)}function JA(n,e,t,i){return L(L(L({kind:x.StoreLet,target:n,declaredName:e,value:t,sourceSpan:i},ci),Wn),ke)}function ur(n){return n instanceof nt}var nt=class extends Ge{constructor(e=null){super(null,e)}},fn=class n extends nt{name;kind=oe.LexicalRead;constructor(e){super(),this.name=e}visitExpression(e,t){}isEquivalent(e){return this.name===e.name}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.name)}},cp=class n extends nt{target;targetSlot;offset;kind=oe.Reference;constructor(e,t,i){super(),this.target=e,this.targetSlot=t,this.offset=i}visitExpression(){}isEquivalent(e){return e instanceof n&&e.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.target,this.targetSlot,this.offset)}},Oc=class n extends nt{target;value;sourceSpan;kind=oe.StoreLet;[ja]=!0;[Lg]=!0;constructor(e,t,i){super(),this.target=e,this.value=t,this.sourceSpan=i}visitExpression(){}isEquivalent(e){return e instanceof n&&e.target===this.target&&e.value.isEquivalent(this.value)}isConstant(){return!1}transformInternalExpressions(e,t){this.value=X(this.value,e,t)}clone(){return new n(this.target,this.value,this.sourceSpan)}},Rc=class n extends nt{target;targetSlot;kind=oe.ContextLetReference;constructor(e,t){super(),this.target=e,this.targetSlot=t}visitExpression(){}isEquivalent(e){return e instanceof n&&e.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.target,this.targetSlot)}},Br=class n extends nt{view;kind=oe.Context;constructor(e){super(),this.view=e}visitExpression(){}isEquivalent(e){return e instanceof n&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.view)}},T0=class n extends nt{view;kind=oe.TrackContext;constructor(e){super(),this.view=e}visitExpression(){}isEquivalent(e){return e instanceof n&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.view)}},up=class n extends nt{kind=oe.NextContext;steps=1;constructor(){super()}visitExpression(){}isEquivalent(e){return e instanceof n&&e.steps===this.steps}isConstant(){return!1}transformInternalExpressions(){}clone(){let e=new n;return e.steps=this.steps,e}},A0=class n extends nt{kind=oe.GetCurrentView;constructor(){super()}visitExpression(){}isEquivalent(e){return e instanceof n}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n}},dp=class n extends nt{view;kind=oe.RestoreView;constructor(e){super(),this.view=e}visitExpression(e,t){typeof this.view!="number"&&this.view.visitExpression(e,t)}isEquivalent(e){return!(e instanceof n)||typeof e.view!=typeof this.view?!1:typeof this.view=="number"?this.view===e.view:this.view.isEquivalent(e.view)}isConstant(){return!1}transformInternalExpressions(e,t){typeof this.view!="number"&&(this.view=X(this.view,e,t))}clone(){return new n(this.view instanceof Ge?this.view.clone():this.view)}},I0=class n extends nt{expr;kind=oe.ResetView;constructor(e){super(),this.expr=e}visitExpression(e,t){this.expr.visitExpression(e,t)}isEquivalent(e){return e instanceof n&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}transformInternalExpressions(e,t){this.expr=X(this.expr,e,t)}clone(){return new n(this.expr.clone())}},pp=class n extends nt{target;value;kind=oe.TwoWayBindingSet;constructor(e,t){super(),this.target=e,this.value=t}visitExpression(e,t){this.target.visitExpression(e,t),this.value.visitExpression(e,t)}isEquivalent(e){return this.target.isEquivalent(e.target)&&this.value.isEquivalent(e.value)}isConstant(){return!1}transformInternalExpressions(e,t){this.target=X(this.target,e,t),this.value=X(this.value,e,t)}clone(){return new n(this.target,this.value)}},Or=class n extends nt{xref;kind=oe.ReadVariable;name=null;constructor(e){super(),this.xref=e}visitExpression(){}isEquivalent(e){return e instanceof n&&e.xref===this.xref}isConstant(){return!1}transformInternalExpressions(){}clone(){let e=new n(this.xref);return e.name=this.name,e}},yo=class n extends nt{kind=oe.PureFunctionExpr;[ja]=!0;[Hp]=!0;varOffset=null;body;args;fn=null;constructor(e,t){super(),this.body=e,this.args=t}visitExpression(e,t){this.body?.visitExpression(e,t);for(let i of this.args)i.visitExpression(e,t)}isEquivalent(e){return!(e instanceof n)||e.args.length!==this.args.length?!1:e.body!==null&&this.body!==null&&e.body.isEquivalent(this.body)&&e.args.every((t,i)=>t.isEquivalent(this.args[i]))}isConstant(){return!1}transformInternalExpressions(e,t){this.body!==null?this.body=X(this.body,e,t|He.InChildOperation):this.fn!==null&&(this.fn=X(this.fn,e,t));for(let i=0;i<this.args.length;i++)this.args[i]=X(this.args[i],e,t)}clone(){let e=new n(this.body?.clone()??null,this.args.map(t=>t.clone()));return e.fn=this.fn?.clone()??null,e.varOffset=this.varOffset,e}},Pa=class n extends nt{index;kind=oe.PureFunctionParameterExpr;constructor(e){super(),this.index=e}visitExpression(){}isEquivalent(e){return e instanceof n&&e.index===this.index}isConstant(){return!0}transformInternalExpressions(){}clone(){return new n(this.index)}},Da=class n extends nt{target;targetSlot;name;args;kind=oe.PipeBinding;[ja]=!0;[Hp]=!0;varOffset=null;constructor(e,t,i,r){super(),this.target=e,this.targetSlot=t,this.name=i,this.args=r}visitExpression(e,t){for(let i of this.args)i.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){for(let i=0;i<this.args.length;i++)this.args[i]=X(this.args[i],e,t)}clone(){let e=new n(this.target,this.targetSlot,this.name,this.args.map(t=>t.clone()));return e.varOffset=this.varOffset,e}},hp=class n extends nt{target;targetSlot;name;args;numArgs;kind=oe.PipeBindingVariadic;[ja]=!0;[Hp]=!0;varOffset=null;constructor(e,t,i,r,s){super(),this.target=e,this.targetSlot=t,this.name=i,this.args=r,this.numArgs=s}visitExpression(e,t){this.args.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.args=X(this.args,e,t)}clone(){let e=new n(this.target,this.targetSlot,this.name,this.args.clone(),this.numArgs);return e.varOffset=this.varOffset,e}},Na=class n extends nt{receiver;name;kind=oe.SafePropertyRead;constructor(e,t){super(),this.receiver=e,this.name=t}get index(){return this.name}visitExpression(e,t){this.receiver.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.receiver=X(this.receiver,e,t)}clone(){return new n(this.receiver.clone(),this.name)}},La=class n extends nt{receiver;index;kind=oe.SafeKeyedRead;constructor(e,t,i){super(i),this.receiver=e,this.index=t}visitExpression(e,t){this.receiver.visitExpression(e,t),this.index.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.receiver=X(this.receiver,e,t),this.index=X(this.index,e,t)}clone(){return new n(this.receiver.clone(),this.index.clone(),this.sourceSpan)}},_o=class n extends nt{receiver;args;kind=oe.SafeInvokeFunction;constructor(e,t){super(),this.receiver=e,this.args=t}visitExpression(e,t){this.receiver.visitExpression(e,t);for(let i of this.args)i.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.receiver=X(this.receiver,e,t);for(let i=0;i<this.args.length;i++)this.args[i]=X(this.args[i],e,t)}clone(){return new n(this.receiver.clone(),this.args.map(e=>e.clone()))}},Oa=class n extends nt{guard;expr;kind=oe.SafeTernaryExpr;constructor(e,t){super(),this.guard=e,this.expr=t}visitExpression(e,t){this.guard.visitExpression(e,t),this.expr.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.guard=X(this.guard,e,t),this.expr=X(this.expr,e,t)}clone(){return new n(this.guard.clone(),this.expr.clone())}},Fc=class n extends nt{kind=oe.EmptyExpr;visitExpression(e,t){}isEquivalent(e){return e instanceof n}isConstant(){return!0}clone(){return new n}transformInternalExpressions(){}},Ui=class n extends nt{expr;xref;kind=oe.AssignTemporaryExpr;name=null;constructor(e,t){super(),this.expr=e,this.xref=t}visitExpression(e,t){this.expr.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.expr=X(this.expr,e,t)}clone(){let e=new n(this.expr.clone(),this.xref);return e.name=this.name,e}},Vr=class n extends nt{xref;kind=oe.ReadTemporaryExpr;name=null;constructor(e){super(),this.xref=e}visitExpression(e,t){}isEquivalent(){return this.xref===this.xref}isConstant(){return!1}transformInternalExpressions(e,t){}clone(){let e=new n(this.xref);return e.name=this.name,e}},fp=class n extends nt{slot;kind=oe.SlotLiteralExpr;constructor(e){super(),this.slot=e}visitExpression(e,t){}isEquivalent(e){return e instanceof n&&e.slot===this.slot}isConstant(){return!0}clone(){return new n(this.slot)}transformInternalExpressions(){}},mp=class n extends nt{expr;target;targetSlot;alias;kind=oe.ConditionalCase;constructor(e,t,i,r=null){super(),this.expr=e,this.target=t,this.targetSlot=i,this.alias=r}visitExpression(e,t){this.expr!==null&&this.expr.visitExpression(e,t)}isEquivalent(e){return e instanceof n&&e.expr===this.expr}isConstant(){return!0}clone(){return new n(this.expr,this.target,this.targetSlot)}transformInternalExpressions(e,t){this.expr!==null&&(this.expr=X(this.expr,e,t))}},Bc=class n extends nt{expr;kind=oe.ConstCollected;constructor(e){super(),this.expr=e}transformInternalExpressions(e,t){this.expr=e(this.expr,t)}visitExpression(e,t){this.expr.visitExpression(e,t)}isEquivalent(e){return e instanceof n?this.expr.isEquivalent(e.expr):!1}isConstant(){return this.expr.isConstant()}clone(){return new n(this.expr)}};function Tn(n,e){zt(n,(t,i)=>(e(t,i),t),He.None)}var He=function(n){return n[n.None=0]="None",n[n.InChildOperation=1]="InChildOperation",n}(He||{});function Dm(n,e,t){for(let i=0;i<n.expressions.length;i++)n.expressions[i]=X(n.expressions[i],e,t)}function zt(n,e,t){switch(n.kind){case x.StyleProp:case x.StyleMap:case x.ClassProp:case x.ClassMap:case x.Binding:n.expression instanceof Vt?Dm(n.expression,e,t):n.expression=X(n.expression,e,t);break;case x.Property:case x.HostProperty:case x.Attribute:n.expression instanceof Vt?Dm(n.expression,e,t):n.expression=X(n.expression,e,t),n.sanitizer=n.sanitizer&&X(n.sanitizer,e,t);break;case x.TwoWayProperty:n.expression=X(n.expression,e,t),n.sanitizer=n.sanitizer&&X(n.sanitizer,e,t);break;case x.I18nExpression:n.expression=X(n.expression,e,t);break;case x.InterpolateText:Dm(n.interpolation,e,t);break;case x.Statement:gp(n.statement,e,t);break;case x.Variable:n.initializer=X(n.initializer,e,t);break;case x.Conditional:for(let i of n.conditions)i.expr!==null&&(i.expr=X(i.expr,e,t));n.processed!==null&&(n.processed=X(n.processed,e,t)),n.contextValue!==null&&(n.contextValue=X(n.contextValue,e,t));break;case x.Listener:case x.TwoWayListener:for(let i of n.handlerOps)zt(i,e,t|He.InChildOperation);break;case x.ExtractedAttribute:n.expression=n.expression&&X(n.expression,e,t),n.trustedValueFn=n.trustedValueFn&&X(n.trustedValueFn,e,t);break;case x.RepeaterCreate:if(n.trackByOps===null)n.track=X(n.track,e,t);else for(let i of n.trackByOps)zt(i,e,t|He.InChildOperation);n.trackByFn!==null&&(n.trackByFn=X(n.trackByFn,e,t));break;case x.Repeater:n.collection=X(n.collection,e,t);break;case x.Defer:n.loadingConfig!==null&&(n.loadingConfig=X(n.loadingConfig,e,t)),n.placeholderConfig!==null&&(n.placeholderConfig=X(n.placeholderConfig,e,t)),n.resolverFn!==null&&(n.resolverFn=X(n.resolverFn,e,t));break;case x.I18nMessage:for(let[i,r]of n.params)n.params.set(i,X(r,e,t));for(let[i,r]of n.postprocessingParams)n.postprocessingParams.set(i,X(r,e,t));break;case x.DeferWhen:n.expr=X(n.expr,e,t);break;case x.StoreLet:n.value=X(n.value,e,t);break;case x.Advance:case x.Container:case x.ContainerEnd:case x.ContainerStart:case x.DeferOn:case x.DisableBindings:case x.Element:case x.ElementEnd:case x.ElementStart:case x.EnableBindings:case x.I18n:case x.I18nApply:case x.I18nContext:case x.I18nEnd:case x.I18nStart:case x.IcuEnd:case x.IcuStart:case x.Namespace:case x.Pipe:case x.Projection:case x.ProjectionDef:case x.Template:case x.Text:case x.I18nAttributes:case x.IcuPlaceholder:case x.DeclareLet:case x.SourceLocation:break;default:throw new Error(`AssertionError: transformExpressionsInOp doesn't handle ${x[n.kind]}`)}}function X(n,e,t){if(n instanceof nt)n.transformInternalExpressions(e,t);else if(n instanceof qe)n.lhs=X(n.lhs,e,t),n.rhs=X(n.rhs,e,t);else if(n instanceof wa)n.expr=X(n.expr,e,t);else if(n instanceof ai)n.receiver=X(n.receiver,e,t);else if(n instanceof Fr)n.receiver=X(n.receiver,e,t),n.index=X(n.index,e,t);else if(n instanceof _a)n.receiver=X(n.receiver,e,t),n.value=X(n.value,e,t);else if(n instanceof ac)n.receiver=X(n.receiver,e,t),n.index=X(n.index,e,t),n.value=X(n.value,e,t);else if(n instanceof Un){n.fn=X(n.fn,e,t);for(let i=0;i<n.args.length;i++)n.args[i]=X(n.args[i],e,t)}else if(n instanceof $i)for(let i=0;i<n.entries.length;i++)n.entries[i]=X(n.entries[i],e,t);else if(n instanceof ar)for(let i=0;i<n.entries.length;i++)n.entries[i].value=X(n.entries[i].value,e,t);else if(n instanceof Rr)n.condition=X(n.condition,e,t),n.trueCase=X(n.trueCase,e,t),n.falseCase!==null&&(n.falseCase=X(n.falseCase,e,t));else if(n instanceof ya)n.expr=X(n.expr,e,t);else if(n instanceof Ed)n.value=X(n.value,e,t);else if(n instanceof Td)for(let i=0;i<n.expressions.length;i++)n.expressions[i]=X(n.expressions[i],e,t);else if(n instanceof uc)n.condition=X(n.condition,e,t);else if(n instanceof Cd)n.tag=X(n.tag,e,t),n.template.expressions=n.template.expressions.map(i=>X(i,e,t));else if(n instanceof po)if(Array.isArray(n.body))for(let i=0;i<n.body.length;i++)gp(n.body[i],e,t);else n.body=X(n.body,e,t);else if(!(n instanceof Le)){if(n instanceof cc)for(let i=0;i<n.expressions.length;i++)n.expressions[i]=X(n.expressions[i],e,t);else if(!(n instanceof ki||n instanceof uo||n instanceof vn))throw new Error(`Unhandled expression kind: ${n.constructor.name}`)}return e(n,t)}function gp(n,e,t){if(n instanceof Ti)n.expr=X(n.expr,e,t);else if(n instanceof Cn)n.value=X(n.value,e,t);else if(n instanceof kn)n.value!==void 0&&(n.value=X(n.value,e,t));else if(n instanceof Id){n.condition=X(n.condition,e,t);for(let i of n.trueCase)gp(i,e,t);for(let i of n.falseCase)gp(i,e,t)}else throw new Error(`Unhandled statement kind: ${n.constructor.name}`)}function P2(n){return n instanceof vn&&typeof n.value=="string"}var q=(()=>{class n{static nextListId=0;debugListId=n.nextListId++;head={kind:x.ListEnd,next:null,prev:null,debugListId:this.debugListId};tail={kind:x.ListEnd,next:null,prev:null,debugListId:this.debugListId};constructor(){this.head.next=this.tail,this.tail.prev=this.head}push(t){if(Array.isArray(t)){for(let r of t)this.push(r);return}n.assertIsNotEnd(t),n.assertIsUnowned(t),t.debugListId=this.debugListId;let i=this.tail.prev;t.prev=i,i.next=t,t.next=this.tail,this.tail.prev=t}prepend(t){if(t.length===0)return;for(let s of t)n.assertIsNotEnd(s),n.assertIsUnowned(s),s.debugListId=this.debugListId;let i=this.head.next,r=this.head;for(let s of t)r.next=s,s.prev=r,r=s;r.next=i,i.prev=r}*[Symbol.iterator](){let t=this.head.next;for(;t!==this.tail;){n.assertIsOwned(t,this.debugListId);let i=t.next;yield t,t=i}}*reversed(){let t=this.tail.prev;for(;t!==this.head;){n.assertIsOwned(t,this.debugListId);let i=t.prev;yield t,t=i}}static replace(t,i){n.assertIsNotEnd(t),n.assertIsNotEnd(i),n.assertIsOwned(t),n.assertIsUnowned(i),i.debugListId=t.debugListId,t.prev!==null&&(t.prev.next=i,i.prev=t.prev),t.next!==null&&(t.next.prev=i,i.next=t.next),t.debugListId=null,t.prev=null,t.next=null}static replaceWithMany(t,i){if(i.length===0){n.remove(t);return}n.assertIsNotEnd(t),n.assertIsOwned(t);let r=t.debugListId;t.debugListId=null;for(let u of i)n.assertIsNotEnd(u),n.assertIsUnowned(u);let{prev:s,next:o}=t;t.prev=null,t.next=null;let a=s;for(let u of i)this.assertIsUnowned(u),u.debugListId=r,a.next=u,u.prev=a,u.next=null,a=u;let l=i[0],c=a;s!==null&&(s.next=l,l.prev=s),o!==null&&(o.prev=c,c.next=o)}static remove(t){n.assertIsNotEnd(t),n.assertIsOwned(t),t.prev.next=t.next,t.next.prev=t.prev,t.debugListId=null,t.prev=null,t.next=null}static insertBefore(t,i){if(Array.isArray(t)){for(let r of t)this.insertBefore(r,i);return}if(n.assertIsOwned(i),i.prev===null)throw new Error("AssertionError: illegal operation on list start");n.assertIsNotEnd(t),n.assertIsUnowned(t),t.debugListId=i.debugListId,t.prev=null,i.prev.next=t,t.prev=i.prev,t.next=i,i.prev=t}static insertAfter(t,i){if(n.assertIsOwned(i),i.next===null)throw new Error("AssertionError: illegal operation on list end");n.assertIsNotEnd(t),n.assertIsUnowned(t),t.debugListId=i.debugListId,i.next.prev=t,t.next=i.next,t.prev=i,i.next=t}static assertIsUnowned(t){if(t.debugListId!==null)throw new Error(`AssertionError: illegal operation on owned node: ${x[t.kind]}`)}static assertIsOwned(t,i){if(t.debugListId===null)throw new Error(`AssertionError: illegal operation on unowned node: ${x[t.kind]}`);if(i!==void 0&&t.debugListId!==i)throw new Error(`AssertionError: node belongs to the wrong list (expected ${i}, actual ${t.debugListId})`)}static assertIsNotEnd(t){if(t.kind===x.ListEnd)throw new Error("AssertionError: illegal operation on list head or tail")}}return n})(),zn=class{slot=null},eI=new Set([x.Element,x.ElementStart,x.Container,x.ContainerStart,x.Template,x.RepeaterCreate]);function ys(n){return eI.has(n.kind)}function tI(n,e,t,i,r,s){return L(L({kind:x.ElementStart,xref:e,tag:n,handle:new zn,attributes:null,localRefs:[],nonBindable:!1,namespace:t,i18nPlaceholder:i,startSourceSpan:r,wholeSourceSpan:s},dr),ke)}function Up(n,e,t,i,r,s,o,a){return L(L({kind:x.Template,xref:n,templateKind:e,attributes:null,tag:t,handle:new zn,functionNameSuffix:i,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:r,i18nPlaceholder:s,startSourceSpan:o,wholeSourceSpan:a},dr),ke)}function nI(n,e,t,i,r,s,o,a,l,c){return _e(L(L(L({kind:x.RepeaterCreate,attributes:null,xref:n,handle:new zn,emptyView:e,track:i,trackByFn:null,trackByOps:null,tag:t,emptyTag:s,emptyAttributes:null,functionNameSuffix:"For",namespace:En.HTML,nonBindable:!1,localRefs:[],decls:null,vars:null,varNames:r,usesComponentInstance:!1,i18nPlaceholder:o,emptyI18nPlaceholder:a,startSourceSpan:l,wholeSourceSpan:c},dr),ke),Wn),{numSlotsUsed:e===null?2:3})}function iI(n,e){return L({kind:x.ElementEnd,xref:n,sourceSpan:e},ke)}function rI(n){return L({kind:x.DisableBindings,xref:n},ke)}function sI(n){return L({kind:x.EnableBindings,xref:n},ke)}function D2(n,e,t,i){return L(L({kind:x.Text,xref:n,handle:new zn,initialValue:e,icuPlaceholder:t,sourceSpan:i},dr),ke)}function Og(n,e,t,i,r,s,o,a,l){let c=new q;return c.push(r),L({kind:x.Listener,target:n,targetSlot:e,tag:i,hostListener:a,name:t,handlerOps:c,handlerFnName:null,consumesDollarEvent:!1,isAnimationListener:s!==null,animationPhase:s,eventTarget:o,sourceSpan:l},ke)}function N2(n,e,t,i,r,s){let o=new q;return o.push(r),L({kind:x.TwoWayListener,target:n,targetSlot:e,tag:i,name:t,handlerOps:o,handlerFnName:null,sourceSpan:s},ke)}function L2(n,e,t){return L(L({kind:x.Pipe,xref:n,handle:e,name:t},ke),dr)}function oI(n){return L({kind:x.Namespace,active:n},ke)}function aI(n){return L({kind:x.ProjectionDef,def:n},ke)}function lI(n,e,t,i,r){return _e(L(L({kind:x.Projection,xref:n,handle:new zn,selector:e,i18nPlaceholder:t,fallbackView:i,projectionSlotIndex:0,attributes:null,localRefs:[],sourceSpan:r},ke),dr),{numSlotsUsed:i===null?1:2})}function yi(n,e,t,i,r,s,o,a){return L({kind:x.ExtractedAttribute,target:n,bindingKind:e,namespace:t,name:i,expression:r,i18nContext:s,i18nMessage:o,securityContext:a,trustedValueFn:null},ke)}function cI(n,e,t,i,r,s){return _e(L(L({kind:x.Defer,xref:n,handle:new zn,mainView:e,mainSlot:t,loadingView:null,loadingSlot:null,loadingConfig:null,loadingMinimumTime:null,loadingAfterTime:null,placeholderView:null,placeholderSlot:null,placeholderConfig:null,placeholderMinimumTime:null,errorView:null,errorSlot:null,ownResolverFn:i,resolverFn:r,flags:null,sourceSpan:s},ke),dr),{numSlotsUsed:2})}function ss(n,e,t,i){return L({kind:x.DeferOn,defer:n,trigger:e,modifier:t,sourceSpan:i},ke)}function uI(n,e,t){return L(L({kind:x.DeclareLet,xref:n,declaredName:e,sourceSpan:t,handle:new zn},dr),ke)}function dI(n,e,t,i,r,s,o,a){return L({kind:x.I18nMessage,xref:n,i18nContext:e,i18nBlock:t,message:i,messagePlaceholder:r,params:s,postprocessingParams:o,needsPostprocessing:a,subMessages:[]},ke)}function zp(n,e,t,i){return L(L({kind:x.I18nStart,xref:n,handle:new zn,root:t??n,message:e,messageIndex:null,subTemplateIndex:null,context:null,sourceSpan:i},ke),dr)}function Wp(n,e){return L({kind:x.I18nEnd,xref:n,sourceSpan:e},ke)}function pI(n,e,t,i){return L({kind:x.IcuStart,xref:n,message:e,messagePlaceholder:t,context:null,sourceSpan:i},ke)}function hI(n){return L({kind:x.IcuEnd,xref:n},ke)}function fI(n,e,t){return L({kind:x.IcuPlaceholder,xref:n,name:e,strings:t,expressionPlaceholders:[]},ke)}function Nm(n,e,t,i,r){if(t===null&&n!==no.Attr)throw new Error("AssertionError: i18nBlock must be provided for non-attribute contexts.");return L({kind:x.I18nContext,contextKind:n,xref:e,i18nBlock:t,message:i,sourceSpan:r,params:new Map,postprocessingParams:new Map},ke)}function O2(n,e,t){return L(L({kind:x.I18nAttributes,xref:n,handle:e,target:t,i18nAttributesConfig:null},ke),dr)}function mI(n,e){return L({kind:x.SourceLocation,templatePath:n,locations:e},ke)}function gI(n,e,t,i,r,s){return L(L({kind:x.HostProperty,name:n,expression:e,isAnimationTrigger:t,i18nContext:i,securityContext:r,sanitizer:null,sourceSpan:s},Wn),ke)}var R2="CTX_REF_MARKER",Y=function(n){return n[n.Tmpl=0]="Tmpl",n[n.Host=1]="Host",n[n.Both=2]="Both",n}(Y||{}),vp=class{componentName;pool;compatibility;constructor(e,t,i){this.componentName=e,this.pool=t,this.compatibility=i}kind=Y.Both;allocateXrefId(){return this.nextXrefId++}nextXrefId=0},Vc=class extends vp{relativeContextFilePath;i18nUseExternalIds;deferMeta;allDeferrableDepsFn;relativeTemplatePath;enableDebugLocations;constructor(e,t,i,r,s,o,a,l,c){super(e,t,i),this.relativeContextFilePath=r,this.i18nUseExternalIds=s,this.deferMeta=o,this.allDeferrableDepsFn=a,this.relativeTemplatePath=l,this.enableDebugLocations=c,this.root=new rr(this,this.allocateXrefId(),null),this.views.set(this.root.xref,this.root)}kind=Y.Tmpl;fnSuffix="Template";root;views=new Map;contentSelectors=null;allocateView(e){let t=new rr(this,this.allocateXrefId(),e);return this.views.set(t.xref,t),t}get units(){return this.views.values()}addConst(e,t){for(let r=0;r<this.consts.length;r++)if(this.consts[r].isEquivalent(e))return r;let i=this.consts.length;return this.consts.push(e),t&&this.constsInitializers.push(...t),i}consts=[];constsInitializers=[]},xp=class{xref;constructor(e){this.xref=e}create=new q;update=new q;fnName=null;vars=null;*ops(){for(let e of this.create)if(yield e,e.kind===x.Listener||e.kind===x.TwoWayListener)for(let t of e.handlerOps)yield t;else if(e.kind===x.RepeaterCreate&&e.trackByOps!==null)for(let t of e.trackByOps)yield t;for(let e of this.update)yield e}},rr=class extends xp{job;parent;constructor(e,t,i){super(t),this.job=e,this.parent=i}contextVariables=new Map;aliases=new Set;decls=null},bp=class extends vp{constructor(e,t,i){super(e,t,i),this.root=new M0(this)}kind=Y.Host;fnSuffix="HostBindings";root;get units(){return[this.root]}},M0=class extends xp{job;constructor(e){super(0),this.job=e}attributes=null};function vI(n){for(let e of n.units)for(let t of e.ops())zt(t,xI,He.None)}function xI(n){if(n instanceof Un&&n.fn instanceof fn&&n.fn.name==="$any"){if(n.args.length!==1)throw new Error("The $any builtin function expects exactly one argument.");return n.args[0]}return n}function bI(n){let e=new Map;for(let t of n.units)for(let i of t.create)i.kind===x.I18nContext&&e.set(i.xref,i);for(let t of n.units)for(let i of t.update)i.kind===x.I18nExpression&&yI(e,i)&&q.insertAfter(KA(i.i18nOwner,i.handle,null),i)}function yI(n,e){if(e.next?.kind!==x.I18nExpression)return!0;let t=n.get(e.context),i=n.get(e.next.context);if(t===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the I18nExpressionOp's context");if(i===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the next I18nExpressionOp's context");return t.i18nBlock!==null?t.i18nBlock!==i.i18nBlock:e.i18nOwner!==e.next.i18nOwner}function _I(n){for(let e of n.units){let t=e.update.head,i=[],r=null;for(let s of e.create){if(s.kind===x.I18nStart)r={blockXref:s.xref,lastSlotConsumer:s.xref};else if(s.kind===x.I18nEnd){for(let o of i)o.target=r.lastSlotConsumer,q.insertBefore(o,t);i.length=0,r=null}if(qa(s))for(r!==null&&(r.lastSlotConsumer=s.xref);t.next!==null;){if(r!==null&&t.kind===x.I18nExpression&&t.usage===$a.I18nText&&t.i18nOwner===r.blockXref){let o=t;t=t.next,q.remove(o),i.push(o);continue}if(lp(t)&&t.target!==s.xref)break;t=t.next}}}}function Rg(n){let e=new Map;for(let t of n.create)qa(t)&&(e.set(t.xref,t),t.kind===x.RepeaterCreate&&t.emptyView!==null&&e.set(t.emptyView,t));return e}function wI(n){for(let e of n.units){let t=Rg(e);for(let i of e.ops())switch(i.kind){case x.Attribute:SI(e,i,t);break;case x.Property:if(!i.isAnimationTrigger){let r;i.i18nMessage!==null&&i.templateKind===null?r=le.I18n:i.isStructuralTemplateAttribute?r=le.Template:r=le.Property,q.insertBefore(yi(i.target,r,null,i.name,null,null,null,i.securityContext),la(t,i.target))}break;case x.TwoWayProperty:q.insertBefore(yi(i.target,le.TwoWayProperty,null,i.name,null,null,null,i.securityContext),la(t,i.target));break;case x.StyleProp:case x.ClassProp:e.job.compatibility===li.TemplateDefinitionBuilder&&i.expression instanceof Fc&&q.insertBefore(yi(i.target,le.Property,null,i.name,null,null,null,ft.STYLE),la(t,i.target));break;case x.Listener:if(!i.isAnimationListener){let r=yi(i.target,le.Property,null,i.name,null,null,null,ft.NONE);if(n.kind===Y.Host){if(n.compatibility)break;e.create.push(r)}else q.insertBefore(r,la(t,i.target))}break;case x.TwoWayListener:if(n.kind!==Y.Host){let r=yi(i.target,le.Property,null,i.name,null,null,null,ft.NONE);q.insertBefore(r,la(t,i.target))}break}}}function la(n,e){let t=n.get(e);if(t===void 0)throw new Error("All attributes should have an element-like target.");return t}function SI(n,e,t){if(e.expression instanceof Vt)return;let i=e.isTextAttribute||e.expression.isConstant();if(n.job.compatibility===li.TemplateDefinitionBuilder&&(i&&=e.isTextAttribute),i){let r=yi(e.target,e.isStructuralTemplateAttribute?le.Template:le.Attribute,e.namespace,e.name,e.expression,e.i18nContext,e.i18nMessage,e.securityContext);if(n.job.kind===Y.Host)n.create.push(r);else{let s=la(t,e.target);q.insertBefore(r,s)}q.remove(e)}}function EI(n,e){let t=n.get(e);if(t===void 0)throw new Error("All attributes should have an element-like target.");return t}function CI(n){let e=new Map;for(let t of n.units)for(let i of t.create)ys(i)&&e.set(i.xref,i);for(let t of n.units)for(let i of t.ops())if(i.kind===x.Binding)switch(i.bindingKind){case le.Attribute:if(i.name==="ngNonBindable"){q.remove(i);let r=EI(e,i.target);r.nonBindable=!0}else{let[r,s]=qi(i.name);q.replace(i,GA(i.target,r,s,i.expression,i.securityContext,i.isTextAttribute,i.isStructuralTemplateAttribute,i.templateKind,i.i18nMessage,i.sourceSpan))}break;case le.Property:case le.Animation:n.kind===Y.Host?q.replace(i,gI(i.name,i.expression,i.bindingKind===le.Animation,i.i18nContext,i.securityContext,i.sourceSpan)):q.replace(i,qA(i.target,i.name,i.expression,i.bindingKind===le.Animation,i.securityContext,i.isStructuralTemplateAttribute,i.templateKind,i.i18nContext,i.i18nMessage,i.sourceSpan));break;case le.TwoWayProperty:if(!(i.expression instanceof Ge))throw new Error(`Expected value of two-way property binding "${i.name}" to be an expression`);q.replace(i,HA(i.target,i.name,i.expression,i.securityContext,i.isStructuralTemplateAttribute,i.templateKind,i.i18nContext,i.i18nMessage,i.sourceSpan));break;case le.I18n:case le.ClassName:case le.StyleProperty:throw new Error(`Unhandled binding of kind ${le[i.bindingKind]}`)}}var kI=new Set([C.attribute,C.classProp,C.element,C.elementContainer,C.elementContainerEnd,C.elementContainerStart,C.elementEnd,C.elementStart,C.hostProperty,C.i18nExp,C.listener,C.listener,C.property,C.styleProp,C.stylePropInterpolate1,C.stylePropInterpolate2,C.stylePropInterpolate3,C.stylePropInterpolate4,C.stylePropInterpolate5,C.stylePropInterpolate6,C.stylePropInterpolate7,C.stylePropInterpolate8,C.stylePropInterpolateV,C.syntheticHostListener,C.syntheticHostProperty,C.templateCreate,C.twoWayProperty,C.twoWayListener,C.declareLet]),TI=256;function AI(n){for(let e of n.units)Qb(e.create),Qb(e.update)}function Qb(n){let e=null;for(let t of n){if(t.kind!==x.Statement||!(t.statement instanceof Ti)){e=null;continue}if(!(t.statement.expr instanceof Un)||!(t.statement.expr.fn instanceof uo)){e=null;continue}let i=t.statement.expr.fn.value;if(!kI.has(i)){e=null;continue}if(e!==null&&e.instruction===i&&e.length<TI){let r=e.expression.callFn(t.statement.expr.args,t.statement.expr.sourceSpan,t.statement.expr.pure);e.expression=r,e.op.statement=r.toStmt(),e.length++,q.remove(t)}else e={op:t,instruction:i,expression:t.statement.expr,length:1}}}function II(n){for(let e of n.units)for(let t of e.update)t.kind===x.Attribute&&t.expression instanceof Vt&&t.expression.strings.length===2&&t.expression.strings.every(r=>r==="")&&(t.expression=t.expression.expressions[0])}function MI(n){for(let e of n.units)for(let t of e.ops()){if(t.kind!==x.Conditional)continue;let i,r=t.conditions.findIndex(o=>o.expr===null);if(r>=0){let o=t.conditions.splice(r,1)[0].targetSlot;i=new fp(o)}else i=R(-1);let s=t.test==null?null:new Ui(t.test,n.allocateXrefId());for(let o=t.conditions.length-1;o>=0;o--){let a=t.conditions[o];if(a.expr!==null){if(s!==null){let l=o===0?s:new Vr(s.xref);a.expr=new qe(te.Identical,l,a.expr)}else if(a.alias!==null){let l=n.allocateXrefId();a.expr=new Ui(a.expr,l),t.contextValue=new Vr(l)}i=new Rr(a.expr,new fp(a.targetSlot),i)}}t.processed=i,t.conditions=[]}}var PI=new Map([["&&",te.And],[">",te.Bigger],[">=",te.BiggerEquals],["|",te.BitwiseOr],["&",te.BitwiseAnd],["/",te.Divide],["==",te.Equals],["===",te.Identical],["<",te.Lower],["<=",te.LowerEquals],["-",te.Minus],["%",te.Modulo],["*",te.Multiply],["!=",te.NotEquals],["!==",te.NotIdentical],["??",te.NullishCoalesce],["||",te.Or],["+",te.Plus]]);function F2(n){let e=new Map([["svg",En.SVG],["math",En.Math]]);return n===null?En.HTML:e.get(n)??En.HTML}function DI(n){let e=new Map([["svg",En.SVG],["math",En.Math]]);for(let[t,i]of e.entries())if(i===n)return t;return null}function NI(n,e){return e===En.HTML?n:`:${DI(e)}:${n}`}function Ra(n){return Array.isArray(n)?We(n.map(Ra)):R(n)}function LI(n){let e=new Map;for(let t of n.units)for(let i of t.create)if(i.kind===x.ExtractedAttribute){let r=e.get(i.target)||new P0(n.compatibility);e.set(i.target,r),r.add(i.bindingKind,i.name,i.expression,i.namespace,i.trustedValueFn),q.remove(i)}if(n instanceof Vc)for(let t of n.units)for(let i of t.create)if(i.kind==x.Projection){let r=e.get(i.xref);if(r!==void 0){let s=D0(r);s.entries.length>0&&(i.attributes=s)}}else ys(i)&&(i.attributes=Gb(n,e,i.xref),i.kind===x.RepeaterCreate&&i.emptyView!==null&&(i.emptyAttributes=Gb(n,e,i.emptyView)));else if(n instanceof bp)for(let[t,i]of e.entries()){if(t!==n.root.xref)throw new Error("An attribute would be const collected into the host binding's template function, but is not associated with the root xref.");let r=D0(i);r.entries.length>0&&(n.root.attributes=r)}}function Gb(n,e,t){let i=e.get(t);if(i!==void 0){let r=D0(i);if(r.entries.length>0)return n.addConst(r)}return null}var ia=Object.freeze([]),P0=class{compatibility;known=new Map;byKind=new Map;propertyBindings=null;projectAs=null;get attributes(){return this.byKind.get(le.Attribute)??ia}get classes(){return this.byKind.get(le.ClassName)??ia}get styles(){return this.byKind.get(le.StyleProperty)??ia}get bindings(){return this.propertyBindings??ia}get template(){return this.byKind.get(le.Template)??ia}get i18n(){return this.byKind.get(le.I18n)??ia}constructor(e){this.compatibility=e}isKnown(e,t){let i=this.known.get(e)??new Set;return this.known.set(e,i),i.has(t)?!0:(i.add(t),!1)}add(e,t,i,r,s){if(!(this.compatibility===li.TemplateDefinitionBuilder&&(e===le.Attribute||e===le.ClassName||e===le.StyleProperty))&&this.isKnown(e,t))return;if(t==="ngProjectAs"){if(i===null||!(i instanceof vn)||i.value==null||typeof i.value?.toString()!="string")throw Error("ngProjectAs must have a string literal value");this.projectAs=i.value.toString()}let a=this.arrayFor(e);if(a.push(...OI(r,t)),e===le.Attribute||e===le.StyleProperty){if(i===null)throw Error("Attribute, i18n attribute, & style element attributes must have a value");if(s!==null){if(!P2(i))throw Error("AssertionError: extracted attribute value should be string literal");a.push(eT(s,new cc([new kd(i.value)],[]),void 0,i.sourceSpan))}else a.push(i)}}arrayFor(e){return e===le.Property||e===le.TwoWayProperty?(this.propertyBindings??=[],this.propertyBindings):(this.byKind.has(e)||this.byKind.set(e,[]),this.byKind.get(e))}};function OI(n,e){let t=R(e);return n?[R(0),R(n),t]:[t]}function D0({attributes:n,bindings:e,classes:t,i18n:i,projectAs:r,styles:s,template:o}){let a=[...n];if(r!==null){let l=bg(r)[0];a.push(R(5),Ra(l))}return t.length>0&&a.push(R(1),...t),s.length>0&&a.push(R(2),...s),e.length>0&&a.push(R(3),...e),o.length>0&&a.push(R(4),...o),i.length>0&&a.push(R(6),...i),We(a)}function RI(n){let e=new Map;for(let t of n.units){for(let i of t.create)i.kind===x.I18nAttributes&&e.set(i.target,i);for(let i of t.update)switch(i.kind){case x.Property:case x.Attribute:if(i.i18nContext===null||!(i.expression instanceof Vt))continue;let r=e.get(i.target);if(r===void 0)throw new Error("AssertionError: An i18n attribute binding instruction requires the owning element to have an I18nAttributes create instruction");if(r.target!==i.target)throw new Error("AssertionError: Expected i18nAttributes target element to match binding target element");let s=[];for(let o=0;o<i.expression.expressions.length;o++){let a=i.expression.expressions[o];if(i.expression.i18nPlaceholders.length!==i.expression.expressions.length)throw new Error(`AssertionError: An i18n attribute binding instruction requires the same number of expressions and placeholders, but found ${i.expression.i18nPlaceholders.length} placeholders and ${i.expression.expressions.length} expressions`);s.push(M2(i.i18nContext,r.target,r.xref,r.handle,a,null,i.expression.i18nPlaceholders[o],Lc.Creation,$a.I18nAttribute,i.name,i.sourceSpan))}q.replaceWithMany(i,s);break}}}function FI(n){for(let e of n.units)for(let t of e.create)if(t.kind===x.Defer){if(t.resolverFn!==null)continue;if(t.ownResolverFn!==null){if(t.handle.slot===null)throw new Error("AssertionError: slot must be assigned before extracting defer deps functions");let i=e.fnName?.replace("_Template","");t.resolverFn=n.pool.getSharedFunctionReference(t.ownResolverFn,`${i}_Defer_${t.handle.slot}_DepsFn`,!1)}}}function BI(n){let e=new Map;for(let r of n.units)for(let s of r.ops())switch(s.kind){case x.Binding:case x.Property:case x.Attribute:case x.ExtractedAttribute:if(s.i18nMessage===null)continue;if(!e.has(s.i18nMessage)){let o=Nm(no.Attr,n.allocateXrefId(),null,s.i18nMessage,null);r.create.push(o),e.set(s.i18nMessage,o.xref)}s.i18nContext=e.get(s.i18nMessage);break}let t=new Map;for(let r of n.units)for(let s of r.create)switch(s.kind){case x.I18nStart:if(s.xref===s.root){let o=Nm(no.RootI18n,n.allocateXrefId(),s.xref,s.message,null);r.create.push(o),s.context=o.xref,t.set(s.xref,o)}break}for(let r of n.units)for(let s of r.create)if(s.kind===x.I18nStart&&s.xref!==s.root){let o=t.get(s.root);if(o===void 0)throw Error("AssertionError: Root i18n block i18n context should have been created.");s.context=o.xref,t.set(s.xref,o)}let i=null;for(let r of n.units)for(let s of r.create)switch(s.kind){case x.I18nStart:i=s;break;case x.I18nEnd:i=null;break;case x.IcuStart:if(i===null)throw Error("AssertionError: Unexpected ICU outside of an i18n block.");if(s.message.id!==i.message.id){let o=Nm(no.Icu,n.allocateXrefId(),i.root,s.message,null);r.create.push(o),s.context=o.xref}else s.context=i.context,t.get(i.xref).contextKind=no.Icu;break}}function VI(n){let e=new Map;for(let t of n.units)for(let i of t.update.reversed())if(i.kind===x.Binding&&i.isTextAttribute){let r=e.get(i.target)||new Set;r.has(i.name)&&n.compatibility===li.TemplateDefinitionBuilder&&(i.name==="style"||i.name==="class")&&q.remove(i),r.add(i.name),e.set(i.target,r)}}function $I(n){for(let e of n.units)for(let t of e.create)t.kind===x.Defer&&(t.placeholderMinimumTime!==null&&(t.placeholderConfig=new Bc(Ra([t.placeholderMinimumTime]))),(t.loadingMinimumTime!==null||t.loadingAfterTime!==null)&&(t.loadingConfig=new Bc(Ra([t.loadingMinimumTime,t.loadingAfterTime]))))}function jI(n){let e=new Map;function t(r){if(e.has(r.xref))return e.get(r.xref);let s=new qI;for(let o of r.create)if(!(!ys(o)||o.localRefs===null)){if(!Array.isArray(o.localRefs))throw new Error("LocalRefs were already processed, but were needed to resolve defer targets.");for(let a of o.localRefs)a.target===""&&s.targets.set(a.name,{xref:o.xref,slot:o.handle})}return e.set(r.xref,s),s}function i(r,s,o){switch(s.trigger.kind){case tt.Idle:case tt.Never:case tt.Immediate:case tt.Timer:return;case tt.Hover:case tt.Interaction:case tt.Viewport:if(s.trigger.targetName===null){if(o===null)throw new Error("defer on trigger with no target name must have a placeholder block");let c=n.views.get(o);if(c==null)throw new Error("AssertionError: could not find placeholder view for defer on trigger");for(let u of c.create)if(qa(u)&&(ys(u)||u.kind===x.Projection)){s.trigger.targetXref=u.xref,s.trigger.targetView=o,s.trigger.targetSlotViewSteps=-1,s.trigger.targetSlot=u.handle;return}return}let a=o!==null?n.views.get(o):r,l=o!==null?-1:0;for(;a!==null;){let c=t(a);if(c.targets.has(s.trigger.targetName)){let{xref:u,slot:f}=c.targets.get(s.trigger.targetName);s.trigger.targetXref=u,s.trigger.targetView=a.xref,s.trigger.targetSlotViewSteps=l,s.trigger.targetSlot=f;return}a=a.parent!==null?n.views.get(a.parent):null,l++}break;default:throw new Error(`Trigger kind ${s.trigger.kind} not handled`)}}for(let r of n.units){let s=new Map;for(let o of r.create)switch(o.kind){case x.Defer:s.set(o.xref,o);break;case x.DeferOn:let a=s.get(o.defer);i(r,o,o.modifier==="hydrate"?a.mainView:a.placeholderView);break}}}var qI=class{targets=new Map},HI=new Map([[x.ElementEnd,[x.ElementStart,x.Element]],[x.ContainerEnd,[x.ContainerStart,x.Container]],[x.I18nEnd,[x.I18nStart,x.I18n]]]),UI=new Set([x.Pipe]);function zI(n){for(let e of n.units)for(let t of e.create){let i=HI.get(t.kind);if(i===void 0)continue;let[r,s]=i,o=t.prev;for(;o!==null&&UI.has(o.kind);)o=o.prev;o!==null&&o.kind===r&&(o.kind=s,q.remove(t))}}function WI(n){for(let e of n.units)for(let t of e.ops())zt(t,i=>KI(i,{job:n}),He.None),zt(t,JI,He.None)}function fi(n){return n instanceof wa?fi(n.expr):n instanceof qe?fi(n.lhs)||fi(n.rhs):n instanceof Rr?n.falseCase&&fi(n.falseCase)?!0:fi(n.condition)||fi(n.trueCase):n instanceof uc?fi(n.condition):n instanceof Ui?fi(n.expr):n instanceof ai?fi(n.receiver):n instanceof Fr?fi(n.receiver)||fi(n.index):n instanceof Un||n instanceof $i||n instanceof ar||n instanceof _o||n instanceof Da}function QI(n){let e=new Set;return X(n,t=>(t instanceof Ui&&e.add(t.xref),t),He.None),e}function GI(n,e,t){return X(n,i=>{if(i instanceof Ui&&e.has(i.xref)){let r=new Vr(i.xref);return t.job.compatibility===li.TemplateDefinitionBuilder?new Ui(r,r.xref):r}return i},He.None),n}function ra(n,e,t){let i;if(fi(n)){let r=t.job.allocateXrefId();i=[new Ui(n,r),new Vr(r)]}else i=[n,n.clone()],GI(i[1],QI(i[0]),t);return new Oa(i[0],e(i[1]))}function YI(n){return n instanceof Na||n instanceof La||n instanceof _o}function XI(n){return n instanceof ai||n instanceof Fr||n instanceof Un}function B2(n){return YI(n)||XI(n)}function ZI(n){if(B2(n)&&n.receiver instanceof Oa){let e=n.receiver;for(;e.expr instanceof Oa;)e=e.expr;return e}return null}function KI(n,e){if(!B2(n))return n;let t=ZI(n);if(t){if(n instanceof Un)return t.expr=t.expr.callFn(n.args),n.receiver;if(n instanceof ai)return t.expr=t.expr.prop(n.name),n.receiver;if(n instanceof Fr)return t.expr=t.expr.key(n.index),n.receiver;if(n instanceof _o)return t.expr=ra(t.expr,i=>i.callFn(n.args),e),n.receiver;if(n instanceof Na)return t.expr=ra(t.expr,i=>i.prop(n.name),e),n.receiver;if(n instanceof La)return t.expr=ra(t.expr,i=>i.key(n.index),e),n.receiver}else{if(n instanceof _o)return ra(n.receiver,i=>i.callFn(n.args),e);if(n instanceof Na)return ra(n.receiver,i=>i.prop(n.name),e);if(n instanceof La)return ra(n.receiver,i=>i.key(n.index),e)}return n}function JI(n){return n instanceof Oa?new Rr(new qe(te.Equals,n.guard,dc),dc,n.expr):n}var Yb="\uFFFD",e3="#",t3="*",n3="/",i3=":",r3="[",s3="]",o3="|";function a3(n){let e=new Map,t=new Map,i=new Map;for(let s of n.units)for(let o of s.create)switch(o.kind){case x.I18nContext:let a=l3(n,o);s.create.push(a),e.set(o.xref,a),i.set(o.xref,o);break;case x.I18nStart:t.set(o.xref,o);break}let r=null;for(let s of n.units)for(let o of s.create)switch(o.kind){case x.IcuStart:r=o,q.remove(o);let a=i.get(o.context);if(a.contextKind!==no.Icu)continue;let l=t.get(a.i18nBlock);if(l.context===a.xref)continue;let c=t.get(l.root),u=e.get(c.context);if(u===void 0)throw Error("AssertionError: ICU sub-message should belong to a root message.");let f=e.get(a.xref);f.messagePlaceholder=o.messagePlaceholder,u.subMessages.push(f.xref);break;case x.IcuEnd:r=null,q.remove(o);break;case x.IcuPlaceholder:if(r===null||r.context==null)throw Error("AssertionError: Unexpected ICU placeholder outside of i18n context");e.get(r.context).postprocessingParams.set(o.name,R(c3(o))),q.remove(o);break}}function l3(n,e,t){let i=Xb(e.params),r=Xb(e.postprocessingParams),s=[...e.params.values()].some(o=>o.length>1);return dI(n.allocateXrefId(),e.xref,e.i18nBlock,e.message,null,i,r,s)}function c3(n){if(n.strings.length!==n.expressionPlaceholders.length+1)throw Error(`AssertionError: Invalid ICU placeholder with ${n.strings.length} strings and ${n.expressionPlaceholders.length} expressions`);let e=n.expressionPlaceholders.map(fa);return n.strings.flatMap((t,i)=>[t,e[i]||""]).join("")}function Xb(n){let e=new Map;for(let[t,i]of n){let r=u3(i);r!==null&&e.set(t,R(r))}return e}function u3(n){if(n.length===0)return null;let e=n.map(t=>fa(t));return e.length===1?e[0]:`${r3}${e.join(o3)}${s3}`}function fa(n){if(n.flags&st.ElementTag&&n.flags&st.TemplateTag){if(typeof n.value!="object")throw Error("AssertionError: Expected i18n param value to have an element and template slot");let r=fa(_e(L({},n),{value:n.value.element,flags:n.flags&~st.TemplateTag})),s=fa(_e(L({},n),{value:n.value.template,flags:n.flags&~st.ElementTag}));return n.flags&st.OpenTag&&n.flags&st.CloseTag?`${s}${r}${s}`:n.flags&st.CloseTag?`${r}${s}`:`${s}${r}`}if(n.flags&st.OpenTag&&n.flags&st.CloseTag)return`${fa(_e(L({},n),{flags:n.flags&~st.CloseTag}))}${fa(_e(L({},n),{flags:n.flags&~st.OpenTag}))}`;if(n.flags===st.None)return`${n.value}`;let e="",t="";n.flags&st.ElementTag?e=e3:n.flags&st.TemplateTag&&(e=t3),e!==""&&(t=n.flags&st.CloseTag?n3:"");let i=n.subTemplateIndex===null?"":`${i3}${n.subTemplateIndex}`;return`${Yb}${t}${e}${n.value}${i}${Yb}`}function d3(n){for(let e of n.units){let t=new Map;for(let r of e.create){if(qa(r)){if(r.handle.slot===null)throw new Error("AssertionError: expected slots to have been allocated before generating advance() calls")}else continue;t.set(r.xref,r.handle.slot)}let i=0;for(let r of e.update){let s=null;if(lp(r)?s=r:Tn(r,a=>{s===null&&lp(a)&&(s=a)}),s===null)continue;if(!t.has(s.target))throw new Error(`AssertionError: reference to unknown slot for target ${s.target}`);let o=t.get(s.target);if(i!==o){let a=o-i;if(a<0)throw new Error("AssertionError: slot counter should never need to move backwards");q.insertBefore(YA(a,s.sourceSpan),r),i=o}}}}function p3(n){let e=n.compatibility===li.TemplateDefinitionBuilder,t=[],i=0;for(let r of n.units)for(let s of r.create)s.kind===x.Projection&&(t.push(s.selector),s.projectionSlotIndex=i++);if(t.length>0){let r=null;if(t.length>1||t[0]!=="*"){let s=t.map(o=>o==="*"?o:bg(o));r=n.pool.getConstLiteral(Ra(s),e)}n.contentSelectors=n.pool.getConstLiteral(Ra(t),e),n.root.create.prepend([aI(r)])}}function h3(n){Gl(n.root,null)}function Gl(n,e){let t=f3(n,e);for(let i of n.create)switch(i.kind){case x.Template:Gl(n.job.views.get(i.xref),t);break;case x.Projection:i.fallbackView!==null&&Gl(n.job.views.get(i.fallbackView),t);break;case x.RepeaterCreate:Gl(n.job.views.get(i.xref),t),i.emptyView&&Gl(n.job.views.get(i.emptyView),t),i.trackByOps!==null&&i.trackByOps.prepend(xd(n,t,!1));break;case x.Listener:case x.TwoWayListener:i.handlerOps.prepend(xd(n,t,!0));break}n.update.prepend(xd(n,t,!1))}function f3(n,e){let t={view:n.xref,viewContextVariable:{kind:an.Context,name:null,view:n.xref},contextVariables:new Map,aliases:n.aliases,references:[],letDeclarations:[],parent:e};for(let i of n.contextVariables.keys())t.contextVariables.set(i,{kind:an.Identifier,name:null,identifier:i,local:!1});for(let i of n.create)switch(i.kind){case x.ElementStart:case x.Template:if(!Array.isArray(i.localRefs))throw new Error("AssertionError: expected localRefs to be an array");for(let r=0;r<i.localRefs.length;r++)t.references.push({name:i.localRefs[r].name,targetId:i.xref,targetSlot:i.handle,offset:r,variable:{kind:an.Identifier,name:null,identifier:i.localRefs[r].name,local:!1}});break;case x.DeclareLet:t.letDeclarations.push({targetId:i.xref,targetSlot:i.handle,variable:{kind:an.Identifier,name:null,identifier:i.declaredName,local:!1}});break}return t}function xd(n,e,t){let i=[];e.view!==n.xref&&i.push(ds(n.job.allocateXrefId(),e.viewContextVariable,new up,bi.None));let r=n.job.views.get(e.view);for(let[s,o]of r.contextVariables){let a=new Br(e.view),l=o===R2?a:new ai(a,o);i.push(ds(n.job.allocateXrefId(),e.contextVariables.get(s),l,bi.None))}for(let s of r.aliases)i.push(ds(n.job.allocateXrefId(),s,s.expression.clone(),bi.AlwaysInline));for(let s of e.references)i.push(ds(n.job.allocateXrefId(),s.variable,new cp(s.targetId,s.targetSlot,s.offset),bi.None));if(e.view!==n.xref||t)for(let s of e.letDeclarations)i.push(ds(n.job.allocateXrefId(),s.variable,new Rc(s.targetId,s.targetSlot),bi.None));return e.parent!==null&&i.push(...xd(n,e.parent,!1)),i}function m3(n){for(let e of n.units)for(let t of e.ops())zt(t,i=>i instanceof Bc?R(n.addConst(i.expr)):i,He.None)}var Zb="style.",Kb="class.",g3="style!",Jb="class!",ey="!important";function v3(n){for(let e of n.root.update)if(e.kind===x.Binding&&e.bindingKind===le.Property)if(e.name.endsWith(ey)&&(e.name=e.name.substring(0,e.name.length-ey.length)),e.name.startsWith(Zb)){e.bindingKind=le.StyleProperty,e.name=e.name.substring(Zb.length),x3(e.name)||(e.name=b3(e.name));let{property:t,suffix:i}=Lm(e.name);e.name=t,e.unit=i}else e.name.startsWith(g3)?(e.bindingKind=le.StyleProperty,e.name="style"):e.name.startsWith(Kb)?(e.bindingKind=le.ClassName,e.name=Lm(e.name.substring(Kb.length)).property):e.name.startsWith(Jb)&&(e.bindingKind=le.ClassName,e.name=Lm(e.name.substring(Jb.length)).property)}function x3(n){return n.startsWith("--")}function b3(n){return n.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function Lm(n){let e=n.indexOf("!important");e!==-1&&(n=e>0?n.substring(0,e):"");let t=null,i=n,r=n.lastIndexOf(".");return r>0&&(t=n.slice(r+1),i=n.substring(0,r)),{property:i,suffix:t}}function N0(n,e=!1){return Pn(Object.keys(n).map(t=>({key:t,quoted:e,value:n[t]})))}var L0=class{visitText(e){return e.value}visitContainer(e){return e.children.map(t=>t.visit(this)).join("")}visitIcu(e){let t=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${t.join(" ")}}`}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(t=>t.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(t=>t.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,t){return this.formatPh(e.name)}formatPh(e){return`{${Xc(e,!1)}}`}},y3=new L0;function V2(n){return n.visit(y3)}var _s=class{sourceSpan;i18n;constructor(e,t){this.sourceSpan=e,this.i18n=t}},wo=class extends _s{value;tokens;constructor(e,t,i,r){super(t,r),this.value=e,this.tokens=i}visit(e,t){return e.visitText(this,t)}},oo=class extends _s{switchValue;type;cases;switchValueSourceSpan;constructor(e,t,i,r,s,o){super(r,o),this.switchValue=e,this.type=t,this.cases=i,this.switchValueSourceSpan=s}visit(e,t){return e.visitExpansion(this,t)}},yp=class{value;expression;sourceSpan;valueSourceSpan;expSourceSpan;constructor(e,t,i,r,s){this.value=e,this.expression=t,this.sourceSpan=i,this.valueSourceSpan=r,this.expSourceSpan=s}visit(e,t){return e.visitExpansionCase(this,t)}},O0=class extends _s{name;value;keySpan;valueSpan;valueTokens;constructor(e,t,i,r,s,o,a){super(i,a),this.name=e,this.value=t,this.keySpan=r,this.valueSpan=s,this.valueTokens=o}visit(e,t){return e.visitAttribute(this,t)}},mi=class extends _s{name;attrs;children;startSourceSpan;endSourceSpan;constructor(e,t,i,r,s,o=null,a){super(r,a),this.name=e,this.attrs=t,this.children=i,this.startSourceSpan=s,this.endSourceSpan=o}visit(e,t){return e.visitElement(this,t)}},$c=class{value;sourceSpan;constructor(e,t){this.value=e,this.sourceSpan=t}visit(e,t){return e.visitComment(this,t)}},vi=class extends _s{name;parameters;children;nameSpan;startSourceSpan;endSourceSpan;constructor(e,t,i,r,s,o,a=null,l){super(r,l),this.name=e,this.parameters=t,this.children=i,this.nameSpan=s,this.startSourceSpan=o,this.endSourceSpan=a}visit(e,t){return e.visitBlock(this,t)}},_p=class{expression;sourceSpan;constructor(e,t){this.expression=e,this.sourceSpan=t}visit(e,t){return e.visitBlockParameter(this,t)}},wp=class{name;value;sourceSpan;nameSpan;valueSpan;constructor(e,t,i,r,s){this.name=e,this.value=t,this.sourceSpan=i,this.nameSpan=r,this.valueSpan=s}visit(e,t){return e.visitLetDeclaration(this,t)}};function Lt(n,e,t=null){let i=[],r=n.visit?s=>n.visit(s,t)||s.visit(n,t):s=>s.visit(n,t);return e.forEach(s=>{let o=r(s);o&&i.push(o)}),i}var jc={AElig:"\xC6",AMP:"&",amp:"&",Aacute:"\xC1",Abreve:"\u0102",Acirc:"\xC2",Acy:"\u0410",Afr:"\u{1D504}",Agrave:"\xC0",Alpha:"\u0391",Amacr:"\u0100",And:"\u2A53",Aogon:"\u0104",Aopf:"\u{1D538}",ApplyFunction:"\u2061",af:"\u2061",Aring:"\xC5",angst:"\xC5",Ascr:"\u{1D49C}",Assign:"\u2254",colone:"\u2254",coloneq:"\u2254",Atilde:"\xC3",Auml:"\xC4",Backslash:"\u2216",setminus:"\u2216",setmn:"\u2216",smallsetminus:"\u2216",ssetmn:"\u2216",Barv:"\u2AE7",Barwed:"\u2306",doublebarwedge:"\u2306",Bcy:"\u0411",Because:"\u2235",becaus:"\u2235",because:"\u2235",Bernoullis:"\u212C",Bscr:"\u212C",bernou:"\u212C",Beta:"\u0392",Bfr:"\u{1D505}",Bopf:"\u{1D539}",Breve:"\u02D8",breve:"\u02D8",Bumpeq:"\u224E",HumpDownHump:"\u224E",bump:"\u224E",CHcy:"\u0427",COPY:"\xA9",copy:"\xA9",Cacute:"\u0106",Cap:"\u22D2",CapitalDifferentialD:"\u2145",DD:"\u2145",Cayleys:"\u212D",Cfr:"\u212D",Ccaron:"\u010C",Ccedil:"\xC7",Ccirc:"\u0108",Cconint:"\u2230",Cdot:"\u010A",Cedilla:"\xB8",cedil:"\xB8",CenterDot:"\xB7",centerdot:"\xB7",middot:"\xB7",Chi:"\u03A7",CircleDot:"\u2299",odot:"\u2299",CircleMinus:"\u2296",ominus:"\u2296",CirclePlus:"\u2295",oplus:"\u2295",CircleTimes:"\u2297",otimes:"\u2297",ClockwiseContourIntegral:"\u2232",cwconint:"\u2232",CloseCurlyDoubleQuote:"\u201D",rdquo:"\u201D",rdquor:"\u201D",CloseCurlyQuote:"\u2019",rsquo:"\u2019",rsquor:"\u2019",Colon:"\u2237",Proportion:"\u2237",Colone:"\u2A74",Congruent:"\u2261",equiv:"\u2261",Conint:"\u222F",DoubleContourIntegral:"\u222F",ContourIntegral:"\u222E",conint:"\u222E",oint:"\u222E",Copf:"\u2102",complexes:"\u2102",Coproduct:"\u2210",coprod:"\u2210",CounterClockwiseContourIntegral:"\u2233",awconint:"\u2233",Cross:"\u2A2F",Cscr:"\u{1D49E}",Cup:"\u22D3",CupCap:"\u224D",asympeq:"\u224D",DDotrahd:"\u2911",DJcy:"\u0402",DScy:"\u0405",DZcy:"\u040F",Dagger:"\u2021",ddagger:"\u2021",Darr:"\u21A1",Dashv:"\u2AE4",DoubleLeftTee:"\u2AE4",Dcaron:"\u010E",Dcy:"\u0414",Del:"\u2207",nabla:"\u2207",Delta:"\u0394",Dfr:"\u{1D507}",DiacriticalAcute:"\xB4",acute:"\xB4",DiacriticalDot:"\u02D9",dot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",dblac:"\u02DD",DiacriticalGrave:"`",grave:"`",DiacriticalTilde:"\u02DC",tilde:"\u02DC",Diamond:"\u22C4",diam:"\u22C4",diamond:"\u22C4",DifferentialD:"\u2146",dd:"\u2146",Dopf:"\u{1D53B}",Dot:"\xA8",DoubleDot:"\xA8",die:"\xA8",uml:"\xA8",DotDot:"\u20DC",DotEqual:"\u2250",doteq:"\u2250",esdot:"\u2250",DoubleDownArrow:"\u21D3",Downarrow:"\u21D3",dArr:"\u21D3",DoubleLeftArrow:"\u21D0",Leftarrow:"\u21D0",lArr:"\u21D0",DoubleLeftRightArrow:"\u21D4",Leftrightarrow:"\u21D4",hArr:"\u21D4",iff:"\u21D4",DoubleLongLeftArrow:"\u27F8",Longleftarrow:"\u27F8",xlArr:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",Longleftrightarrow:"\u27FA",xhArr:"\u27FA",DoubleLongRightArrow:"\u27F9",Longrightarrow:"\u27F9",xrArr:"\u27F9",DoubleRightArrow:"\u21D2",Implies:"\u21D2",Rightarrow:"\u21D2",rArr:"\u21D2",DoubleRightTee:"\u22A8",vDash:"\u22A8",DoubleUpArrow:"\u21D1",Uparrow:"\u21D1",uArr:"\u21D1",DoubleUpDownArrow:"\u21D5",Updownarrow:"\u21D5",vArr:"\u21D5",DoubleVerticalBar:"\u2225",par:"\u2225",parallel:"\u2225",shortparallel:"\u2225",spar:"\u2225",DownArrow:"\u2193",ShortDownArrow:"\u2193",darr:"\u2193",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",duarr:"\u21F5",DownBreve:"\u0311",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",leftharpoondown:"\u21BD",lhard:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",rhard:"\u21C1",rightharpoondown:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",top:"\u22A4",DownTeeArrow:"\u21A7",mapstodown:"\u21A7",Dscr:"\u{1D49F}",Dstrok:"\u0110",ENG:"\u014A",ETH:"\xD0",Eacute:"\xC9",Ecaron:"\u011A",Ecirc:"\xCA",Ecy:"\u042D",Edot:"\u0116",Efr:"\u{1D508}",Egrave:"\xC8",Element:"\u2208",in:"\u2208",isin:"\u2208",isinv:"\u2208",Emacr:"\u0112",EmptySmallSquare:"\u25FB",EmptyVerySmallSquare:"\u25AB",Eogon:"\u0118",Eopf:"\u{1D53C}",Epsilon:"\u0395",Equal:"\u2A75",EqualTilde:"\u2242",eqsim:"\u2242",esim:"\u2242",Equilibrium:"\u21CC",rightleftharpoons:"\u21CC",rlhar:"\u21CC",Escr:"\u2130",expectation:"\u2130",Esim:"\u2A73",Eta:"\u0397",Euml:"\xCB",Exists:"\u2203",exist:"\u2203",ExponentialE:"\u2147",ee:"\u2147",exponentiale:"\u2147",Fcy:"\u0424",Ffr:"\u{1D509}",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",blacksquare:"\u25AA",squarf:"\u25AA",squf:"\u25AA",Fopf:"\u{1D53D}",ForAll:"\u2200",forall:"\u2200",Fouriertrf:"\u2131",Fscr:"\u2131",GJcy:"\u0403",GT:">",gt:">",Gamma:"\u0393",Gammad:"\u03DC",Gbreve:"\u011E",Gcedil:"\u0122",Gcirc:"\u011C",Gcy:"\u0413",Gdot:"\u0120",Gfr:"\u{1D50A}",Gg:"\u22D9",ggg:"\u22D9",Gopf:"\u{1D53E}",GreaterEqual:"\u2265",ge:"\u2265",geq:"\u2265",GreaterEqualLess:"\u22DB",gel:"\u22DB",gtreqless:"\u22DB",GreaterFullEqual:"\u2267",gE:"\u2267",geqq:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",gl:"\u2277",gtrless:"\u2277",GreaterSlantEqual:"\u2A7E",geqslant:"\u2A7E",ges:"\u2A7E",GreaterTilde:"\u2273",gsim:"\u2273",gtrsim:"\u2273",Gscr:"\u{1D4A2}",Gt:"\u226B",NestedGreaterGreater:"\u226B",gg:"\u226B",HARDcy:"\u042A",Hacek:"\u02C7",caron:"\u02C7",Hat:"^",Hcirc:"\u0124",Hfr:"\u210C",Poincareplane:"\u210C",HilbertSpace:"\u210B",Hscr:"\u210B",hamilt:"\u210B",Hopf:"\u210D",quaternions:"\u210D",HorizontalLine:"\u2500",boxh:"\u2500",Hstrok:"\u0126",HumpEqual:"\u224F",bumpe:"\u224F",bumpeq:"\u224F",IEcy:"\u0415",IJlig:"\u0132",IOcy:"\u0401",Iacute:"\xCD",Icirc:"\xCE",Icy:"\u0418",Idot:"\u0130",Ifr:"\u2111",Im:"\u2111",image:"\u2111",imagpart:"\u2111",Igrave:"\xCC",Imacr:"\u012A",ImaginaryI:"\u2148",ii:"\u2148",Int:"\u222C",Integral:"\u222B",int:"\u222B",Intersection:"\u22C2",bigcap:"\u22C2",xcap:"\u22C2",InvisibleComma:"\u2063",ic:"\u2063",InvisibleTimes:"\u2062",it:"\u2062",Iogon:"\u012E",Iopf:"\u{1D540}",Iota:"\u0399",Iscr:"\u2110",imagline:"\u2110",Itilde:"\u0128",Iukcy:"\u0406",Iuml:"\xCF",Jcirc:"\u0134",Jcy:"\u0419",Jfr:"\u{1D50D}",Jopf:"\u{1D541}",Jscr:"\u{1D4A5}",Jsercy:"\u0408",Jukcy:"\u0404",KHcy:"\u0425",KJcy:"\u040C",Kappa:"\u039A",Kcedil:"\u0136",Kcy:"\u041A",Kfr:"\u{1D50E}",Kopf:"\u{1D542}",Kscr:"\u{1D4A6}",LJcy:"\u0409",LT:"<",lt:"<",Lacute:"\u0139",Lambda:"\u039B",Lang:"\u27EA",Laplacetrf:"\u2112",Lscr:"\u2112",lagran:"\u2112",Larr:"\u219E",twoheadleftarrow:"\u219E",Lcaron:"\u013D",Lcedil:"\u013B",Lcy:"\u041B",LeftAngleBracket:"\u27E8",lang:"\u27E8",langle:"\u27E8",LeftArrow:"\u2190",ShortLeftArrow:"\u2190",larr:"\u2190",leftarrow:"\u2190",slarr:"\u2190",LeftArrowBar:"\u21E4",larrb:"\u21E4",LeftArrowRightArrow:"\u21C6",leftrightarrows:"\u21C6",lrarr:"\u21C6",LeftCeiling:"\u2308",lceil:"\u2308",LeftDoubleBracket:"\u27E6",lobrk:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",dharl:"\u21C3",downharpoonleft:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",lfloor:"\u230A",LeftRightArrow:"\u2194",harr:"\u2194",leftrightarrow:"\u2194",LeftRightVector:"\u294E",LeftTee:"\u22A3",dashv:"\u22A3",LeftTeeArrow:"\u21A4",mapstoleft:"\u21A4",LeftTeeVector:"\u295A",LeftTriangle:"\u22B2",vartriangleleft:"\u22B2",vltri:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",ltrie:"\u22B4",trianglelefteq:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",uharl:"\u21BF",upharpoonleft:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",leftharpoonup:"\u21BC",lharu:"\u21BC",LeftVectorBar:"\u2952",LessEqualGreater:"\u22DA",leg:"\u22DA",lesseqgtr:"\u22DA",LessFullEqual:"\u2266",lE:"\u2266",leqq:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",lg:"\u2276",LessLess:"\u2AA1",LessSlantEqual:"\u2A7D",leqslant:"\u2A7D",les:"\u2A7D",LessTilde:"\u2272",lesssim:"\u2272",lsim:"\u2272",Lfr:"\u{1D50F}",Ll:"\u22D8",Lleftarrow:"\u21DA",lAarr:"\u21DA",Lmidot:"\u013F",LongLeftArrow:"\u27F5",longleftarrow:"\u27F5",xlarr:"\u27F5",LongLeftRightArrow:"\u27F7",longleftrightarrow:"\u27F7",xharr:"\u27F7",LongRightArrow:"\u27F6",longrightarrow:"\u27F6",xrarr:"\u27F6",Lopf:"\u{1D543}",LowerLeftArrow:"\u2199",swarr:"\u2199",swarrow:"\u2199",LowerRightArrow:"\u2198",searr:"\u2198",searrow:"\u2198",Lsh:"\u21B0",lsh:"\u21B0",Lstrok:"\u0141",Lt:"\u226A",NestedLessLess:"\u226A",ll:"\u226A",Map:"\u2905",Mcy:"\u041C",MediumSpace:"\u205F",Mellintrf:"\u2133",Mscr:"\u2133",phmmat:"\u2133",Mfr:"\u{1D510}",MinusPlus:"\u2213",mnplus:"\u2213",mp:"\u2213",Mopf:"\u{1D544}",Mu:"\u039C",NJcy:"\u040A",Nacute:"\u0143",Ncaron:"\u0147",Ncedil:"\u0145",Ncy:"\u041D",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",ZeroWidthSpace:"\u200B",NewLine:`
`,Nfr:"\u{1D511}",NoBreak:"\u2060",NonBreakingSpace:"\xA0",nbsp:"\xA0",Nopf:"\u2115",naturals:"\u2115",Not:"\u2AEC",NotCongruent:"\u2262",nequiv:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",npar:"\u2226",nparallel:"\u2226",nshortparallel:"\u2226",nspar:"\u2226",NotElement:"\u2209",notin:"\u2209",notinva:"\u2209",NotEqual:"\u2260",ne:"\u2260",NotEqualTilde:"\u2242\u0338",nesim:"\u2242\u0338",NotExists:"\u2204",nexist:"\u2204",nexists:"\u2204",NotGreater:"\u226F",ngt:"\u226F",ngtr:"\u226F",NotGreaterEqual:"\u2271",nge:"\u2271",ngeq:"\u2271",NotGreaterFullEqual:"\u2267\u0338",ngE:"\u2267\u0338",ngeqq:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",nGtv:"\u226B\u0338",NotGreaterLess:"\u2279",ntgl:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",NotGreaterTilde:"\u2275",ngsim:"\u2275",NotHumpDownHump:"\u224E\u0338",nbump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",nbumpe:"\u224F\u0338",NotLeftTriangle:"\u22EA",nltri:"\u22EA",ntriangleleft:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",nltrie:"\u22EC",ntrianglelefteq:"\u22EC",NotLess:"\u226E",nless:"\u226E",nlt:"\u226E",NotLessEqual:"\u2270",nle:"\u2270",nleq:"\u2270",NotLessGreater:"\u2278",ntlg:"\u2278",NotLessLess:"\u226A\u0338",nLtv:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",NotLessTilde:"\u2274",nlsim:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",NotPrecedes:"\u2280",npr:"\u2280",nprec:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",npre:"\u2AAF\u0338",npreceq:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",nprcue:"\u22E0",NotReverseElement:"\u220C",notni:"\u220C",notniva:"\u220C",NotRightTriangle:"\u22EB",nrtri:"\u22EB",ntriangleright:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",nrtrie:"\u22ED",ntrianglerighteq:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",nsqsube:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",nsqsupe:"\u22E3",NotSubset:"\u2282\u20D2",nsubset:"\u2282\u20D2",vnsub:"\u2282\u20D2",NotSubsetEqual:"\u2288",nsube:"\u2288",nsubseteq:"\u2288",NotSucceeds:"\u2281",nsc:"\u2281",nsucc:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",nsce:"\u2AB0\u0338",nsucceq:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",nsccue:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",nsupset:"\u2283\u20D2",vnsup:"\u2283\u20D2",NotSupersetEqual:"\u2289",nsupe:"\u2289",nsupseteq:"\u2289",NotTilde:"\u2241",nsim:"\u2241",NotTildeEqual:"\u2244",nsime:"\u2244",nsimeq:"\u2244",NotTildeFullEqual:"\u2247",ncong:"\u2247",NotTildeTilde:"\u2249",nap:"\u2249",napprox:"\u2249",NotVerticalBar:"\u2224",nmid:"\u2224",nshortmid:"\u2224",nsmid:"\u2224",Nscr:"\u{1D4A9}",Ntilde:"\xD1",Nu:"\u039D",OElig:"\u0152",Oacute:"\xD3",Ocirc:"\xD4",Ocy:"\u041E",Odblac:"\u0150",Ofr:"\u{1D512}",Ograve:"\xD2",Omacr:"\u014C",Omega:"\u03A9",ohm:"\u03A9",Omicron:"\u039F",Oopf:"\u{1D546}",OpenCurlyDoubleQuote:"\u201C",ldquo:"\u201C",OpenCurlyQuote:"\u2018",lsquo:"\u2018",Or:"\u2A54",Oscr:"\u{1D4AA}",Oslash:"\xD8",Otilde:"\xD5",Otimes:"\u2A37",Ouml:"\xD6",OverBar:"\u203E",oline:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",tbrk:"\u23B4",OverParenthesis:"\u23DC",PartialD:"\u2202",part:"\u2202",Pcy:"\u041F",Pfr:"\u{1D513}",Phi:"\u03A6",Pi:"\u03A0",PlusMinus:"\xB1",plusmn:"\xB1",pm:"\xB1",Popf:"\u2119",primes:"\u2119",Pr:"\u2ABB",Precedes:"\u227A",pr:"\u227A",prec:"\u227A",PrecedesEqual:"\u2AAF",pre:"\u2AAF",preceq:"\u2AAF",PrecedesSlantEqual:"\u227C",prcue:"\u227C",preccurlyeq:"\u227C",PrecedesTilde:"\u227E",precsim:"\u227E",prsim:"\u227E",Prime:"\u2033",Product:"\u220F",prod:"\u220F",Proportional:"\u221D",prop:"\u221D",propto:"\u221D",varpropto:"\u221D",vprop:"\u221D",Pscr:"\u{1D4AB}",Psi:"\u03A8",QUOT:'"',quot:'"',Qfr:"\u{1D514}",Qopf:"\u211A",rationals:"\u211A",Qscr:"\u{1D4AC}",RBarr:"\u2910",drbkarow:"\u2910",REG:"\xAE",circledR:"\xAE",reg:"\xAE",Racute:"\u0154",Rang:"\u27EB",Rarr:"\u21A0",twoheadrightarrow:"\u21A0",Rarrtl:"\u2916",Rcaron:"\u0158",Rcedil:"\u0156",Rcy:"\u0420",Re:"\u211C",Rfr:"\u211C",real:"\u211C",realpart:"\u211C",ReverseElement:"\u220B",SuchThat:"\u220B",ni:"\u220B",niv:"\u220B",ReverseEquilibrium:"\u21CB",leftrightharpoons:"\u21CB",lrhar:"\u21CB",ReverseUpEquilibrium:"\u296F",duhar:"\u296F",Rho:"\u03A1",RightAngleBracket:"\u27E9",rang:"\u27E9",rangle:"\u27E9",RightArrow:"\u2192",ShortRightArrow:"\u2192",rarr:"\u2192",rightarrow:"\u2192",srarr:"\u2192",RightArrowBar:"\u21E5",rarrb:"\u21E5",RightArrowLeftArrow:"\u21C4",rightleftarrows:"\u21C4",rlarr:"\u21C4",RightCeiling:"\u2309",rceil:"\u2309",RightDoubleBracket:"\u27E7",robrk:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",dharr:"\u21C2",downharpoonright:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rfloor:"\u230B",RightTee:"\u22A2",vdash:"\u22A2",RightTeeArrow:"\u21A6",map:"\u21A6",mapsto:"\u21A6",RightTeeVector:"\u295B",RightTriangle:"\u22B3",vartriangleright:"\u22B3",vrtri:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",rtrie:"\u22B5",trianglerighteq:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",uharr:"\u21BE",upharpoonright:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",rharu:"\u21C0",rightharpoonup:"\u21C0",RightVectorBar:"\u2953",Ropf:"\u211D",reals:"\u211D",RoundImplies:"\u2970",Rrightarrow:"\u21DB",rAarr:"\u21DB",Rscr:"\u211B",realine:"\u211B",Rsh:"\u21B1",rsh:"\u21B1",RuleDelayed:"\u29F4",SHCHcy:"\u0429",SHcy:"\u0428",SOFTcy:"\u042C",Sacute:"\u015A",Sc:"\u2ABC",Scaron:"\u0160",Scedil:"\u015E",Scirc:"\u015C",Scy:"\u0421",Sfr:"\u{1D516}",ShortUpArrow:"\u2191",UpArrow:"\u2191",uarr:"\u2191",uparrow:"\u2191",Sigma:"\u03A3",SmallCircle:"\u2218",compfn:"\u2218",Sopf:"\u{1D54A}",Sqrt:"\u221A",radic:"\u221A",Square:"\u25A1",squ:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",sqcap:"\u2293",SquareSubset:"\u228F",sqsub:"\u228F",sqsubset:"\u228F",SquareSubsetEqual:"\u2291",sqsube:"\u2291",sqsubseteq:"\u2291",SquareSuperset:"\u2290",sqsup:"\u2290",sqsupset:"\u2290",SquareSupersetEqual:"\u2292",sqsupe:"\u2292",sqsupseteq:"\u2292",SquareUnion:"\u2294",sqcup:"\u2294",Sscr:"\u{1D4AE}",Star:"\u22C6",sstarf:"\u22C6",Sub:"\u22D0",Subset:"\u22D0",SubsetEqual:"\u2286",sube:"\u2286",subseteq:"\u2286",Succeeds:"\u227B",sc:"\u227B",succ:"\u227B",SucceedsEqual:"\u2AB0",sce:"\u2AB0",succeq:"\u2AB0",SucceedsSlantEqual:"\u227D",sccue:"\u227D",succcurlyeq:"\u227D",SucceedsTilde:"\u227F",scsim:"\u227F",succsim:"\u227F",Sum:"\u2211",sum:"\u2211",Sup:"\u22D1",Supset:"\u22D1",Superset:"\u2283",sup:"\u2283",supset:"\u2283",SupersetEqual:"\u2287",supe:"\u2287",supseteq:"\u2287",THORN:"\xDE",TRADE:"\u2122",trade:"\u2122",TSHcy:"\u040B",TScy:"\u0426",Tab:"	",Tau:"\u03A4",Tcaron:"\u0164",Tcedil:"\u0162",Tcy:"\u0422",Tfr:"\u{1D517}",Therefore:"\u2234",there4:"\u2234",therefore:"\u2234",Theta:"\u0398",ThickSpace:"\u205F\u200A",ThinSpace:"\u2009",thinsp:"\u2009",Tilde:"\u223C",sim:"\u223C",thicksim:"\u223C",thksim:"\u223C",TildeEqual:"\u2243",sime:"\u2243",simeq:"\u2243",TildeFullEqual:"\u2245",cong:"\u2245",TildeTilde:"\u2248",ap:"\u2248",approx:"\u2248",asymp:"\u2248",thickapprox:"\u2248",thkap:"\u2248",Topf:"\u{1D54B}",TripleDot:"\u20DB",tdot:"\u20DB",Tscr:"\u{1D4AF}",Tstrok:"\u0166",Uacute:"\xDA",Uarr:"\u219F",Uarrocir:"\u2949",Ubrcy:"\u040E",Ubreve:"\u016C",Ucirc:"\xDB",Ucy:"\u0423",Udblac:"\u0170",Ufr:"\u{1D518}",Ugrave:"\xD9",Umacr:"\u016A",UnderBar:"_",lowbar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",bbrk:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",bigcup:"\u22C3",xcup:"\u22C3",UnionPlus:"\u228E",uplus:"\u228E",Uogon:"\u0172",Uopf:"\u{1D54C}",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",udarr:"\u21C5",UpDownArrow:"\u2195",updownarrow:"\u2195",varr:"\u2195",UpEquilibrium:"\u296E",udhar:"\u296E",UpTee:"\u22A5",bot:"\u22A5",bottom:"\u22A5",perp:"\u22A5",UpTeeArrow:"\u21A5",mapstoup:"\u21A5",UpperLeftArrow:"\u2196",nwarr:"\u2196",nwarrow:"\u2196",UpperRightArrow:"\u2197",nearr:"\u2197",nearrow:"\u2197",Upsi:"\u03D2",upsih:"\u03D2",Upsilon:"\u03A5",Uring:"\u016E",Uscr:"\u{1D4B0}",Utilde:"\u0168",Uuml:"\xDC",VDash:"\u22AB",Vbar:"\u2AEB",Vcy:"\u0412",Vdash:"\u22A9",Vdashl:"\u2AE6",Vee:"\u22C1",bigvee:"\u22C1",xvee:"\u22C1",Verbar:"\u2016",Vert:"\u2016",VerticalBar:"\u2223",mid:"\u2223",shortmid:"\u2223",smid:"\u2223",VerticalLine:"|",verbar:"|",vert:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",wr:"\u2240",wreath:"\u2240",VeryThinSpace:"\u200A",hairsp:"\u200A",Vfr:"\u{1D519}",Vopf:"\u{1D54D}",Vscr:"\u{1D4B1}",Vvdash:"\u22AA",Wcirc:"\u0174",Wedge:"\u22C0",bigwedge:"\u22C0",xwedge:"\u22C0",Wfr:"\u{1D51A}",Wopf:"\u{1D54E}",Wscr:"\u{1D4B2}",Xfr:"\u{1D51B}",Xi:"\u039E",Xopf:"\u{1D54F}",Xscr:"\u{1D4B3}",YAcy:"\u042F",YIcy:"\u0407",YUcy:"\u042E",Yacute:"\xDD",Ycirc:"\u0176",Ycy:"\u042B",Yfr:"\u{1D51C}",Yopf:"\u{1D550}",Yscr:"\u{1D4B4}",Yuml:"\u0178",ZHcy:"\u0416",Zacute:"\u0179",Zcaron:"\u017D",Zcy:"\u0417",Zdot:"\u017B",Zeta:"\u0396",Zfr:"\u2128",zeetrf:"\u2128",Zopf:"\u2124",integers:"\u2124",Zscr:"\u{1D4B5}",aacute:"\xE1",abreve:"\u0103",ac:"\u223E",mstpos:"\u223E",acE:"\u223E\u0333",acd:"\u223F",acirc:"\xE2",acy:"\u0430",aelig:"\xE6",afr:"\u{1D51E}",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",alpha:"\u03B1",amacr:"\u0101",amalg:"\u2A3F",and:"\u2227",wedge:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",angle:"\u2220",ange:"\u29A4",angmsd:"\u2221",measuredangle:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angzarr:"\u237C",aogon:"\u0105",aopf:"\u{1D552}",apE:"\u2A70",apacir:"\u2A6F",ape:"\u224A",approxeq:"\u224A",apid:"\u224B",apos:"'",aring:"\xE5",ascr:"\u{1D4B6}",ast:"*",midast:"*",atilde:"\xE3",auml:"\xE4",awint:"\u2A11",bNot:"\u2AED",backcong:"\u224C",bcong:"\u224C",backepsilon:"\u03F6",bepsi:"\u03F6",backprime:"\u2035",bprime:"\u2035",backsim:"\u223D",bsim:"\u223D",backsimeq:"\u22CD",bsime:"\u22CD",barvee:"\u22BD",barwed:"\u2305",barwedge:"\u2305",bbrktbrk:"\u23B6",bcy:"\u0431",bdquo:"\u201E",ldquor:"\u201E",bemptyv:"\u29B0",beta:"\u03B2",beth:"\u2136",between:"\u226C",twixt:"\u226C",bfr:"\u{1D51F}",bigcirc:"\u25EF",xcirc:"\u25EF",bigodot:"\u2A00",xodot:"\u2A00",bigoplus:"\u2A01",xoplus:"\u2A01",bigotimes:"\u2A02",xotime:"\u2A02",bigsqcup:"\u2A06",xsqcup:"\u2A06",bigstar:"\u2605",starf:"\u2605",bigtriangledown:"\u25BD",xdtri:"\u25BD",bigtriangleup:"\u25B3",xutri:"\u25B3",biguplus:"\u2A04",xuplus:"\u2A04",bkarow:"\u290D",rbarr:"\u290D",blacklozenge:"\u29EB",lozf:"\u29EB",blacktriangle:"\u25B4",utrif:"\u25B4",blacktriangledown:"\u25BE",dtrif:"\u25BE",blacktriangleleft:"\u25C2",ltrif:"\u25C2",blacktriangleright:"\u25B8",rtrif:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bnot:"\u2310",bopf:"\u{1D553}",bowtie:"\u22C8",boxDL:"\u2557",boxDR:"\u2554",boxDl:"\u2556",boxDr:"\u2553",boxH:"\u2550",boxHD:"\u2566",boxHU:"\u2569",boxHd:"\u2564",boxHu:"\u2567",boxUL:"\u255D",boxUR:"\u255A",boxUl:"\u255C",boxUr:"\u2559",boxV:"\u2551",boxVH:"\u256C",boxVL:"\u2563",boxVR:"\u2560",boxVh:"\u256B",boxVl:"\u2562",boxVr:"\u255F",boxbox:"\u29C9",boxdL:"\u2555",boxdR:"\u2552",boxdl:"\u2510",boxdr:"\u250C",boxhD:"\u2565",boxhU:"\u2568",boxhd:"\u252C",boxhu:"\u2534",boxminus:"\u229F",minusb:"\u229F",boxplus:"\u229E",plusb:"\u229E",boxtimes:"\u22A0",timesb:"\u22A0",boxuL:"\u255B",boxuR:"\u2558",boxul:"\u2518",boxur:"\u2514",boxv:"\u2502",boxvH:"\u256A",boxvL:"\u2561",boxvR:"\u255E",boxvh:"\u253C",boxvl:"\u2524",boxvr:"\u251C",brvbar:"\xA6",bscr:"\u{1D4B7}",bsemi:"\u204F",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bumpE:"\u2AAE",cacute:"\u0107",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",caps:"\u2229\uFE00",caret:"\u2041",ccaps:"\u2A4D",ccaron:"\u010D",ccedil:"\xE7",ccirc:"\u0109",ccups:"\u2A4C",ccupssm:"\u2A50",cdot:"\u010B",cemptyv:"\u29B2",cent:"\xA2",cfr:"\u{1D520}",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",chi:"\u03C7",cir:"\u25CB",cirE:"\u29C3",circ:"\u02C6",circeq:"\u2257",cire:"\u2257",circlearrowleft:"\u21BA",olarr:"\u21BA",circlearrowright:"\u21BB",orarr:"\u21BB",circledS:"\u24C8",oS:"\u24C8",circledast:"\u229B",oast:"\u229B",circledcirc:"\u229A",ocir:"\u229A",circleddash:"\u229D",odash:"\u229D",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",clubs:"\u2663",clubsuit:"\u2663",colon:":",comma:",",commat:"@",comp:"\u2201",complement:"\u2201",congdot:"\u2A6D",copf:"\u{1D554}",copysr:"\u2117",crarr:"\u21B5",cross:"\u2717",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",curlyeqprec:"\u22DE",cuesc:"\u22DF",curlyeqsucc:"\u22DF",cularr:"\u21B6",curvearrowleft:"\u21B6",cularrp:"\u293D",cup:"\u222A",cupbrcap:"\u2A48",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curvearrowright:"\u21B7",curarrm:"\u293C",curlyvee:"\u22CE",cuvee:"\u22CE",curlywedge:"\u22CF",cuwed:"\u22CF",curren:"\xA4",cwint:"\u2231",cylcty:"\u232D",dHar:"\u2965",dagger:"\u2020",daleth:"\u2138",dash:"\u2010",hyphen:"\u2010",dbkarow:"\u290F",rBarr:"\u290F",dcaron:"\u010F",dcy:"\u0434",ddarr:"\u21CA",downdownarrows:"\u21CA",ddotseq:"\u2A77",eDDot:"\u2A77",deg:"\xB0",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",dfr:"\u{1D521}",diamondsuit:"\u2666",diams:"\u2666",digamma:"\u03DD",gammad:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",djcy:"\u0452",dlcorn:"\u231E",llcorner:"\u231E",dlcrop:"\u230D",dollar:"$",dopf:"\u{1D555}",doteqdot:"\u2251",eDot:"\u2251",dotminus:"\u2238",minusd:"\u2238",dotplus:"\u2214",plusdo:"\u2214",dotsquare:"\u22A1",sdotb:"\u22A1",drcorn:"\u231F",lrcorner:"\u231F",drcrop:"\u230C",dscr:"\u{1D4B9}",dscy:"\u0455",dsol:"\u29F6",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",triangledown:"\u25BF",dwangle:"\u29A6",dzcy:"\u045F",dzigrarr:"\u27FF",eacute:"\xE9",easter:"\u2A6E",ecaron:"\u011B",ecir:"\u2256",eqcirc:"\u2256",ecirc:"\xEA",ecolon:"\u2255",eqcolon:"\u2255",ecy:"\u044D",edot:"\u0117",efDot:"\u2252",fallingdotseq:"\u2252",efr:"\u{1D522}",eg:"\u2A9A",egrave:"\xE8",egs:"\u2A96",eqslantgtr:"\u2A96",egsdot:"\u2A98",el:"\u2A99",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",eqslantless:"\u2A95",elsdot:"\u2A97",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",emptyv:"\u2205",varnothing:"\u2205",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",eng:"\u014B",ensp:"\u2002",eogon:"\u0119",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",epsilon:"\u03B5",epsiv:"\u03F5",straightepsilon:"\u03F5",varepsilon:"\u03F5",equals:"=",equest:"\u225F",questeq:"\u225F",equivDD:"\u2A78",eqvparsl:"\u29E5",erDot:"\u2253",risingdotseq:"\u2253",erarr:"\u2971",escr:"\u212F",eta:"\u03B7",eth:"\xF0",euml:"\xEB",euro:"\u20AC",excl:"!",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",ffr:"\u{1D523}",filig:"\uFB01",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",fopf:"\u{1D557}",fork:"\u22D4",pitchfork:"\u22D4",forkv:"\u2AD9",fpartint:"\u2A0D",frac12:"\xBD",half:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",sfrown:"\u2322",fscr:"\u{1D4BB}",gEl:"\u2A8C",gtreqqless:"\u2A8C",gacute:"\u01F5",gamma:"\u03B3",gap:"\u2A86",gtrapprox:"\u2A86",gbreve:"\u011F",gcirc:"\u011D",gcy:"\u0433",gdot:"\u0121",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",gfr:"\u{1D524}",gimel:"\u2137",gjcy:"\u0453",glE:"\u2A92",gla:"\u2AA5",glj:"\u2AA4",gnE:"\u2269",gneqq:"\u2269",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gneq:"\u2A88",gnsim:"\u22E7",gopf:"\u{1D558}",gscr:"\u210A",gsime:"\u2A8E",gsiml:"\u2A90",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtrdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrarr:"\u2978",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",hardcy:"\u044A",harrcir:"\u2948",harrw:"\u21AD",leftrightsquigarrow:"\u21AD",hbar:"\u210F",hslash:"\u210F",planck:"\u210F",plankv:"\u210F",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",mldr:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",hksearow:"\u2925",searhk:"\u2925",hkswarow:"\u2926",swarhk:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",larrhk:"\u21A9",hookrightarrow:"\u21AA",rarrhk:"\u21AA",hopf:"\u{1D559}",horbar:"\u2015",hscr:"\u{1D4BD}",hstrok:"\u0127",hybull:"\u2043",iacute:"\xED",icirc:"\xEE",icy:"\u0438",iecy:"\u0435",iexcl:"\xA1",ifr:"\u{1D526}",igrave:"\xEC",iiiint:"\u2A0C",qint:"\u2A0C",iiint:"\u222D",tint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",ijlig:"\u0133",imacr:"\u012B",imath:"\u0131",inodot:"\u0131",imof:"\u22B7",imped:"\u01B5",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",intcal:"\u22BA",intercal:"\u22BA",intlarhk:"\u2A17",intprod:"\u2A3C",iprod:"\u2A3C",iocy:"\u0451",iogon:"\u012F",iopf:"\u{1D55A}",iota:"\u03B9",iquest:"\xBF",iscr:"\u{1D4BE}",isinE:"\u22F9",isindot:"\u22F5",isins:"\u22F4",isinsv:"\u22F3",itilde:"\u0129",iukcy:"\u0456",iuml:"\xEF",jcirc:"\u0135",jcy:"\u0439",jfr:"\u{1D527}",jmath:"\u0237",jopf:"\u{1D55B}",jscr:"\u{1D4BF}",jsercy:"\u0458",jukcy:"\u0454",kappa:"\u03BA",kappav:"\u03F0",varkappa:"\u03F0",kcedil:"\u0137",kcy:"\u043A",kfr:"\u{1D528}",kgreen:"\u0138",khcy:"\u0445",kjcy:"\u045C",kopf:"\u{1D55C}",kscr:"\u{1D4C0}",lAtail:"\u291B",lBarr:"\u290E",lEg:"\u2A8B",lesseqqgtr:"\u2A8B",lHar:"\u2962",lacute:"\u013A",laemptyv:"\u29B4",lambda:"\u03BB",langd:"\u2991",lap:"\u2A85",lessapprox:"\u2A85",laquo:"\xAB",larrbfs:"\u291F",larrfs:"\u291D",larrlp:"\u21AB",looparrowleft:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",leftarrowtail:"\u21A2",lat:"\u2AAB",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lcub:"{",lbrack:"[",lsqb:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",lcaron:"\u013E",lcedil:"\u013C",lcy:"\u043B",ldca:"\u2936",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",leq:"\u2264",leftleftarrows:"\u21C7",llarr:"\u21C7",leftthreetimes:"\u22CB",lthree:"\u22CB",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessdot:"\u22D6",ltdot:"\u22D6",lfisht:"\u297C",lfr:"\u{1D529}",lgE:"\u2A91",lharul:"\u296A",lhblk:"\u2584",ljcy:"\u0459",llhard:"\u296B",lltri:"\u25FA",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnE:"\u2268",lneqq:"\u2268",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lneq:"\u2A87",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",longmapsto:"\u27FC",xmap:"\u27FC",looparrowright:"\u21AC",rarrlp:"\u21AC",lopar:"\u2985",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",loz:"\u25CA",lozenge:"\u25CA",lpar:"(",lparlt:"\u2993",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",lsime:"\u2A8D",lsimg:"\u2A8F",lsquor:"\u201A",sbquo:"\u201A",lstrok:"\u0142",ltcc:"\u2AA6",ltcir:"\u2A79",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltrPar:"\u2996",ltri:"\u25C3",triangleleft:"\u25C3",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",mDDot:"\u223A",macr:"\xAF",strns:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",marker:"\u25AE",mcomma:"\u2A29",mcy:"\u043C",mdash:"\u2014",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",midcir:"\u2AF0",minus:"\u2212",minusdu:"\u2A2A",mlcp:"\u2ADB",models:"\u22A7",mopf:"\u{1D55E}",mscr:"\u{1D4C2}",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nGg:"\u22D9\u0338",nGt:"\u226B\u20D2",nLeftarrow:"\u21CD",nlArr:"\u21CD",nLeftrightarrow:"\u21CE",nhArr:"\u21CE",nLl:"\u22D8\u0338",nLt:"\u226A\u20D2",nRightarrow:"\u21CF",nrArr:"\u21CF",nVDash:"\u22AF",nVdash:"\u22AE",nacute:"\u0144",nang:"\u2220\u20D2",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",natur:"\u266E",natural:"\u266E",ncap:"\u2A43",ncaron:"\u0148",ncedil:"\u0146",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",ncy:"\u043D",ndash:"\u2013",neArr:"\u21D7",nearhk:"\u2924",nedot:"\u2250\u0338",nesear:"\u2928",toea:"\u2928",nfr:"\u{1D52B}",nharr:"\u21AE",nleftrightarrow:"\u21AE",nhpar:"\u2AF2",nis:"\u22FC",nisd:"\u22FA",njcy:"\u045A",nlE:"\u2266\u0338",nleqq:"\u2266\u0338",nlarr:"\u219A",nleftarrow:"\u219A",nldr:"\u2025",nopf:"\u{1D55F}",not:"\xAC",notinE:"\u22F9\u0338",notindot:"\u22F5\u0338",notinvb:"\u22F7",notinvc:"\u22F6",notnivb:"\u22FE",notnivc:"\u22FD",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",nrarr:"\u219B",nrightarrow:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nscr:"\u{1D4C3}",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsubseteqq:"\u2AC5\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupseteqq:"\u2AC6\u0338",ntilde:"\xF1",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvDash:"\u22AD",nvHarr:"\u2904",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwArr:"\u21D6",nwarhk:"\u2923",nwnear:"\u2927",oacute:"\xF3",ocirc:"\xF4",ocy:"\u043E",odblac:"\u0151",odiv:"\u2A38",odsold:"\u29BC",oelig:"\u0153",ofcir:"\u29BF",ofr:"\u{1D52C}",ogon:"\u02DB",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",olcir:"\u29BE",olcross:"\u29BB",olt:"\u29C0",omacr:"\u014D",omega:"\u03C9",omicron:"\u03BF",omid:"\u29B6",oopf:"\u{1D560}",opar:"\u29B7",operp:"\u29B9",or:"\u2228",vee:"\u2228",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",oscr:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oslash:"\xF8",osol:"\u2298",otilde:"\xF5",otimesas:"\u2A36",ouml:"\xF6",ovbar:"\u233D",para:"\xB6",parsim:"\u2AF3",parsl:"\u2AFD",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",pertenk:"\u2031",pfr:"\u{1D52D}",phi:"\u03C6",phiv:"\u03D5",straightphi:"\u03D5",varphi:"\u03D5",phone:"\u260E",pi:"\u03C0",piv:"\u03D6",varpi:"\u03D6",planckh:"\u210E",plus:"+",plusacir:"\u2A23",pluscir:"\u2A22",plusdu:"\u2A25",pluse:"\u2A72",plussim:"\u2A26",plustwo:"\u2A27",pointint:"\u2A15",popf:"\u{1D561}",pound:"\xA3",prE:"\u2AB3",prap:"\u2AB7",precapprox:"\u2AB7",precnapprox:"\u2AB9",prnap:"\u2AB9",precneqq:"\u2AB5",prnE:"\u2AB5",precnsim:"\u22E8",prnsim:"\u22E8",prime:"\u2032",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prurel:"\u22B0",pscr:"\u{1D4C5}",psi:"\u03C8",puncsp:"\u2008",qfr:"\u{1D52E}",qopf:"\u{1D562}",qprime:"\u2057",qscr:"\u{1D4C6}",quatint:"\u2A16",quest:"?",rAtail:"\u291C",rHar:"\u2964",race:"\u223D\u0331",racute:"\u0155",raemptyv:"\u29B3",rangd:"\u2992",range:"\u29A5",raquo:"\xBB",rarrap:"\u2975",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrpl:"\u2945",rarrsim:"\u2974",rarrtl:"\u21A3",rightarrowtail:"\u21A3",rarrw:"\u219D",rightsquigarrow:"\u219D",ratail:"\u291A",ratio:"\u2236",rbbrk:"\u2773",rbrace:"}",rcub:"}",rbrack:"]",rsqb:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",rcaron:"\u0159",rcedil:"\u0157",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdsh:"\u21B3",rect:"\u25AD",rfisht:"\u297D",rfr:"\u{1D52F}",rharul:"\u296C",rho:"\u03C1",rhov:"\u03F1",varrho:"\u03F1",rightrightarrows:"\u21C9",rrarr:"\u21C9",rightthreetimes:"\u22CC",rthree:"\u22CC",ring:"\u02DA",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",ropar:"\u2986",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rsaquo:"\u203A",rscr:"\u{1D4C7}",rtimes:"\u22CA",rtri:"\u25B9",triangleright:"\u25B9",rtriltri:"\u29CE",ruluhar:"\u2968",rx:"\u211E",sacute:"\u015B",scE:"\u2AB4",scap:"\u2AB8",succapprox:"\u2AB8",scaron:"\u0161",scedil:"\u015F",scirc:"\u015D",scnE:"\u2AB6",succneqq:"\u2AB6",scnap:"\u2ABA",succnapprox:"\u2ABA",scnsim:"\u22E9",succnsim:"\u22E9",scpolint:"\u2A13",scy:"\u0441",sdot:"\u22C5",sdote:"\u2A66",seArr:"\u21D8",sect:"\xA7",semi:";",seswar:"\u2929",tosa:"\u2929",sext:"\u2736",sfr:"\u{1D530}",sharp:"\u266F",shchcy:"\u0449",shcy:"\u0448",shy:"\xAD",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",varsigma:"\u03C2",simdot:"\u2A6A",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",smashp:"\u2A33",smeparsl:"\u29E4",smile:"\u2323",ssmile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",sqcaps:"\u2293\uFE00",sqcups:"\u2294\uFE00",sscr:"\u{1D4C8}",star:"\u2606",sub:"\u2282",subset:"\u2282",subE:"\u2AC5",subseteqq:"\u2AC5",subdot:"\u2ABD",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subsetneqq:"\u2ACB",subne:"\u228A",subsetneq:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",sung:"\u266A",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supE:"\u2AC6",supseteqq:"\u2AC6",supdot:"\u2ABE",supdsub:"\u2AD8",supedot:"\u2AC4",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supsetneqq:"\u2ACC",supne:"\u228B",supsetneq:"\u228B",supplus:"\u2AC0",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swArr:"\u21D9",swnwar:"\u292A",szlig:"\xDF",target:"\u2316",tau:"\u03C4",tcaron:"\u0165",tcedil:"\u0163",tcy:"\u0442",telrec:"\u2315",tfr:"\u{1D531}",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",vartheta:"\u03D1",thorn:"\xFE",times:"\xD7",timesbar:"\u2A31",timesd:"\u2A30",topbot:"\u2336",topcir:"\u2AF1",topf:"\u{1D565}",topfork:"\u2ADA",tprime:"\u2034",triangle:"\u25B5",utri:"\u25B5",triangleq:"\u225C",trie:"\u225C",tridot:"\u25EC",triminus:"\u2A3A",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",tscr:"\u{1D4C9}",tscy:"\u0446",tshcy:"\u045B",tstrok:"\u0167",uHar:"\u2963",uacute:"\xFA",ubrcy:"\u045E",ubreve:"\u016D",ucirc:"\xFB",ucy:"\u0443",udblac:"\u0171",ufisht:"\u297E",ufr:"\u{1D532}",ugrave:"\xF9",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",umacr:"\u016B",uogon:"\u0173",uopf:"\u{1D566}",upsi:"\u03C5",upsilon:"\u03C5",upuparrows:"\u21C8",uuarr:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",uring:"\u016F",urtri:"\u25F9",uscr:"\u{1D4CA}",utdot:"\u22F0",utilde:"\u0169",uuml:"\xFC",uwangle:"\u29A7",vBar:"\u2AE8",vBarv:"\u2AE9",vangrt:"\u299C",varsubsetneq:"\u228A\uFE00",vsubne:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",vsubnE:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",vsupne:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vsupnE:"\u2ACC\uFE00",vcy:"\u0432",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",vfr:"\u{1D533}",vopf:"\u{1D567}",vscr:"\u{1D4CB}",vzigzag:"\u299A",wcirc:"\u0175",wedbar:"\u2A5F",wedgeq:"\u2259",weierp:"\u2118",wp:"\u2118",wfr:"\u{1D534}",wopf:"\u{1D568}",wscr:"\u{1D4CC}",xfr:"\u{1D535}",xi:"\u03BE",xnis:"\u22FB",xopf:"\u{1D569}",xscr:"\u{1D4CD}",yacute:"\xFD",yacy:"\u044F",ycirc:"\u0177",ycy:"\u044B",yen:"\xA5",yfr:"\u{1D536}",yicy:"\u0457",yopf:"\u{1D56A}",yscr:"\u{1D4CE}",yucy:"\u044E",yuml:"\xFF",zacute:"\u017A",zcaron:"\u017E",zcy:"\u0437",zdot:"\u017C",zeta:"\u03B6",zfr:"\u{1D537}",zhcy:"\u0436",zigrarr:"\u21DD",zopf:"\u{1D56B}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"},$2="\uE500";jc.ngsp=$2;var tc=class extends be{tokenType;constructor(e,t,i){super(i,e),this.tokenType=t}},R0=class{tokens;errors;nonNormalizedIcuExpressions;constructor(e,t,i){this.tokens=e,this.errors=t,this.nonNormalizedIcuExpressions=i}};function _3(n,e,t,i={}){let r=new B0(new sp(n,e),t,i);return r.tokenize(),new R0(M3(r.tokens),r.errors,r.nonNormalizedIcuExpressions)}var w3=/\r\n?/g;function Hl(n){return`Unexpected character "${n===hn?"EOF":String.fromCharCode(n)}"`}function ty(n){return`Unknown entity "${n}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}function S3(n,e){return`Unable to parse entity "${e}" - ${n} character reference entities must end with ";"`}var F0=function(n){return n.HEX="hexadecimal",n.DEC="decimal",n}(F0||{}),nc=class{error;constructor(e){this.error=e}},B0=class{_getTagDefinition;_cursor;_tokenizeIcu;_interpolationConfig;_leadingTriviaCodePoints;_currentTokenStart=null;_currentTokenType=null;_expansionCaseStack=[];_inInterpolation=!1;_preserveLineEndings;_i18nNormalizeLineEndingsInICUs;_tokenizeBlocks;_tokenizeLet;tokens=[];errors=[];nonNormalizedIcuExpressions=[];constructor(e,t,i){this._getTagDefinition=t,this._tokenizeIcu=i.tokenizeExpansionForms||!1,this._interpolationConfig=i.interpolationConfig||ir,this._leadingTriviaCodePoints=i.leadingTriviaChars&&i.leadingTriviaChars.map(s=>s.codePointAt(0)||0);let r=i.range||{endPos:e.content.length,startPos:0,startLine:0,startCol:0};this._cursor=i.escapedString?new V0(e,r):new Sp(e,r),this._preserveLineEndings=i.preserveLineEndings||!1,this._i18nNormalizeLineEndingsInICUs=i.i18nNormalizeLineEndingsInICUs||!1,this._tokenizeBlocks=i.tokenizeBlocks??!0,this._tokenizeLet=i.tokenizeLet??!0;try{this._cursor.init()}catch(s){this.handleError(s)}}_processCarriageReturns(e){return this._preserveLineEndings?e:e.replace(w3,`
`)}tokenize(){for(;this._cursor.peek()!==hn;){let e=this._cursor.clone();try{this._attemptCharCode(da)?this._attemptCharCode(x0)?this._attemptCharCode(va)?this._consumeCdata(e):this._attemptCharCode(rp)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(Mr)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeLet&&this._cursor.peek()===Tm&&!this._inInterpolation&&this._attemptStr("@let")?this._consumeLetDeclaration(e):this._tokenizeBlocks&&this._attemptCharCode(Tm)?this._consumeBlockStart(e):this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansionCase()&&!this._isInExpansionForm()&&this._attemptCharCode(qn)?this._consumeBlockEnd(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeWithInterpolation(5,8,()=>this._isTextEnd(),()=>this._isTagStart())}catch(t){this.handleError(t)}}this._beginToken(33),this._endToken([])}_getBlockName(){let e=!1,t=this._cursor.clone();return this._attemptCharCodeUntilFn(i=>Mc(i)?!e:I3(i)?(e=!0,!1):!0),this._cursor.getChars(t).trim()}_consumeBlockStart(e){this._beginToken(24,e);let t=this._endToken([this._getBlockName()]);if(this._cursor.peek()===Lr)if(this._cursor.advance(),this._consumeBlockParameters(),this._attemptCharCodeUntilFn(Yt),this._attemptCharCode(Vi))this._attemptCharCodeUntilFn(Yt);else{t.type=28;return}this._attemptCharCode(Bi)?(this._beginToken(25),this._endToken([])):t.type=28}_consumeBlockEnd(e){this._beginToken(26,e),this._endToken([])}_consumeBlockParameters(){for(this._attemptCharCodeUntilFn(ry);this._cursor.peek()!==Vi&&this._cursor.peek()!==hn;){this._beginToken(27);let e=this._cursor.clone(),t=null,i=0;for(;this._cursor.peek()!==ti&&this._cursor.peek()!==hn||t!==null;){let r=this._cursor.peek();if(r===xa)this._cursor.advance();else if(r===t)t=null;else if(t===null&&Jl(r))t=r;else if(r===Lr&&t===null)i++;else if(r===Vi&&t===null){if(i===0)break;i>0&&i--}this._cursor.advance()}this._endToken([this._cursor.getChars(e)]),this._attemptCharCodeUntilFn(ry)}}_consumeLetDeclaration(e){if(this._beginToken(29,e),Mc(this._cursor.peek()))this._attemptCharCodeUntilFn(Yt);else{let r=this._endToken([this._cursor.getChars(e)]);r.type=32;return}let t=this._endToken([this._getLetDeclarationName()]);if(this._attemptCharCodeUntilFn(Yt),!this._attemptCharCode(to)){t.type=32;return}this._attemptCharCodeUntilFn(r=>Yt(r)&&!Dg(r)),this._consumeLetDeclarationValue(),this._cursor.peek()===ti?(this._beginToken(31),this._endToken([]),this._cursor.advance()):(t.type=32,t.sourceSpan=this._cursor.getSpan(e))}_getLetDeclarationName(){let e=this._cursor.clone(),t=!1;return this._attemptCharCodeUntilFn(i=>Pc(i)||i===$p||i===Zc||t&&tr(i)?(t=!0,!1):!0),this._cursor.getChars(e).trim()}_consumeLetDeclarationValue(){let e=this._cursor.clone();for(this._beginToken(30,e);this._cursor.peek()!==hn;){let t=this._cursor.peek();if(t===ti)break;Jl(t)&&(this._cursor.advance(),this._attemptCharCodeUntilFn(i=>i===xa?(this._cursor.advance(),!1):i===t)),this._cursor.advance()}this._endToken([this._cursor.getChars(e)])}_tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(T3(this._cursor.peek())&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(this._cursor.peek()===qn){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_beginToken(e,t=this._cursor.clone()){this._currentTokenStart=t,this._currentTokenType=e}_endToken(e,t){if(this._currentTokenStart===null)throw new tc("Programming error - attempted to end a token when there was no start to the token",this._currentTokenType,this._cursor.getSpan(t));if(this._currentTokenType===null)throw new tc("Programming error - attempted to end a token which has no token type",null,this._cursor.getSpan(this._currentTokenStart));let i={type:this._currentTokenType,parts:e,sourceSpan:(t??this._cursor).getSpan(this._currentTokenStart,this._leadingTriviaCodePoints)};return this.tokens.push(i),this._currentTokenStart=null,this._currentTokenType=null,i}_createError(e,t){this._isInExpansionForm()&&(e+=` (Do you have an unescaped "{" in your template? Use "{{ '{' }}") to escape it.)`);let i=new tc(e,this._currentTokenType,t);return this._currentTokenStart=null,this._currentTokenType=null,new nc(i)}handleError(e){if(e instanceof qc&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),e instanceof nc)this.errors.push(e.error);else throw e}_attemptCharCode(e){return this._cursor.peek()===e?(this._cursor.advance(),!0):!1}_attemptCharCodeCaseInsensitive(e){return A3(this._cursor.peek(),e)?(this._cursor.advance(),!0):!1}_requireCharCode(e){let t=this._cursor.clone();if(!this._attemptCharCode(e))throw this._createError(Hl(this._cursor.peek()),this._cursor.getSpan(t))}_attemptStr(e){let t=e.length;if(this._cursor.charsLeft()<t)return!1;let i=this._cursor.clone();for(let r=0;r<t;r++)if(!this._attemptCharCode(e.charCodeAt(r)))return this._cursor=i,!1;return!0}_attemptStrCaseInsensitive(e){for(let t=0;t<e.length;t++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(t)))return!1;return!0}_requireStr(e){let t=this._cursor.clone();if(!this._attemptStr(e))throw this._createError(Hl(this._cursor.peek()),this._cursor.getSpan(t))}_attemptCharCodeUntilFn(e){for(;!e(this._cursor.peek());)this._cursor.advance()}_requireCharCodeUntilFn(e,t){let i=this._cursor.clone();if(this._attemptCharCodeUntilFn(e),this._cursor.diff(i)<t)throw this._createError(Hl(this._cursor.peek()),this._cursor.getSpan(i))}_attemptUntilChar(e){for(;this._cursor.peek()!==e;)this._cursor.advance()}_readChar(){let e=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),e}_consumeEntity(e){this._beginToken(9);let t=this._cursor.clone();if(this._cursor.advance(),this._attemptCharCode(p2)){let i=this._attemptCharCode(y2)||this._attemptCharCode(YT),r=this._cursor.clone();if(this._attemptCharCodeUntilFn(C3),this._cursor.peek()!=ti){this._cursor.advance();let o=i?F0.HEX:F0.DEC;throw this._createError(S3(o,this._cursor.getChars(t)),this._cursor.getSpan())}let s=this._cursor.getChars(r);this._cursor.advance();try{let o=parseInt(s,i?16:10);this._endToken([String.fromCharCode(o),this._cursor.getChars(t)])}catch{throw this._createError(ty(this._cursor.getChars(t)),this._cursor.getSpan())}}else{let i=this._cursor.clone();if(this._attemptCharCodeUntilFn(k3),this._cursor.peek()!=ti)this._beginToken(e,t),this._cursor=i,this._endToken(["&"]);else{let r=this._cursor.getChars(i);this._cursor.advance();let s=jc.hasOwnProperty(r)&&jc[r];if(!s)throw this._createError(ty(r),this._cursor.getSpan(t));this._endToken([s,`&${r};`])}}}_consumeRawText(e,t){this._beginToken(e?6:7);let i=[];for(;;){let r=this._cursor.clone(),s=t();if(this._cursor=r,s)break;e&&this._cursor.peek()===ip?(this._endToken([this._processCarriageReturns(i.join(""))]),i.length=0,this._consumeEntity(6),this._beginToken(6)):i.push(this._readChar())}this._endToken([this._processCarriageReturns(i.join(""))])}_consumeComment(e){this._beginToken(10,e),this._requireCharCode(rp),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("-->")),this._beginToken(11),this._requireStr("-->"),this._endToken([])}_consumeCdata(e){this._beginToken(12,e),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("]]>")),this._beginToken(13),this._requireStr("]]>"),this._endToken([])}_consumeDocType(e){this._beginToken(18,e);let t=this._cursor.clone();this._attemptUntilChar(as);let i=this._cursor.getChars(t);this._cursor.advance(),this._endToken([i])}_consumePrefixAndName(){let e=this._cursor.clone(),t="";for(;this._cursor.peek()!==us&&!E3(this._cursor.peek());)this._cursor.advance();let i;this._cursor.peek()===us?(t=this._cursor.getChars(e),this._cursor.advance(),i=this._cursor.clone()):i=e,this._requireCharCodeUntilFn(ny,t===""?0:1);let r=this._cursor.getChars(i);return[t,r]}_consumeTagOpen(e){let t,i,r;try{if(!Pc(this._cursor.peek()))throw this._createError(Hl(this._cursor.peek()),this._cursor.getSpan(e));for(r=this._consumeTagOpenStart(e),i=r.parts[0],t=r.parts[1],this._attemptCharCodeUntilFn(Yt);this._cursor.peek()!==Mr&&this._cursor.peek()!==as&&this._cursor.peek()!==da&&this._cursor.peek()!==hn;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(Yt),this._attemptCharCode(to)&&(this._attemptCharCodeUntilFn(Yt),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(Yt);this._consumeTagOpenEnd()}catch(o){if(o instanceof nc){r?r.type=4:(this._beginToken(5,e),this._endToken(["<"]));return}throw o}let s=this._getTagDefinition(t).getContentType(i);s===nr.RAW_TEXT?this._consumeRawTextWithTagClose(i,t,!1):s===nr.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(i,t,!0)}_consumeRawTextWithTagClose(e,t,i){this._consumeRawText(i,()=>!this._attemptCharCode(da)||!this._attemptCharCode(Mr)||(this._attemptCharCodeUntilFn(Yt),!this._attemptStrCaseInsensitive(t))?!1:(this._attemptCharCodeUntilFn(Yt),this._attemptCharCode(as))),this._beginToken(3),this._requireCharCodeUntilFn(r=>r===as,3),this._cursor.advance(),this._endToken([e,t])}_consumeTagOpenStart(e){this._beginToken(0,e);let t=this._consumePrefixAndName();return this._endToken(t)}_consumeAttributeName(){let e=this._cursor.peek();if(e===Ic||e===Ac)throw this._createError(Hl(e),this._cursor.getSpan());this._beginToken(14);let t=this._consumePrefixAndName();this._endToken(t)}_consumeAttributeValue(){if(this._cursor.peek()===Ic||this._cursor.peek()===Ac){let e=this._cursor.peek();this._consumeQuote(e);let t=()=>this._cursor.peek()===e;this._consumeWithInterpolation(16,17,t,t),this._consumeQuote(e)}else{let e=()=>ny(this._cursor.peek());this._consumeWithInterpolation(16,17,e,e)}}_consumeQuote(e){this._beginToken(15),this._requireCharCode(e),this._endToken([String.fromCodePoint(e)])}_consumeTagOpenEnd(){let e=this._attemptCharCode(Mr)?2:1;this._beginToken(e),this._requireCharCode(as),this._endToken([])}_consumeTagClose(e){this._beginToken(3,e),this._attemptCharCodeUntilFn(Yt);let t=this._consumePrefixAndName();this._attemptCharCodeUntilFn(Yt),this._requireCharCode(as),this._endToken(t)}_consumeExpansionFormStart(){this._beginToken(19),this._requireCharCode(Bi),this._endToken([]),this._expansionCaseStack.push(19),this._beginToken(7);let e=this._readUntil(wi),t=this._processCarriageReturns(e);if(this._i18nNormalizeLineEndingsInICUs)this._endToken([t]);else{let r=this._endToken([e]);t!==e&&this.nonNormalizedIcuExpressions.push(r)}this._requireCharCode(wi),this._attemptCharCodeUntilFn(Yt),this._beginToken(7);let i=this._readUntil(wi);this._endToken([i]),this._requireCharCode(wi),this._attemptCharCodeUntilFn(Yt)}_consumeExpansionCaseStart(){this._beginToken(20);let e=this._readUntil(Bi).trim();this._endToken([e]),this._attemptCharCodeUntilFn(Yt),this._beginToken(21),this._requireCharCode(Bi),this._endToken([]),this._attemptCharCodeUntilFn(Yt),this._expansionCaseStack.push(21)}_consumeExpansionCaseEnd(){this._beginToken(22),this._requireCharCode(qn),this._endToken([]),this._attemptCharCodeUntilFn(Yt),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken(23),this._requireCharCode(qn),this._endToken([]),this._expansionCaseStack.pop()}_consumeWithInterpolation(e,t,i,r){this._beginToken(e);let s=[];for(;!i();){let o=this._cursor.clone();this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(this._endToken([this._processCarriageReturns(s.join(""))],o),s.length=0,this._consumeInterpolation(t,o,r),this._beginToken(e)):this._cursor.peek()===ip?(this._endToken([this._processCarriageReturns(s.join(""))]),s.length=0,this._consumeEntity(e),this._beginToken(e)):s.push(this._readChar())}this._inInterpolation=!1,this._endToken([this._processCarriageReturns(s.join(""))])}_consumeInterpolation(e,t,i){let r=[];this._beginToken(e,t),r.push(this._interpolationConfig.start);let s=this._cursor.clone(),o=null,a=!1;for(;this._cursor.peek()!==hn&&(i===null||!i());){let l=this._cursor.clone();if(this._isTagStart()){this._cursor=l,r.push(this._getProcessedChars(s,l)),this._endToken(r);return}if(o===null)if(this._attemptStr(this._interpolationConfig.end)){r.push(this._getProcessedChars(s,l)),r.push(this._interpolationConfig.end),this._endToken(r);return}else this._attemptStr("//")&&(a=!0);let c=this._cursor.peek();this._cursor.advance(),c===xa?this._cursor.advance():c===o?o=null:!a&&o===null&&Jl(c)&&(o=c)}r.push(this._getProcessedChars(s,this._cursor)),this._endToken(r)}_getProcessedChars(e,t){return this._processCarriageReturns(t.getChars(e))}_isTextEnd(){return!!(this._isTagStart()||this._cursor.peek()===hn||this._tokenizeIcu&&!this._inInterpolation&&(this.isExpansionFormStart()||this._cursor.peek()===qn&&this._isInExpansionCase())||this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansion()&&(this._cursor.peek()===Tm||this._cursor.peek()===qn))}_isTagStart(){if(this._cursor.peek()===da){let e=this._cursor.clone();e.advance();let t=e.peek();if(xo<=t&&t<=Kc||Va<=t&&t<=jp||t===Mr||t===x0)return!0}return!1}_readUntil(e){let t=this._cursor.clone();return this._attemptUntilChar(e),this._cursor.getChars(t)}_isInExpansion(){return this._isInExpansionCase()||this._isInExpansionForm()}_isInExpansionCase(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===21}_isInExpansionForm(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===19}isExpansionFormStart(){if(this._cursor.peek()!==Bi)return!1;if(this._interpolationConfig){let e=this._cursor.clone(),t=this._attemptStr(this._interpolationConfig.start);return this._cursor=e,!t}return!0}};function Yt(n){return!Mc(n)||n===hn}function ny(n){return Mc(n)||n===as||n===da||n===Mr||n===Ic||n===Ac||n===to||n===hn}function E3(n){return(n<xo||Kc<n)&&(n<Va||jp<n)&&(n<Mg||n>f2)}function C3(n){return n===ti||n===hn||!JT(n)}function k3(n){return n===ti||n===hn||!Pc(n)}function T3(n){return n!==qn}function A3(n,e){return iy(n)===iy(e)}function iy(n){return n>=xo&&n<=Kc?n-xo+Va:n}function I3(n){return Pc(n)||tr(n)||n===Zc}function ry(n){return n!==ti&&Yt(n)}function M3(n){let e=[],t;for(let i=0;i<n.length;i++){let r=n[i];t&&t.type===5&&r.type===5||t&&t.type===16&&r.type===16?(t.parts[0]+=r.parts[0],t.sourceSpan.end=r.sourceSpan.end):(t=r,e.push(t))}return e}var Sp=class n{state;file;input;end;constructor(e,t){if(e instanceof n){this.file=e.file,this.input=e.input,this.end=e.end;let i=e.state;this.state={peek:i.peek,offset:i.offset,line:i.line,column:i.column}}else{if(!t)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=e,this.input=e.content,this.end=t.endPos,this.state={peek:-1,offset:t.startPos,line:t.startLine,column:t.startCol}}}clone(){return new n(this)}peek(){return this.state.peek}charsLeft(){return this.end-this.state.offset}diff(e){return this.state.offset-e.state.offset}advance(){this.advanceState(this.state)}init(){this.updatePeek(this.state)}getSpan(e,t){e=e||this;let i=e;if(t)for(;this.diff(e)>0&&t.indexOf(e.peek())!==-1;)i===e&&(e=e.clone()),e.advance();let r=this.locationFromCursor(e),s=this.locationFromCursor(this),o=i!==e?this.locationFromCursor(i):r;return new we(r,s,o)}getChars(e){return this.input.substring(e.state.offset,this.state.offset)}charAt(e){return this.input.charCodeAt(e)}advanceState(e){if(e.offset>=this.end)throw this.state=e,new qc('Unexpected character "EOF"',this);let t=this.charAt(e.offset);t===so?(e.line++,e.column=0):Dg(t)||e.column++,e.offset++,this.updatePeek(e)}updatePeek(e){e.peek=e.offset>=this.end?hn:this.charAt(e.offset)}locationFromCursor(e){return new Dc(e.file,e.state.offset,e.state.line,e.state.column)}},V0=class n extends Sp{internalState;constructor(e,t){e instanceof n?(super(e),this.internalState=L({},e.internalState)):(super(e,t),this.internalState=this.state)}advance(){this.state=this.internalState,super.advance(),this.processEscapeSequence()}init(){super.init(),this.processEscapeSequence()}clone(){return new n(this)}getChars(e){let t=e.clone(),i="";for(;t.internalState.offset<this.internalState.offset;)i+=String.fromCodePoint(t.peek()),t.advance();return i}processEscapeSequence(){let e=()=>this.internalState.peek;if(e()===xa)if(this.internalState=L({},this.state),this.advanceState(this.internalState),e()===m2)this.state.peek=so;else if(e()===g2)this.state.peek=Ig;else if(e()===b2)this.state.peek=c2;else if(e()===v2)this.state.peek=Ag;else if(e()===ZT)this.state.peek=HT;else if(e()===Pg)this.state.peek=u2;else if(e()===x2)if(this.advanceState(this.internalState),e()===Bi){this.advanceState(this.internalState);let t=this.clone(),i=0;for(;e()!==qn;)this.advanceState(this.internalState),i++;this.state.peek=this.decodeHexDigits(t,i)}else{let t=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(t,4)}else if(e()===y2){this.advanceState(this.internalState);let t=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(t,2)}else if(Bb(e())){let t="",i=0,r=this.clone();for(;Bb(e())&&i<3;)r=this.clone(),t+=String.fromCodePoint(e()),this.advanceState(this.internalState),i++;this.state.peek=parseInt(t,8),this.internalState=r.internalState}else Dg(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}decodeHexDigits(e,t){let i=this.input.slice(e.internalState.offset,e.internalState.offset+t),r=parseInt(i,16);if(isNaN(r))throw e.state=e.internalState,new qc("Invalid hexadecimal escape sequence",e);return r}},qc=class{msg;cursor;constructor(e,t){this.msg=e,this.cursor=t}},pn=class n extends be{elementName;static create(e,t,i){return new n(e,t,i)}constructor(e,t,i){super(t,i),this.elementName=e}},Ep=class{rootNodes;errors;constructor(e,t){this.rootNodes=e,this.errors=t}},P3=class{getTagDefinition;constructor(e){this.getTagDefinition=e}parse(e,t,i){let r=_3(e,t,this.getTagDefinition,i),s=new $0(r.tokens,this.getTagDefinition);return s.build(),new Ep(s.rootNodes,r.errors.concat(s.errors))}},$0=class n{tokens;getTagDefinition;_index=-1;_peek;_containerStack=[];rootNodes=[];errors=[];constructor(e,t){this.tokens=e,this.getTagDefinition=t,this._advance()}build(){for(;this._peek.type!==33;)this._peek.type===0||this._peek.type===4?this._consumeStartTag(this._advance()):this._peek.type===3?this._consumeEndTag(this._advance()):this._peek.type===12?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===10?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===5||this._peek.type===7||this._peek.type===6?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===19?this._consumeExpansion(this._advance()):this._peek.type===24?(this._closeVoidElement(),this._consumeBlockOpen(this._advance())):this._peek.type===26?(this._closeVoidElement(),this._consumeBlockClose(this._advance())):this._peek.type===28?(this._closeVoidElement(),this._consumeIncompleteBlock(this._advance())):this._peek.type===29?(this._closeVoidElement(),this._consumeLet(this._advance())):this._peek.type===32?(this._closeVoidElement(),this._consumeIncompleteLet(this._advance())):this._advance();for(let e of this._containerStack)e instanceof vi&&this.errors.push(pn.create(e.name,e.sourceSpan,`Unclosed block "${e.name}"`))}_advance(){let e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e}_advanceIf(e){return this._peek.type===e?this._advance():null}_consumeCdata(e){this._consumeText(this._advance()),this._advanceIf(13)}_consumeComment(e){let t=this._advanceIf(7),i=this._advanceIf(11),r=t!=null?t.parts[0].trim():null,s=i==null?e.sourceSpan:new we(e.sourceSpan.start,i.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new $c(r,s))}_consumeExpansion(e){let t=this._advance(),i=this._advance(),r=[];for(;this._peek.type===20;){let o=this._parseExpansionCase();if(!o)return;r.push(o)}if(this._peek.type!==23){this.errors.push(pn.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));return}let s=new we(e.sourceSpan.start,this._peek.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new oo(t.parts[0],i.parts[0],r,s,t.sourceSpan)),this._advance()}_parseExpansionCase(){let e=this._advance();if(this._peek.type!==21)return this.errors.push(pn.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;let t=this._advance(),i=this._collectExpansionExpTokens(t);if(!i)return null;let r=this._advance();i.push({type:33,parts:[],sourceSpan:r.sourceSpan});let s=new n(i,this.getTagDefinition);if(s.build(),s.errors.length>0)return this.errors=this.errors.concat(s.errors),null;let o=new we(e.sourceSpan.start,r.sourceSpan.end,e.sourceSpan.fullStart),a=new we(t.sourceSpan.start,r.sourceSpan.end,t.sourceSpan.fullStart);return new yp(e.parts[0],s.rootNodes,o,e.sourceSpan,a)}_collectExpansionExpTokens(e){let t=[],i=[21];for(;;){if((this._peek.type===19||this._peek.type===21)&&i.push(this._peek.type),this._peek.type===22)if(sy(i,21)){if(i.pop(),i.length===0)return t}else return this.errors.push(pn.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===23)if(sy(i,19))i.pop();else return this.errors.push(pn.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===33)return this.errors.push(pn.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;t.push(this._advance())}}_consumeText(e){let t=[e],i=e.sourceSpan,r=e.parts[0];if(r.length>0&&r[0]===`
`){let s=this._getContainer();s!=null&&s.children.length===0&&this.getTagDefinition(s.name).ignoreFirstLf&&(r=r.substring(1),t[0]={type:e.type,sourceSpan:e.sourceSpan,parts:[r]})}for(;this._peek.type===8||this._peek.type===5||this._peek.type===9;)e=this._advance(),t.push(e),e.type===8?r+=e.parts.join("").replace(/&([^;]+);/g,oy):e.type===9?r+=e.parts[0]:r+=e.parts.join("");if(r.length>0){let s=e.sourceSpan;this._addToParent(new wo(r,new we(i.start,s.end,i.fullStart,i.details),t))}}_closeVoidElement(){let e=this._getContainer();e instanceof mi&&this.getTagDefinition(e.name).isVoid&&this._containerStack.pop()}_consumeStartTag(e){let[t,i]=e.parts,r=[];for(;this._peek.type===14;)r.push(this._consumeAttr(this._advance()));let s=this._getElementFullName(t,i,this._getClosestParentElement()),o=!1;if(this._peek.type===2){this._advance(),o=!0;let m=this.getTagDefinition(s);m.canSelfClose||a0(s)!==null||m.isVoid||this.errors.push(pn.create(s,e.sourceSpan,`Only void, custom and foreign elements can be self closed "${e.parts[1]}"`))}else this._peek.type===1&&(this._advance(),o=!1);let a=this._peek.sourceSpan.fullStart,l=new we(e.sourceSpan.start,a,e.sourceSpan.fullStart),c=new we(e.sourceSpan.start,a,e.sourceSpan.fullStart),u=new mi(s,r,[],l,c,void 0),f=this._getContainer();this._pushContainer(u,f instanceof mi&&this.getTagDefinition(f.name).isClosedByChild(u.name)),o?this._popContainer(s,mi,l):e.type===4&&(this._popContainer(s,mi,null),this.errors.push(pn.create(s,l,`Opening tag "${s}" not terminated.`)))}_pushContainer(e,t){t&&this._containerStack.pop(),this._addToParent(e),this._containerStack.push(e)}_consumeEndTag(e){let t=this._getElementFullName(e.parts[0],e.parts[1],this._getClosestParentElement());if(this.getTagDefinition(t).isVoid)this.errors.push(pn.create(t,e.sourceSpan,`Void elements do not have end tags "${e.parts[1]}"`));else if(!this._popContainer(t,mi,e.sourceSpan)){let i=`Unexpected closing tag "${t}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`;this.errors.push(pn.create(t,e.sourceSpan,i))}}_popContainer(e,t,i){let r=!1;for(let s=this._containerStack.length-1;s>=0;s--){let o=this._containerStack[s];if((o.name===e||e===null)&&o instanceof t)return o.endSourceSpan=i,o.sourceSpan.end=i!==null?i.end:o.sourceSpan.end,this._containerStack.splice(s,this._containerStack.length-s),!r;(o instanceof vi||o instanceof mi&&!this.getTagDefinition(o.name).closedByParent)&&(r=!0)}return!1}_consumeAttr(e){let t=l0(e.parts[0],e.parts[1]),i=e.sourceSpan.end;this._peek.type===15&&this._advance();let r="",s=[],o,a;if(this._peek.type===16)for(o=this._peek.sourceSpan,a=this._peek.sourceSpan.end;this._peek.type===16||this._peek.type===17||this._peek.type===9;){let u=this._advance();s.push(u),u.type===17?r+=u.parts.join("").replace(/&([^;]+);/g,oy):u.type===9?r+=u.parts[0]:r+=u.parts.join(""),a=i=u.sourceSpan.end}this._peek.type===15&&(i=this._advance().sourceSpan.end);let c=o&&a&&new we(o.start,a,o.fullStart);return new O0(t,r,new we(e.sourceSpan.start,i,e.sourceSpan.fullStart),e.sourceSpan,c,s.length>0?s:void 0,void 0)}_consumeBlockOpen(e){let t=[];for(;this._peek.type===27;){let a=this._advance();t.push(new _p(a.parts[0],a.sourceSpan))}this._peek.type===25&&this._advance();let i=this._peek.sourceSpan.fullStart,r=new we(e.sourceSpan.start,i,e.sourceSpan.fullStart),s=new we(e.sourceSpan.start,i,e.sourceSpan.fullStart),o=new vi(e.parts[0],t,[],r,e.sourceSpan,s);this._pushContainer(o,!1)}_consumeBlockClose(e){this._popContainer(null,vi,e.sourceSpan)||this.errors.push(pn.create(null,e.sourceSpan,'Unexpected closing block. The block may have been closed earlier. If you meant to write the } character, you should use the "&#125;" HTML entity instead.'))}_consumeIncompleteBlock(e){let t=[];for(;this._peek.type===27;){let a=this._advance();t.push(new _p(a.parts[0],a.sourceSpan))}let i=this._peek.sourceSpan.fullStart,r=new we(e.sourceSpan.start,i,e.sourceSpan.fullStart),s=new we(e.sourceSpan.start,i,e.sourceSpan.fullStart),o=new vi(e.parts[0],t,[],r,e.sourceSpan,s);this._pushContainer(o,!1),this._popContainer(null,vi,null),this.errors.push(pn.create(e.parts[0],r,`Incomplete block "${e.parts[0]}". If you meant to write the @ character, you should use the "&#64;" HTML entity instead.`))}_consumeLet(e){let t=e.parts[0],i,r;if(this._peek.type!==30){this.errors.push(pn.create(e.parts[0],e.sourceSpan,`Invalid @let declaration "${t}". Declaration must have a value.`));return}else i=this._advance();if(this._peek.type!==31){this.errors.push(pn.create(e.parts[0],e.sourceSpan,`Unterminated @let declaration "${t}". Declaration must be terminated with a semicolon.`));return}else r=this._advance();let s=r.sourceSpan.fullStart,o=new we(e.sourceSpan.start,s,e.sourceSpan.fullStart),a=e.sourceSpan.toString().lastIndexOf(t),l=e.sourceSpan.start.moveBy(a),c=new we(l,e.sourceSpan.end),u=new wp(t,i.parts[0],o,c,i.sourceSpan);this._addToParent(u)}_consumeIncompleteLet(e){let t=e.parts[0]??"",i=t?` "${t}"`:"";if(t.length>0){let r=e.sourceSpan.toString().lastIndexOf(t),s=e.sourceSpan.start.moveBy(r),o=new we(s,e.sourceSpan.end),a=new we(e.sourceSpan.start,e.sourceSpan.start.moveBy(0)),l=new wp(t,"",e.sourceSpan,o,a);this._addToParent(l)}this.errors.push(pn.create(e.parts[0],e.sourceSpan,`Incomplete @let declaration${i}. @let declarations must be written as \`@let <name> = <value>;\``))}_getContainer(){return this._containerStack.length>0?this._containerStack[this._containerStack.length-1]:null}_getClosestParentElement(){for(let e=this._containerStack.length-1;e>-1;e--)if(this._containerStack[e]instanceof mi)return this._containerStack[e];return null}_addToParent(e){let t=this._getContainer();t===null?this.rootNodes.push(e):t.children.push(e)}_getElementFullName(e,t,i){if(e===""&&(e=this.getTagDefinition(t).implicitNamespacePrefix||"",e===""&&i!=null)){let r=qi(i.name)[1];this.getTagDefinition(r).preventNamespaceInheritance||(e=a0(i.name))}return l0(e,t)}};function sy(n,e){return n.length>0&&n[n.length-1]===e}function oy(n,e){return jc[e]!==void 0?jc[e]||n:/^#x[a-f0-9]+$/i.test(e)?String.fromCodePoint(parseInt(e.slice(2),16)):/^#\d+$/.test(e)?String.fromCodePoint(parseInt(e.slice(1),10)):n}var j2="ngPreserveWhitespaces",D3=new Set(["pre","template","textarea","script","style"]),q2=` \f
\r	\v\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF`,N3=new RegExp(`[^${q2}]`),L3=new RegExp(`[${q2}]{2,}`,"g");function O3(n){return n.some(e=>e.name===j2)}function H2(n){return n.replace(new RegExp($2,"g")," ")}var Cp=class{preserveSignificantWhitespace;originalNodeMap;requireContext;icuExpansionDepth=0;constructor(e,t,i=!0){this.preserveSignificantWhitespace=e,this.originalNodeMap=t,this.requireContext=i}visitElement(e,t){if(D3.has(e.name)||O3(e.attrs)){let r=new mi(e.name,ca(this,e.attrs),e.children,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return this.originalNodeMap?.set(r,e),r}let i=new mi(e.name,e.attrs,ca(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return this.originalNodeMap?.set(i,e),i}visitAttribute(e,t){return e.name!==j2?e:null}visitText(e,t){let i=e.value.match(N3),r=t&&(t.prev instanceof oo||t.next instanceof oo);if(this.icuExpansionDepth>0&&this.preserveSignificantWhitespace)return e;if(i||r){let o=e.tokens.map(u=>u.type===5?V3(u):u);if(!this.preserveSignificantWhitespace&&o.length>0){let u=o[0];o.splice(0,1,R3(u,t));let f=o[o.length-1];o.splice(o.length-1,1,F3(f,t))}let a=z2(e.value),l=this.preserveSignificantWhitespace?a:B3(a,t),c=new wo(l,e.sourceSpan,o,e.i18n);return this.originalNodeMap?.set(c,e),c}return null}visitComment(e,t){return e}visitExpansion(e,t){this.icuExpansionDepth++;let i;try{i=new oo(e.switchValue,e.type,ca(this,e.cases),e.sourceSpan,e.switchValueSourceSpan,e.i18n)}finally{this.icuExpansionDepth--}return this.originalNodeMap?.set(i,e),i}visitExpansionCase(e,t){let i=new yp(e.value,ca(this,e.expression),e.sourceSpan,e.valueSourceSpan,e.expSourceSpan);return this.originalNodeMap?.set(i,e),i}visitBlock(e,t){let i=new vi(e.name,e.parameters,ca(this,e.children),e.sourceSpan,e.nameSpan,e.startSourceSpan,e.endSourceSpan);return this.originalNodeMap?.set(i,e),i}visitBlockParameter(e,t){return e}visitLetDeclaration(e,t){return e}visit(e,t){if(this.requireContext&&!t)throw new Error("WhitespaceVisitor requires context. Visit via `visitAllWithSiblings` to get this context.");return!1}};function R3(n,e){return n.type!==5||!!e?.prev?n:U2(n,i=>i.trimStart())}function F3(n,e){return n.type!==5||!!e?.next?n:U2(n,i=>i.trimEnd())}function B3(n,e){let t=!e?.prev,i=!e?.next,r=t?n.trimStart():n;return i?r.trimEnd():r}function V3({type:n,parts:e,sourceSpan:t}){return{type:n,parts:[z2(e[0])],sourceSpan:t}}function U2({type:n,parts:e,sourceSpan:t},i){return{type:n,parts:[i(e[0])],sourceSpan:t}}function z2(n){return H2(n).replace(L3," ")}function ca(n,e){let t=[];return e.forEach((i,r)=>{let s={prev:e[r-1],next:e[r+1]},o=i.visit(n,s);o&&t.push(o)}),t}var Ne=function(n){return n[n.Character=0]="Character",n[n.Identifier=1]="Identifier",n[n.PrivateIdentifier=2]="PrivateIdentifier",n[n.Keyword=3]="Keyword",n[n.String=4]="String",n[n.Operator=5]="Operator",n[n.Number=6]="Number",n[n.Error=7]="Error",n}(Ne||{}),ao=function(n){return n[n.Plain=0]="Plain",n[n.TemplateLiteralPart=1]="TemplateLiteralPart",n[n.TemplateLiteralEnd=2]="TemplateLiteralEnd",n}(ao||{}),$3=["var","let","as","null","undefined","true","false","if","else","this","typeof"],Hc=class{tokenize(e){return new j0(e).scan()}},zi=class{index;end;type;numValue;strValue;constructor(e,t,i,r,s){this.index=e,this.end=t,this.type=i,this.numValue=r,this.strValue=s}isCharacter(e){return this.type===Ne.Character&&this.numValue===e}isNumber(){return this.type===Ne.Number}isString(){return this.type===Ne.String}isOperator(e){return this.type===Ne.Operator&&this.strValue===e}isIdentifier(){return this.type===Ne.Identifier}isPrivateIdentifier(){return this.type===Ne.PrivateIdentifier}isKeyword(){return this.type===Ne.Keyword}isKeywordLet(){return this.type===Ne.Keyword&&this.strValue==="let"}isKeywordAs(){return this.type===Ne.Keyword&&this.strValue==="as"}isKeywordNull(){return this.type===Ne.Keyword&&this.strValue==="null"}isKeywordUndefined(){return this.type===Ne.Keyword&&this.strValue==="undefined"}isKeywordTrue(){return this.type===Ne.Keyword&&this.strValue==="true"}isKeywordFalse(){return this.type===Ne.Keyword&&this.strValue==="false"}isKeywordThis(){return this.type===Ne.Keyword&&this.strValue==="this"}isKeywordTypeof(){return this.type===Ne.Keyword&&this.strValue==="typeof"}isError(){return this.type===Ne.Error}toNumber(){return this.type===Ne.Number?this.numValue:-1}isTemplateLiteralPart(){return this.isString()&&this.kind===ao.TemplateLiteralPart}isTemplateLiteralEnd(){return this.isString()&&this.kind===ao.TemplateLiteralEnd}isTemplateLiteralInterpolationStart(){return this.isOperator("${")}isTemplateLiteralInterpolationEnd(){return this.isOperator("}")}toString(){switch(this.type){case Ne.Character:case Ne.Identifier:case Ne.Keyword:case Ne.Operator:case Ne.PrivateIdentifier:case Ne.String:case Ne.Error:return this.strValue;case Ne.Number:return this.numValue.toString();default:return null}}},ic=class extends zi{kind;constructor(e,t,i,r){super(e,t,Ne.String,0,i),this.kind=r}};function ud(n,e,t){return new zi(n,e,Ne.Character,t,String.fromCharCode(t))}function j3(n,e,t){return new zi(n,e,Ne.Identifier,0,t)}function q3(n,e,t){return new zi(n,e,Ne.PrivateIdentifier,0,t)}function H3(n,e,t){return new zi(n,e,Ne.Keyword,0,t)}function Ul(n,e,t){return new zi(n,e,Ne.Operator,0,t)}function U3(n,e,t){return new zi(n,e,Ne.Number,t,"")}function z3(n,e,t){return new zi(n,e,Ne.Error,0,t)}var dd=new zi(-1,-1,Ne.Character,0,""),j0=class{input;tokens=[];length;peek=0;index=-1;braceStack=[];constructor(e){this.input=e,this.length=e.length,this.advance()}scan(){let e=this.scanToken();for(;e!==null;)this.tokens.push(e),e=this.scanToken();return this.tokens}advance(){this.peek=++this.index>=this.length?hn:this.input.charCodeAt(this.index)}scanToken(){let e=this.input,t=this.length,i=this.peek,r=this.index;for(;i<=d2;)if(++r>=t){i=hn;break}else i=e.charCodeAt(r);if(this.peek=i,this.index=r,r>=t)return null;if(ay(i))return this.scanIdentifier();if(tr(i))return this.scanNumber(r);let s=r;switch(i){case aa:return this.advance(),tr(this.peek)?this.scanNumber(s):ud(s,this.index,aa);case Lr:case Vi:case va:case pa:case wi:case us:case ti:return this.scanCharacter(s,i);case Bi:return this.scanOpenBrace(s,i);case qn:return this.scanCloseBrace(s,i);case Ic:case Ac:return this.scanString();case b0:return this.advance(),this.scanTemplateLiteralPart(s);case p2:return this.scanPrivateIdentifier();case h2:case rp:case zT:case Mr:case UT:case XT:return this.scanOperator(s,String.fromCharCode(i));case Rb:return this.scanQuestion(s);case da:case as:return this.scanComplexOperator(s,String.fromCharCode(i),to,"=");case x0:case to:return this.scanComplexOperator(s,String.fromCharCode(i),to,"=",to,"=");case ip:return this.scanComplexOperator(s,"&",ip,"&");case Fb:return this.scanComplexOperator(s,"|",Fb,"|");case _2:for(;Mc(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(i)}]`,0)}scanCharacter(e,t){return this.advance(),ud(e,this.index,t)}scanOperator(e,t){return this.advance(),Ul(e,this.index,t)}scanOpenBrace(e,t){return this.braceStack.push("expression"),this.advance(),ud(e,this.index,t)}scanCloseBrace(e,t){return this.advance(),this.braceStack.pop()==="interpolation"?(this.tokens.push(Ul(e,this.index,"}")),this.scanTemplateLiteralPart(this.index)):ud(e,this.index,t)}scanComplexOperator(e,t,i,r,s,o){this.advance();let a=t;return this.peek==i&&(this.advance(),a+=r),s!=null&&this.peek==s&&(this.advance(),a+=o),Ul(e,this.index,a)}scanIdentifier(){let e=this.index;for(this.advance();ly(this.peek);)this.advance();let t=this.input.substring(e,this.index);return $3.indexOf(t)>-1?H3(e,this.index,t):j3(e,this.index,t)}scanPrivateIdentifier(){let e=this.index;if(this.advance(),!ay(this.peek))return this.error("Invalid character [#]",-1);for(;ly(this.peek);)this.advance();let t=this.input.substring(e,this.index);return q3(e,this.index,t)}scanNumber(e){let t=this.index===e,i=!1;for(this.advance();;){if(!tr(this.peek))if(this.peek===Zc){if(!tr(this.input.charCodeAt(this.index-1))||!tr(this.input.charCodeAt(this.index+1)))return this.error("Invalid numeric separator",0);i=!0}else if(this.peek===aa)t=!1;else if(W3(this.peek)){if(this.advance(),Q3(this.peek)&&this.advance(),!tr(this.peek))return this.error("Invalid exponent",-1);t=!1}else break;this.advance()}let r=this.input.substring(e,this.index);i&&(r=r.replace(/_/g,""));let s=t?Y3(r):parseFloat(r);return U3(e,this.index,s)}scanString(){let e=this.index,t=this.peek;this.advance();let i="",r=this.index,s=this.input;for(;this.peek!=t;)if(this.peek==xa){let a=this.scanStringBackslash(i,r);if(typeof a!="string")return a;i=a,r=this.index}else{if(this.peek==hn)return this.error("Unterminated quote",0);this.advance()}let o=s.substring(r,this.index);return this.advance(),new ic(e,this.index,i+o,ao.Plain)}scanQuestion(e){this.advance();let t="?";return(this.peek===Rb||this.peek===aa)&&(t+=this.peek===aa?".":"?",this.advance()),Ul(e,this.index,t)}scanTemplateLiteralPart(e){let t="",i=this.index;for(;this.peek!==b0;)if(this.peek===xa){let s=this.scanStringBackslash(t,i);if(typeof s!="string")return s;t=s,i=this.index}else if(this.peek===$p){let s=this.index;if(this.advance(),this.peek===Bi)return this.braceStack.push("interpolation"),this.tokens.push(new ic(e,s,t+this.input.substring(i,s),ao.TemplateLiteralPart)),this.advance(),Ul(s,this.index,this.input.substring(s,this.index))}else{if(this.peek===hn)return this.error("Unterminated template literal",0);this.advance()}let r=this.input.substring(i,this.index);return this.advance(),new ic(e,this.index,t+r,ao.TemplateLiteralEnd)}error(e,t){let i=this.index+t;return z3(i,this.index,`Lexer Error: ${e} at column ${i} in expression [${this.input}]`)}scanStringBackslash(e,t){e+=this.input.substring(t,this.index);let i;if(this.advance(),this.peek===x2){let r=this.input.substring(this.index+1,this.index+5);if(/^[0-9a-f]+$/i.test(r))i=parseInt(r,16);else return this.error(`Invalid unicode escape [\\u${r}]`,0);for(let s=0;s<5;s++)this.advance()}else i=G3(this.peek),this.advance();return e+=String.fromCharCode(i),e}};function ay(n){return xo<=n&&n<=Kc||Va<=n&&n<=jp||n==Zc||n==$p}function ly(n){return Pc(n)||tr(n)||n==Zc||n==$p}function W3(n){return n==KT||n==QT}function Q3(n){return n==rp||n==h2}function G3(n){switch(n){case m2:return so;case Pg:return u2;case g2:return Ig;case v2:return Ag;case b2:return c2;default:return n}}function Y3(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}var q0=class{strings;expressions;offsets;constructor(e,t,i){this.strings=e,this.expressions=t,this.offsets=i}},H0=class{templateBindings;warnings;errors;constructor(e,t,i){this.templateBindings=e,this.warnings=t,this.errors=i}},kp=class{_lexer;errors=[];constructor(e){this._lexer=e}parseAction(e,t,i,r=ir){this._checkNoInterpolation(e,t,r);let s=this._stripComments(e),o=this._lexer.tokenize(s),a=new Zs(e,t,i,o,1,this.errors,0).parseChain();return new xi(a,e,t,i,this.errors)}parseBinding(e,t,i,r=ir){let s=this._parseBindingAst(e,t,i,r);return new xi(s,e,t,i,this.errors)}checkSimpleExpression(e){let t=new U0;return e.visit(t),t.errors}parseSimpleBinding(e,t,i,r=ir){let s=this._parseBindingAst(e,t,i,r),o=this.checkSimpleExpression(s);return o.length>0&&this._reportError(`Host binding expression cannot contain ${o.join(" ")}`,e,t),new xi(s,e,t,i,this.errors)}_reportError(e,t,i,r){this.errors.push(new hc(e,t,i,r))}_parseBindingAst(e,t,i,r){this._checkNoInterpolation(e,t,r);let s=this._stripComments(e),o=this._lexer.tokenize(s);return new Zs(e,t,i,o,0,this.errors,0).parseChain()}parseTemplateBindings(e,t,i,r,s){let o=this._lexer.tokenize(t);return new Zs(t,i,s,o,0,this.errors,0).parseTemplateBindings({source:e,span:new ii(r,r+e.length)})}parseInterpolation(e,t,i,r,s=ir){let{strings:o,expressions:a,offsets:l}=this.splitInterpolation(e,t,r,s);if(a.length===0)return null;let c=[];for(let u=0;u<a.length;++u){let f=a[u].text,m=this._stripComments(f),v=this._lexer.tokenize(m),b=new Zs(e,t,i,v,0,this.errors,l[u]).parseChain();c.push(b)}return this.createInterpolationAst(o.map(u=>u.text),c,e,t,i)}parseInterpolationExpression(e,t,i){let r=this._stripComments(e),s=this._lexer.tokenize(r),o=new Zs(e,t,i,s,0,this.errors,0).parseChain(),a=["",""];return this.createInterpolationAst(a,[o],e,t,i)}createInterpolationAst(e,t,i,r,s){let o=new fo(0,i.length),a=new Yc(o,o.toAbsolute(s),e,t);return new xi(a,i,r,s,this.errors)}splitInterpolation(e,t,i,r=ir){let s=[],o=[],a=[],l=i?X3(i):null,c=0,u=!1,f=!1,{start:m,end:v}=r;for(;c<e.length;)if(u){let b=c,w=b+m.length,y=this._getInterpolationEndIndex(e,v,w);if(y===-1){u=!1,f=!0;break}let k=y+v.length,I=e.substring(w,y);I.trim().length===0&&this._reportError("Blank expressions are not allowed in interpolated strings",e,`at column ${c} in`,t),o.push({text:I,start:b,end:k});let $=(l?.get(b)??b)+m.length;a.push($),c=k,u=!1}else{let b=c;c=e.indexOf(m,c),c===-1&&(c=e.length);let w=e.substring(b,c);s.push({text:w,start:b,end:c}),u=!0}if(!u)if(f){let b=s[s.length-1];b.text+=e.substring(c),b.end=e.length}else s.push({text:e.substring(c),start:c,end:e.length});return new q0(s,o,a)}wrapLiteralPrimitive(e,t,i){let r=new fo(0,e==null?0:e.length);return new xi(new gi(r,r.toAbsolute(i),e),e,t,i,this.errors)}_stripComments(e){let t=this._commentStart(e);return t!=null?e.substring(0,t):e}_commentStart(e){let t=null;for(let i=0;i<e.length-1;i++){let r=e.charCodeAt(i),s=e.charCodeAt(i+1);if(r===Mr&&s==Mr&&t==null)return i;t===r?t=null:t==null&&Jl(r)&&(t=r)}return null}_checkNoInterpolation(e,t,{start:i,end:r}){let s=-1,o=-1;for(let a of this._forEachUnquotedChar(e,0))if(s===-1)e.startsWith(i)&&(s=a);else if(o=this._getInterpolationEndIndex(e,r,a),o>-1)break;s>-1&&o>-1&&this._reportError(`Got interpolation (${i}${r}) where expression was expected`,e,`at column ${s} in`,t)}_getInterpolationEndIndex(e,t,i){for(let r of this._forEachUnquotedChar(e,i)){if(e.startsWith(t,r))return r;if(e.startsWith("//",r))return e.indexOf(t,r)}return-1}*_forEachUnquotedChar(e,t){let i=null,r=0;for(let s=t;s<e.length;s++){let o=e[s];Jl(e.charCodeAt(s))&&(i===null||i===o)&&r%2===0?i=i===null?o:null:i===null&&(yield s),r=o==="\\"?r+1:0}}},Yl=function(n){return n[n.None=0]="None",n[n.Writable=1]="Writable",n}(Yl||{}),Zs=class{input;location;absoluteOffset;tokens;parseFlags;errors;offset;rparensExpected=0;rbracketsExpected=0;rbracesExpected=0;context=Yl.None;sourceSpanCache=new Map;index=0;constructor(e,t,i,r,s,o,a){this.input=e,this.location=t,this.absoluteOffset=i,this.tokens=r,this.parseFlags=s,this.errors=o,this.offset=a}peek(e){let t=this.index+e;return t<this.tokens.length?this.tokens[t]:dd}get next(){return this.peek(0)}get atEOF(){return this.index>=this.tokens.length}get inputIndex(){return this.atEOF?this.currentEndIndex:this.next.index+this.offset}get currentEndIndex(){return this.index>0?this.peek(-1).end+this.offset:this.tokens.length===0?this.input.length+this.offset:this.next.index+this.offset}get currentAbsoluteOffset(){return this.absoluteOffset+this.inputIndex}span(e,t){let i=this.currentEndIndex;if(t!==void 0&&t>this.currentEndIndex&&(i=t),e>i){let r=i;i=e,e=r}return new fo(e,i)}sourceSpan(e,t){let i=`${e}@${this.inputIndex}:${t}`;return this.sourceSpanCache.has(i)||this.sourceSpanCache.set(i,this.span(e,t).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(i)}advance(){this.index++}withContext(e,t){this.context|=e;let i=t();return this.context^=e,i}consumeOptionalCharacter(e){return this.next.isCharacter(e)?(this.advance(),!0):!1}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(e){this.consumeOptionalCharacter(e)||this.error(`Missing expected ${String.fromCharCode(e)}`)}consumeOptionalOperator(e){return this.next.isOperator(e)?(this.advance(),!0):!1}expectOperator(e){this.consumeOptionalOperator(e)||this.error(`Missing expected operator ${e}`)}prettyPrintToken(e){return e===dd?"end of input":`token ${e}`}expectIdentifierOrKeyword(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier or keyword"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier or keyword`),null):(this.advance(),e.toString())}expectIdentifierOrKeywordOrString(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()&&!e.isString()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier, keyword or string"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier, keyword, or string`),""):(this.advance(),e.toString())}parseChain(){let e=[],t=this.inputIndex;for(;this.index<this.tokens.length;){let i=this.parsePipe();if(e.push(i),this.consumeOptionalCharacter(ti))for(this.parseFlags&1||this.error("Binding expression cannot contain chained expression");this.consumeOptionalCharacter(ti););else if(this.index<this.tokens.length){let r=this.index;if(this.error(`Unexpected token '${this.next}'`),this.index===r)break}}if(e.length===0){let i=this.offset,r=this.offset+this.input.length;return new jn(this.span(i,r),this.sourceSpan(i,r))}return e.length==1?e[0]:new Ca(this.span(t),this.sourceSpan(t),e)}parsePipe(){let e=this.inputIndex,t=this.parseExpression();if(this.consumeOptionalOperator("|")){this.parseFlags&1&&this.error("Cannot have a pipe in an action expression");do{let i=this.inputIndex,r=this.expectIdentifierOrKeyword(),s,o;r!==null?s=this.sourceSpan(i):(r="",o=this.next.index!==-1?this.next.index:this.input.length+this.offset,s=new fo(o,o).toAbsolute(this.absoluteOffset));let a=[];for(;this.consumeOptionalCharacter(us);)a.push(this.parseExpression());t=new Vd(this.span(e),this.sourceSpan(e,o),t,r,a,s)}while(this.consumeOptionalOperator("|"))}return t}parseExpression(){return this.parseConditional()}parseConditional(){let e=this.inputIndex,t=this.parseLogicalOr();if(this.consumeOptionalOperator("?")){let i=this.parsePipe(),r;if(this.consumeOptionalCharacter(us))r=this.parsePipe();else{let s=this.inputIndex,o=this.input.substring(e,s);this.error(`Conditional expression ${o} requires all 3 expressions`),r=new jn(this.span(e),this.sourceSpan(e))}return new Ld(this.span(e),this.sourceSpan(e),t,i,r)}else return t}parseLogicalOr(){let e=this.inputIndex,t=this.parseLogicalAnd();for(;this.consumeOptionalOperator("||");){let i=this.parseLogicalAnd();t=new Fi(this.span(e),this.sourceSpan(e),"||",t,i)}return t}parseLogicalAnd(){let e=this.inputIndex,t=this.parseNullishCoalescing();for(;this.consumeOptionalOperator("&&");){let i=this.parseNullishCoalescing();t=new Fi(this.span(e),this.sourceSpan(e),"&&",t,i)}return t}parseNullishCoalescing(){let e=this.inputIndex,t=this.parseEquality();for(;this.consumeOptionalOperator("??");){let i=this.parseEquality();t=new Fi(this.span(e),this.sourceSpan(e),"??",t,i)}return t}parseEquality(){let e=this.inputIndex,t=this.parseRelational();for(;this.next.type==Ne.Operator;){let i=this.next.strValue;switch(i){case"==":case"===":case"!=":case"!==":this.advance();let r=this.parseRelational();t=new Fi(this.span(e),this.sourceSpan(e),i,t,r);continue}break}return t}parseRelational(){let e=this.inputIndex,t=this.parseAdditive();for(;this.next.type==Ne.Operator;){let i=this.next.strValue;switch(i){case"<":case">":case"<=":case">=":this.advance();let r=this.parseAdditive();t=new Fi(this.span(e),this.sourceSpan(e),i,t,r);continue}break}return t}parseAdditive(){let e=this.inputIndex,t=this.parseMultiplicative();for(;this.next.type==Ne.Operator;){let i=this.next.strValue;switch(i){case"+":case"-":this.advance();let r=this.parseMultiplicative();t=new Fi(this.span(e),this.sourceSpan(e),i,t,r);continue}break}return t}parseMultiplicative(){let e=this.inputIndex,t=this.parsePrefix();for(;this.next.type==Ne.Operator;){let i=this.next.strValue;switch(i){case"*":case"%":case"/":this.advance();let r=this.parsePrefix();t=new Fi(this.span(e),this.sourceSpan(e),i,t,r);continue}break}return t}parsePrefix(){if(this.next.type==Ne.Operator){let e=this.inputIndex,t=this.next.strValue,i;switch(t){case"+":return this.advance(),i=this.parsePrefix(),mc.createPlus(this.span(e),this.sourceSpan(e),i);case"-":return this.advance(),i=this.parsePrefix(),mc.createMinus(this.span(e),this.sourceSpan(e),i);case"!":return this.advance(),i=this.parsePrefix(),new qd(this.span(e),this.sourceSpan(e),i)}}else if(this.next.isKeywordTypeof()){this.advance();let e=this.inputIndex,t=this.parsePrefix();return new Hd(this.span(e),this.sourceSpan(e),t)}return this.parseCallChain()}parseCallChain(){let e=this.inputIndex,t=this.parsePrimary();for(;;)if(this.consumeOptionalCharacter(aa))t=this.parseAccessMember(t,e,!1);else if(this.consumeOptionalOperator("?."))this.consumeOptionalCharacter(Lr)?t=this.parseCall(t,e,!0):t=this.consumeOptionalCharacter(va)?this.parseKeyedReadOrWrite(t,e,!0):this.parseAccessMember(t,e,!0);else if(this.consumeOptionalCharacter(va))t=this.parseKeyedReadOrWrite(t,e,!1);else if(this.consumeOptionalCharacter(Lr))t=this.parseCall(t,e,!1);else if(this.consumeOptionalOperator("!"))t=new gc(this.span(e),this.sourceSpan(e),t);else return t}parsePrimary(){let e=this.inputIndex;if(this.consumeOptionalCharacter(Lr)){this.rparensExpected++;let t=this.parsePipe();return this.rparensExpected--,this.expectCharacter(Vi),t}else{if(this.next.isKeywordNull())return this.advance(),new gi(this.span(e),this.sourceSpan(e),null);if(this.next.isKeywordUndefined())return this.advance(),new gi(this.span(e),this.sourceSpan(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new gi(this.span(e),this.sourceSpan(e),!0);if(this.next.isKeywordFalse())return this.advance(),new gi(this.span(e),this.sourceSpan(e),!1);if(this.next.isKeywordThis())return this.advance(),new mo(this.span(e),this.sourceSpan(e));if(this.consumeOptionalCharacter(va)){this.rbracketsExpected++;let t=this.parseExpressionList(pa);return this.rbracketsExpected--,this.expectCharacter(pa),new $d(this.span(e),this.sourceSpan(e),t)}else{if(this.next.isCharacter(Bi))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMember(new Ei(this.span(e),this.sourceSpan(e)),e,!1);if(this.next.isNumber()){let t=this.next.toNumber();return this.advance(),new gi(this.span(e),this.sourceSpan(e),t)}else{if(this.next.isTemplateLiteralEnd())return this.parseNoInterpolationTemplateLiteral();if(this.next.isTemplateLiteralPart())return this.parseTemplateLiteral();if(this.next.isString()&&this.next.kind===ao.Plain){let t=this.next.toString();return this.advance(),new gi(this.span(e),this.sourceSpan(e),t)}else return this.next.isPrivateIdentifier()?(this._reportErrorForPrivateIdentifier(this.next,null),new jn(this.span(e),this.sourceSpan(e))):this.index>=this.tokens.length?(this.error(`Unexpected end of expression: ${this.input}`),new jn(this.span(e),this.sourceSpan(e))):(this.error(`Unexpected token ${this.next}`),new jn(this.span(e),this.sourceSpan(e)))}}}}parseExpressionList(e){let t=[];do if(!this.next.isCharacter(e))t.push(this.parsePipe());else break;while(this.consumeOptionalCharacter(wi));return t}parseLiteralMap(){let e=[],t=[],i=this.inputIndex;if(this.expectCharacter(Bi),!this.consumeOptionalCharacter(qn)){this.rbracesExpected++;do{let r=this.inputIndex,s=this.next.isString(),o=this.expectIdentifierOrKeywordOrString(),a={key:o,quoted:s};if(e.push(a),s)this.expectCharacter(us),t.push(this.parsePipe());else if(this.consumeOptionalCharacter(us))t.push(this.parsePipe());else{a.isShorthandInitialized=!0;let l=this.span(r),c=this.sourceSpan(r);t.push(new go(l,c,c,new Ei(l,c),o))}}while(this.consumeOptionalCharacter(wi)&&!this.next.isCharacter(qn));this.rbracesExpected--,this.expectCharacter(qn)}return new jd(this.span(i),this.sourceSpan(i),e,t)}parseAccessMember(e,t,i){let r=this.inputIndex,s=this.withContext(Yl.Writable,()=>{let l=this.expectIdentifierOrKeyword()??"";return l.length===0&&this.error("Expected identifier for property access",e.span.end),l}),o=this.sourceSpan(r),a;if(i)this.consumeOptionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),a=new jn(this.span(t),this.sourceSpan(t))):a=new Rd(this.span(t),this.sourceSpan(t),o,e,s);else if(this.consumeOptionalOperator("=")){if(!(this.parseFlags&1))return this.error("Bindings cannot contain assignments"),new jn(this.span(t),this.sourceSpan(t));let l=this.parseConditional();a=new Od(this.span(t),this.sourceSpan(t),o,e,s,l)}else a=new go(this.span(t),this.sourceSpan(t),o,e,s);return a}parseCall(e,t,i){let r=this.inputIndex;this.rparensExpected++;let s=this.parseCallArguments(),o=this.span(r,this.inputIndex).toAbsolute(this.absoluteOffset);this.expectCharacter(Vi),this.rparensExpected--;let a=this.span(t),l=this.sourceSpan(t);return i?new Ud(a,l,e,s,o):new vc(a,l,e,s,o)}parseCallArguments(){if(this.next.isCharacter(Vi))return[];let e=[];do e.push(this.parsePipe());while(this.consumeOptionalCharacter(wi));return e}expectTemplateBindingKey(){let e="",t=!1,i=this.currentAbsoluteOffset;do e+=this.expectIdentifierOrKeywordOrString(),t=this.consumeOptionalOperator("-"),t&&(e+="-");while(t);return{source:e,span:new ii(i,i+e.length)}}parseTemplateBindings(e){let t=[];for(t.push(...this.parseDirectiveKeywordBindings(e));this.index<this.tokens.length;){let i=this.parseLetBinding();if(i)t.push(i);else{let r=this.expectTemplateBindingKey(),s=this.parseAsBinding(r);s?t.push(s):(r.source=e.source+r.source.charAt(0).toUpperCase()+r.source.substring(1),t.push(...this.parseDirectiveKeywordBindings(r)))}this.consumeStatementTerminator()}return new H0(t,[],this.errors)}parseKeyedReadOrWrite(e,t,i){return this.withContext(Yl.Writable,()=>{this.rbracketsExpected++;let r=this.parsePipe();if(r instanceof jn&&this.error("Key access cannot be empty"),this.rbracketsExpected--,this.expectCharacter(pa),this.consumeOptionalOperator("="))if(i)this.error("The '?.' operator cannot be used in the assignment");else{let s=this.parseConditional();return new Bd(this.span(t),this.sourceSpan(t),e,r,s)}else return i?new Fd(this.span(t),this.sourceSpan(t),e,r):new fc(this.span(t),this.sourceSpan(t),e,r);return new jn(this.span(t),this.sourceSpan(t))})}parseDirectiveKeywordBindings(e){let t=[];this.consumeOptionalCharacter(us);let i=this.getDirectiveBoundTarget(),r=this.currentAbsoluteOffset,s=this.parseAsBinding(e);s||(this.consumeStatementTerminator(),r=this.currentAbsoluteOffset);let o=new ii(e.span.start,r);return t.push(new r0(o,e,i)),s&&t.push(s),t}getDirectiveBoundTarget(){if(this.next===dd||this.peekKeywordAs()||this.peekKeywordLet())return null;let e=this.parsePipe(),{start:t,end:i}=e.span,r=this.input.substring(t,i);return new xi(e,r,this.location,this.absoluteOffset+t,this.errors)}parseAsBinding(e){if(!this.peekKeywordAs())return null;this.advance();let t=this.expectTemplateBindingKey();this.consumeStatementTerminator();let i=new ii(e.span.start,this.currentAbsoluteOffset);return new bc(i,t,e)}parseLetBinding(){if(!this.peekKeywordLet())return null;let e=this.currentAbsoluteOffset;this.advance();let t=this.expectTemplateBindingKey(),i=null;this.consumeOptionalOperator("=")&&(i=this.expectTemplateBindingKey()),this.consumeStatementTerminator();let r=new ii(e,this.currentAbsoluteOffset);return new bc(r,t,i)}parseNoInterpolationTemplateLiteral(){let e=this.next.strValue,t=this.inputIndex;this.advance();let i=this.span(t),r=this.sourceSpan(t);return new xc(i,r,[new zd(i,r,e)],[])}parseTemplateLiteral(){let e=this.inputIndex,t=[],i=[];for(;this.next!==dd;){let r=this.next;if(r.isTemplateLiteralPart()||r.isTemplateLiteralEnd()){let s=this.inputIndex;if(this.advance(),t.push(new zd(this.span(s),this.sourceSpan(s),r.strValue)),r.isTemplateLiteralEnd())break}else if(r.isTemplateLiteralInterpolationStart()){this.advance();let s=this.parsePipe();s instanceof jn?this.error("Template literal interpolation cannot be empty"):i.push(s)}else this.advance()}return new xc(this.span(e),this.sourceSpan(e),t,i)}consumeStatementTerminator(){this.consumeOptionalCharacter(ti)||this.consumeOptionalCharacter(wi)}error(e,t=null){this.errors.push(new hc(e,this.input,this.locationText(t),this.location)),this.skip()}locationText(e=null){return e==null&&(e=this.index),e<this.tokens.length?`at column ${this.tokens[e].index+1} in`:"at the end of the expression"}_reportErrorForPrivateIdentifier(e,t){let i=`Private identifiers are not supported. Unexpected private identifier: ${e}`;t!==null&&(i+=`, ${t}`),this.error(i)}skip(){let e=this.next;for(;this.index<this.tokens.length&&!e.isCharacter(ti)&&!e.isOperator("|")&&(this.rparensExpected<=0||!e.isCharacter(Vi))&&(this.rbracesExpected<=0||!e.isCharacter(qn))&&(this.rbracketsExpected<=0||!e.isCharacter(pa))&&(!(this.context&Yl.Writable)||!e.isOperator("="));)this.next.isError()&&this.errors.push(new hc(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),e=this.next}},U0=class extends Wd{errors=[];visitPipe(){this.errors.push("pipes")}};function X3(n){let e=new Map,t=0,i=0,r=0;for(;r<n.length;){let s=n[r];if(s.type===9){let[o,a]=s.parts;t+=a.length,i+=o.length}else{let o=s.parts.reduce((a,l)=>a+l.length,0);i+=o,t+=o}e.set(i,t),r++}return e}function Z3(n){return n.visit(new z0)}var z0=class{visitUnary(e,t){return`${e.operator}${e.expr.visit(this,t)}`}visitBinary(e,t){return`${e.left.visit(this,t)} ${e.operation} ${e.right.visit(this,t)}`}visitChain(e,t){return e.expressions.map(i=>i.visit(this,t)).join("; ")}visitConditional(e,t){return`${e.condition.visit(this,t)} ? ${e.trueExp.visit(this,t)} : ${e.falseExp.visit(this,t)}`}visitThisReceiver(){return"this"}visitImplicitReceiver(){return""}visitInterpolation(e,t){return J3(e.strings,e.expressions.map(i=>i.visit(this,t))).join("")}visitKeyedRead(e,t){return`${e.receiver.visit(this,t)}[${e.key.visit(this,t)}]`}visitKeyedWrite(e,t){return`${e.receiver.visit(this,t)}[${e.key.visit(this,t)}] = ${e.value.visit(this,t)}`}visitLiteralArray(e,t){return`[${e.expressions.map(i=>i.visit(this,t)).join(", ")}]`}visitLiteralMap(e,t){return`{${K3(e.keys.map(i=>i.quoted?`'${i.key}'`:i.key),e.values.map(i=>i.visit(this,t))).map(([i,r])=>`${i}: ${r}`).join(", ")}}`}visitLiteralPrimitive(e){if(e.value===null)return"null";switch(typeof e.value){case"number":case"boolean":return e.value.toString();case"undefined":return"undefined";case"string":return`'${e.value.replace(/'/g,"\\'")}'`;default:throw new Error(`Unsupported primitive type: ${e.value}`)}}visitPipe(e,t){return`${e.exp.visit(this,t)} | ${e.name}`}visitPrefixNot(e,t){return`!${e.expression.visit(this,t)}`}visitNonNullAssert(e,t){return`${e.expression.visit(this,t)}!`}visitPropertyRead(e,t){return e.receiver instanceof Ei?e.name:`${e.receiver.visit(this,t)}.${e.name}`}visitPropertyWrite(e,t){return e.receiver instanceof Ei?`${e.name} = ${e.value.visit(this,t)}`:`${e.receiver.visit(this,t)}.${e.name} = ${e.value.visit(this,t)}`}visitSafePropertyRead(e,t){return`${e.receiver.visit(this,t)}?.${e.name}`}visitSafeKeyedRead(e,t){return`${e.receiver.visit(this,t)}?.[${e.key.visit(this,t)}]`}visitCall(e,t){return`${e.receiver.visit(this,t)}(${e.args.map(i=>i.visit(this,t)).join(", ")})`}visitSafeCall(e,t){return`${e.receiver.visit(this,t)}?.(${e.args.map(i=>i.visit(this,t)).join(", ")})`}visitTypeofExpression(e,t){return`typeof ${e.expression.visit(this,t)}`}visitASTWithSource(e,t){return e.ast.visit(this,t)}visitTemplateLiteral(e,t){let i="";for(let r=0;r<e.elements.length;r++){i+=e.elements[r].visit(this,t);let s=r<e.expressions.length?e.expressions[r]:null;s!==null&&(i+="${"+s.visit(this,t)+"}")}return"`"+i+"`"}visitTemplateLiteralElement(e,t){return e.text}};function K3(n,e){if(n.length!==e.length)throw new Error("Array lengths must match");return n.map((t,i)=>[t,e[i]])}function J3(n,e){let t=[];for(let i=0;i<Math.max(n.length,e.length);i++)i<n.length&&t.push(n[i]),i<e.length&&t.push(e[i]);return t}var bd;function cy(){return bd||(bd={},pd(ft.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),pd(ft.STYLE,["*|style"]),pd(ft.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","input|src","ins|cite","q|cite","source|src","track|src","video|poster","video|src"]),pd(ft.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),bd}function pd(n,e){for(let t of e)bd[t.toLowerCase()]=n}var eM=new Set(["sandbox","allow","allowfullscreen","referrerpolicy","csp","fetchpriority"]);function tM(n){return eM.has(n.toLowerCase())}var W0=class{},nM="boolean",iM="number",rM="string",sM="object",oM=["[Element]|textContent,%ariaAtomic,%ariaAutoComplete,%ariaBusy,%ariaChecked,%ariaColCount,%ariaColIndex,%ariaColSpan,%ariaCurrent,%ariaDescription,%ariaDisabled,%ariaExpanded,%ariaHasPopup,%ariaHidden,%ariaKeyShortcuts,%ariaLabel,%ariaLevel,%ariaLive,%ariaModal,%ariaMultiLine,%ariaMultiSelectable,%ariaOrientation,%ariaPlaceholder,%ariaPosInSet,%ariaPressed,%ariaReadOnly,%ariaRelevant,%ariaRequired,%ariaRoleDescription,%ariaRowCount,%ariaRowIndex,%ariaRowSpan,%ariaSelected,%ariaSetSize,%ariaSort,%ariaValueMax,%ariaValueMin,%ariaValueNow,%ariaValueText,%classList,className,elementTiming,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*fullscreenchange,*fullscreenerror,*search,*webkitfullscreenchange,*webkitfullscreenerror,outerHTML,%part,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,!inert,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","abbr,address,article,aside,b,bdi,bdo,cite,content,code,dd,dfn,dt,em,figcaption,figure,footer,header,hgroup,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,search,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,!preservesPitch,src,%srcObject,#volume",":svg:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","data^[HTMLElement]|value","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,allow,!allowFullscreen,!allowPaymentRequest,csp,frameBorder,height,loading,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,decoding,#height,#hspace,!isMap,loading,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocomplete,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,imageSizes,imageSrcset,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,media,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,!noModule,%referrerPolicy,src,text,type","select^[HTMLElement]|autocomplete,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","slot^[HTMLElement]|name","source^[HTMLElement]|#height,media,sizes,src,srcset,type,#width","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","search^[HTMLELement]|","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocomplete,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","time^[HTMLElement]|dateTime","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|!disablePictureInPicture,#height,*enterpictureinpicture,*leavepictureinpicture,!playsInline,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|decoding",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|",":math:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforeinput,*beforematch,*beforetoggle,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contentvisibilityautostatechange,*contextlost,*contextmenu,*contextrestored,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*scrollend,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":math:math^:math:|",":math:maction^:math:|",":math:menclose^:math:|",":math:merror^:math:|",":math:mfenced^:math:|",":math:mfrac^:math:|",":math:mi^:math:|",":math:mmultiscripts^:math:|",":math:mn^:math:|",":math:mo^:math:|",":math:mover^:math:|",":math:mpadded^:math:|",":math:mphantom^:math:|",":math:mroot^:math:|",":math:mrow^:math:|",":math:ms^:math:|",":math:mspace^:math:|",":math:msqrt^:math:|",":math:mstyle^:math:|",":math:msub^:math:|",":math:msubsup^:math:|",":math:msup^:math:|",":math:mtable^:math:|",":math:mtd^:math:|",":math:mtext^:math:|",":math:mtr^:math:|",":math:munder^:math:|",":math:munderover^:math:|",":math:semantics^:math:|"],W2=new Map(Object.entries({class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"})),aM=Array.from(W2).reduce((n,[e,t])=>(n.set(e,t),n),new Map),Fa=class extends W0{_schema=new Map;_eventSchema=new Map;constructor(){super(),oM.forEach(e=>{let t=new Map,i=new Set,[r,s]=e.split("|"),o=s.split(","),[a,l]=r.split("^");a.split(",").forEach(u=>{this._schema.set(u.toLowerCase(),t),this._eventSchema.set(u.toLowerCase(),i)});let c=l&&this._schema.get(l.toLowerCase());if(c){for(let[u,f]of c)t.set(u,f);for(let u of this._eventSchema.get(l.toLowerCase()))i.add(u)}o.forEach(u=>{if(u.length>0)switch(u[0]){case"*":i.add(u.substring(1));break;case"!":t.set(u.substring(1),nM);break;case"#":t.set(u.substring(1),iM);break;case"%":t.set(u.substring(1),sM);break;default:t.set(u,rM)}})})}hasProperty(e,t,i){if(i.some(s=>s.name===xb.name))return!0;if(e.indexOf("-")>-1){if(Pb(e)||o0(e))return!1;if(i.some(s=>s.name===vb.name))return!0}return(this._schema.get(e.toLowerCase())||this._schema.get("unknown")).has(t)}hasElement(e,t){return t.some(i=>i.name===xb.name)||e.indexOf("-")>-1&&(Pb(e)||o0(e)||t.some(i=>i.name===vb.name))?!0:this._schema.has(e.toLowerCase())}securityContext(e,t,i){i&&(t=this.getMappedPropName(t)),e=e.toLowerCase(),t=t.toLowerCase();let r=cy()[e+"|"+t];return r||(r=cy()["*|"+t],r||ft.NONE)}getMappedPropName(e){return W2.get(e)??e}getDefaultComponentElementName(){return"ng-component"}validateProperty(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event property '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...
If '${e}' is a directive input, make sure the directive is imported by the current module.`}:{error:!1}}validateAttribute(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event attribute '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...`}:{error:!1}}allKnownElementNames(){return Array.from(this._schema.keys())}allKnownAttributesOfElement(e){let t=this._schema.get(e.toLowerCase())||this._schema.get("unknown");return Array.from(t.keys()).map(i=>aM.get(i)??i)}allKnownEventsOfElement(e){return Array.from(this._eventSchema.get(e.toLowerCase())??[])}normalizeAnimationStyleProperty(e){return lT(e)}normalizeAnimationStyleValue(e,t,i){let r="",s=i.toString().trim(),o=null;if(lM(e)&&i!==0&&i!=="0")if(typeof i=="number")r="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&(o=`Please provide a CSS unit value for ${t}:${i}`)}return{error:o,value:s+r}}};function lM(n){switch(n){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}var Ae=class{closedByChildren={};contentType;closedByParent=!1;implicitNamespacePrefix;isVoid;ignoreFirstLf;canSelfClose;preventNamespaceInheritance;constructor({closedByChildren:e,implicitNamespacePrefix:t,contentType:i=nr.PARSABLE_DATA,closedByParent:r=!1,isVoid:s=!1,ignoreFirstLf:o=!1,preventNamespaceInheritance:a=!1,canSelfClose:l=!1}={}){e&&e.length>0&&e.forEach(c=>this.closedByChildren[c]=!0),this.isVoid=s,this.closedByParent=r||s,this.implicitNamespacePrefix=t||null,this.contentType=i,this.ignoreFirstLf=o,this.preventNamespaceInheritance=a,this.canSelfClose=l??s}isClosedByChild(e){return this.isVoid||e.toLowerCase()in this.closedByChildren}getContentType(e){return typeof this.contentType=="object"?(e===void 0?void 0:this.contentType[e])??this.contentType.default:this.contentType}},uy,sa;function Q2(n){return sa||(uy=new Ae({canSelfClose:!0}),sa=Object.assign(Object.create(null),{base:new Ae({isVoid:!0}),meta:new Ae({isVoid:!0}),area:new Ae({isVoid:!0}),embed:new Ae({isVoid:!0}),link:new Ae({isVoid:!0}),img:new Ae({isVoid:!0}),input:new Ae({isVoid:!0}),param:new Ae({isVoid:!0}),hr:new Ae({isVoid:!0}),br:new Ae({isVoid:!0}),source:new Ae({isVoid:!0}),track:new Ae({isVoid:!0}),wbr:new Ae({isVoid:!0}),p:new Ae({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new Ae({closedByChildren:["tbody","tfoot"]}),tbody:new Ae({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new Ae({closedByChildren:["tbody"],closedByParent:!0}),tr:new Ae({closedByChildren:["tr"],closedByParent:!0}),td:new Ae({closedByChildren:["td","th"],closedByParent:!0}),th:new Ae({closedByChildren:["td","th"],closedByParent:!0}),col:new Ae({isVoid:!0}),svg:new Ae({implicitNamespacePrefix:"svg"}),foreignObject:new Ae({implicitNamespacePrefix:"svg",preventNamespaceInheritance:!0}),math:new Ae({implicitNamespacePrefix:"math"}),li:new Ae({closedByChildren:["li"],closedByParent:!0}),dt:new Ae({closedByChildren:["dt","dd"]}),dd:new Ae({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new Ae({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new Ae({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new Ae({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new Ae({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new Ae({closedByChildren:["optgroup"],closedByParent:!0}),option:new Ae({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new Ae({ignoreFirstLf:!0}),listing:new Ae({ignoreFirstLf:!0}),style:new Ae({contentType:nr.RAW_TEXT}),script:new Ae({contentType:nr.RAW_TEXT}),title:new Ae({contentType:{default:nr.ESCAPABLE_RAW_TEXT,svg:nr.PARSABLE_DATA}}),textarea:new Ae({contentType:nr.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),new Fa().allKnownElementNames().forEach(e=>{!sa[e]&&a0(e)===null&&(sa[e]=new Ae({canSelfClose:!1}))})),sa[n]??sa[n.toLowerCase()]??uy}var dy={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},Q0=class{_placeHolderNameCounts={};_signatureToName={};getStartTagPlaceholderName(e,t,i){let r=this._hashTag(e,t,i);if(this._signatureToName[r])return this._signatureToName[r];let s=e.toUpperCase(),o=dy[s]||`TAG_${s}`,a=this._generateUniqueName(i?o:`START_${o}`);return this._signatureToName[r]=a,a}getCloseTagPlaceholderName(e){let t=this._hashClosingTag(e);if(this._signatureToName[t])return this._signatureToName[t];let i=e.toUpperCase(),r=dy[i]||`TAG_${i}`,s=this._generateUniqueName(`CLOSE_${r}`);return this._signatureToName[t]=s,s}getPlaceholderName(e,t){let i=e.toUpperCase(),r=`PH: ${i}=${t}`;if(this._signatureToName[r])return this._signatureToName[r];let s=this._generateUniqueName(i);return this._signatureToName[r]=s,s}getUniquePlaceholder(e){return this._generateUniqueName(e.toUpperCase())}getStartBlockPlaceholderName(e,t){let i=this._hashBlock(e,t);if(this._signatureToName[i])return this._signatureToName[i];let r=this._generateUniqueName(`START_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[i]=r,r}getCloseBlockPlaceholderName(e){let t=this._hashClosingBlock(e);if(this._signatureToName[t])return this._signatureToName[t];let i=this._generateUniqueName(`CLOSE_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[t]=i,i}_hashTag(e,t,i){let r=`<${e}`,s=Object.keys(t).sort().map(a=>` ${a}=${t[a]}`).join(""),o=i?"/>":`></${e}>`;return r+s+o}_hashClosingTag(e){return this._hashTag(`/${e}`,{},!1)}_hashBlock(e,t){let i=t.length===0?"":` (${t.sort().join("; ")})`;return`@${e}${i} {}`}_hashClosingBlock(e){return this._hashBlock(`close_${e}`,[])}_toSnakeCase(e){return e.toUpperCase().replace(/[^A-Z0-9]/g,"_")}_generateUniqueName(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;let i=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=i+1,`${e}_${i}`}},cM=new kp(new Hc);function uM(n,e,t,i){let r=new G0(cM,n,e,t,i);return(s,o,a,l,c)=>r.toI18nMessage(s,o,a,l,c)}function dM(n,e){return e}var G0=class{_expressionParser;_interpolationConfig;_containerBlocks;_retainEmptyTokens;_preserveExpressionWhitespace;constructor(e,t,i,r,s){this._expressionParser=e,this._interpolationConfig=t,this._containerBlocks=i,this._retainEmptyTokens=r,this._preserveExpressionWhitespace=s}toI18nMessage(e,t="",i="",r="",s){let o={isIcu:e.length==1&&e[0]instanceof oo,icuDepth:0,placeholderRegistry:new Q0,placeholderToContent:{},placeholderToMessage:{},visitNodeFn:s||dM},a=Lt(this,e,o);return new Mn(a,o.placeholderToContent,o.placeholderToMessage,t,i,r)}visitElement(e,t){let i=Lt(this,e.children,t),r={};e.attrs.forEach(c=>{r[c.name]=c.value});let s=Q2(e.name).isVoid,o=t.placeholderRegistry.getStartTagPlaceholderName(e.name,r,s);t.placeholderToContent[o]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan};let a="";s||(a=t.placeholderRegistry.getCloseTagPlaceholderName(e.name),t.placeholderToContent[a]={text:`</${e.name}>`,sourceSpan:e.endSourceSpan??e.sourceSpan});let l=new vs(e.name,r,o,a,i,s,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return t.visitNodeFn(e,l)}visitAttribute(e,t){let i=e.valueTokens===void 0||e.valueTokens.length===1?new jl(e.value,e.valueSpan||e.sourceSpan):this._visitTextWithInterpolation(e.valueTokens,e.valueSpan||e.sourceSpan,t,e.i18n);return t.visitNodeFn(e,i)}visitText(e,t){let i=e.tokens.length===1?new jl(e.value,e.sourceSpan):this._visitTextWithInterpolation(e.tokens,e.sourceSpan,t,e.i18n);return t.visitNodeFn(e,i)}visitComment(e,t){return null}visitExpansion(e,t){t.icuDepth++;let i={},r=new tp(e.switchValue,e.type,i,e.sourceSpan);if(e.cases.forEach(a=>{i[a.value]=new Nr(a.expression.map(l=>l.visit(this,t)),a.expSourceSpan)}),t.icuDepth--,t.isIcu||t.icuDepth>0){let a=t.placeholderRegistry.getUniquePlaceholder(`VAR_${e.type}`);return r.expressionPlaceholder=a,t.placeholderToContent[a]={text:e.switchValue,sourceSpan:e.switchValueSourceSpan},t.visitNodeFn(e,r)}let s=t.placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString());t.placeholderToMessage[s]=this.toI18nMessage([e],"","","",void 0);let o=new Ma(r,s,e.sourceSpan);return t.visitNodeFn(e,o)}visitExpansionCase(e,t){throw new Error("Unreachable code")}visitBlock(e,t){let i=Lt(this,e.children,t);if(this._containerBlocks.has(e.name))return new Nr(i,e.sourceSpan);let r=e.parameters.map(l=>l.expression),s=t.placeholderRegistry.getStartBlockPlaceholderName(e.name,r),o=t.placeholderRegistry.getCloseBlockPlaceholderName(e.name);t.placeholderToContent[s]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan},t.placeholderToContent[o]={text:e.endSourceSpan?e.endSourceSpan.toString():"}",sourceSpan:e.endSourceSpan??e.sourceSpan};let a=new xs(e.name,r,s,o,i,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return t.visitNodeFn(e,a)}visitBlockParameter(e,t){throw new Error("Unreachable code")}visitLetDeclaration(e,t){return null}_visitTextWithInterpolation(e,t,i,r){let s=[],o=!1;for(let a of e)switch(a.type){case 8:case 17:o=!0;let[l,c,u]=a.parts,f=gM(c)||"INTERPOLATION",m=i.placeholderRegistry.getPlaceholderName(f,c);if(this._preserveExpressionWhitespace)i.placeholderToContent[m]={text:a.parts.join(""),sourceSpan:a.sourceSpan},s.push(new kc(c,m,a.sourceSpan));else{let v=this.normalizeExpression(a);i.placeholderToContent[m]={text:`${l}${v}${u}`,sourceSpan:a.sourceSpan},s.push(new kc(v,m,a.sourceSpan))}break;default:if(a.parts[0].length>0||this._retainEmptyTokens){let v=s[s.length-1];v instanceof jl?(v.value+=a.parts[0],v.sourceSpan=new we(v.sourceSpan.start,a.sourceSpan.end,v.sourceSpan.fullStart,v.sourceSpan.details)):s.push(new jl(a.parts[0],a.sourceSpan))}else this._retainEmptyTokens&&s.push(new jl(a.parts[0],a.sourceSpan));break}return o?(pM(s,r),new Nr(s,t)):s[0]}normalizeExpression(e){let t=e.parts[1],i=this._expressionParser.parseBinding(t,e.sourceSpan.start.toString(),e.sourceSpan.start.offset,this._interpolationConfig);return Z3(i)}};function pM(n,e){if(e instanceof Mn&&(hM(e),e=e.nodes[0]),e instanceof Nr){fM(e.children,n);for(let t=0;t<n.length;t++)n[t].sourceSpan=e.children[t].sourceSpan}}function hM(n){let e=n.nodes;if(e.length!==1||!(e[0]instanceof Nr))throw new Error("Unexpected previous i18n message - expected it to consist of only a single `Container` node.")}function fM(n,e){if(n.length!==e.length)throw new Error(`
The number of i18n message children changed between first and second pass.

First pass (${n.length} tokens):
${n.map(t=>`"${t.sourceSpan.toString()}"`).join(`
`)}

Second pass (${e.length} tokens):
${e.map(t=>`"${t.sourceSpan.toString()}"`).join(`
`)}
    `.trim());if(n.some((t,i)=>e[i].constructor!==t.constructor))throw new Error("The types of the i18n message children changed between first and second pass.")}var mM=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;function gM(n){return n.split(mM)[2]}var Y0=class extends be{constructor(e,t){super(e,t)}},py=new Set(["iframe|srcdoc","*|innerhtml","*|outerhtml","embed|src","object|codebase","object|data"]);function vM(n,e){return n=n.toLowerCase(),e=e.toLowerCase(),py.has(n+"|"+e)||py.has("*|"+e)}var xM=n=>(e,t)=>{let i=n.get(e)??e;return i instanceof _s&&(t instanceof Ma&&i.i18n instanceof Mn&&(t.previousMessage=i.i18n),i.i18n=t),t},Tp=class{interpolationConfig;keepI18nAttrs;enableI18nLegacyMessageIdFormat;containerBlocks;preserveSignificantWhitespace;retainEmptyTokens;hasI18nMeta=!1;_errors=[];constructor(e=ir,t=!1,i=!1,r=qT,s=!0,o=!s){this.interpolationConfig=e,this.keepI18nAttrs=t,this.enableI18nLegacyMessageIdFormat=i,this.containerBlocks=r,this.preserveSignificantWhitespace=s,this.retainEmptyTokens=o}_generateI18nMessage(e,t="",i){let{meaning:r,description:s,customId:o}=this._parseMetadata(t),l=uM(this.interpolationConfig,this.containerBlocks,this.retainEmptyTokens,this.preserveSignificantWhitespace)(e,r,s,o,i);return this._setMessageId(l,t),this._setLegacyIds(l,t),l}visitAllWithErrors(e){let t=e.map(i=>i.visit(this,null));return new Ep(t,this._errors)}visitElement(e){let t;if(OT(e)){this.hasI18nMeta=!0;let i=[],r={};for(let s of e.attrs)if(s.name===s2){let o=e.i18n||s.value,a=new Map,l=this.preserveSignificantWhitespace?e.children:ca(new Cp(!1,a),e.children);t=this._generateI18nMessage(l,o,xM(a)),t.nodes.length===0&&(t=void 0),e.i18n=t}else if(s.name.startsWith(v0)){let o=s.name.slice(v0.length);vM(e.name,o)?this._reportError(s,`Translating attribute '${o}' is disallowed for security reasons.`):r[o]=s.value}else i.push(s);if(Object.keys(r).length)for(let s of i){let o=r[s.name];o!==void 0&&s.value&&(s.i18n=this._generateI18nMessage([s],s.i18n||o))}this.keepI18nAttrs||(e.attrs=i)}return Lt(this,e.children,t),e}visitExpansion(e,t){let i,r=e.i18n;if(this.hasI18nMeta=!0,r instanceof Ma){let s=r.name;i=this._generateI18nMessage([e],r);let o=a2(i);o.name=s,t!==null&&(t.placeholderToMessage[s]=i)}else i=this._generateI18nMessage([e],t||r);return e.i18n=i,e}visitText(e){return e}visitAttribute(e){return e}visitComment(e){return e}visitExpansionCase(e){return e}visitBlock(e,t){return Lt(this,e.children,t),e}visitBlockParameter(e,t){return e}visitLetDeclaration(e,t){return e}_parseMetadata(e){return typeof e=="string"?_M(e):e instanceof Mn?e:{}}_setMessageId(e,t){e.id||(e.id=t instanceof Mn&&t.id||Fk(e))}_setLegacyIds(e,t){if(this.enableI18nLegacyMessageIdFormat)e.legacyIds=[Rk(e),Zy(e)];else if(typeof t!="string"){let i=t instanceof Mn?t:t instanceof Ma?t.previousMessage:void 0;e.legacyIds=i?i.legacyIds:[]}}_reportError(e,t){this._errors.push(new Y0(e.sourceSpan,t))}},bM="|",yM="@@";function _M(n=""){let e,t,i;if(n=n.trim(),n){let r=n.indexOf(yM),s=n.indexOf(bM),o;[o,e]=r>-1?[n.slice(0,r),n.slice(r+2)]:[n,""],[t,i]=s>-1?[o.slice(0,s),o.slice(s+1)]:["",o]}return{customId:e,meaning:t,description:i}}function wM(n){let e=[];return n.description?e.push({tagName:"desc",text:n.description}):e.push({tagName:"suppress",text:"{msgDescriptions}"}),n.meaning&&e.push({tagName:"meaning",text:n.meaning}),Kk(e)}var SM="goog.getMsg";function EM(n,e,t,i){let r=kM(e),s=[R(r)];Object.keys(i).length&&(s.push(N0(Cg(i,!0),!0)),s.push(N0({original_code:Pn(Object.keys(i).map(l=>({key:Xc(l),quoted:!0,value:e.placeholders[l]?R(e.placeholders[l].sourceSpan.toString()):R(e.placeholderToMessage[l].nodes.map(c=>c.sourceSpan.toString()).join(""))})))})));let o=t.set(Ie(SM).callFn(s)).toConstDecl();o.addLeadingComment(wM(e));let a=new Ti(n.set(t));return[o,a]}var X0=class{formatPh(e){return`{$${Xc(e)}}`}visitText(e){return e.value}visitContainer(e){return e.children.map(t=>t.visit(this)).join("")}visitIcu(e){return V2(e)}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(t=>t.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(t=>t.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,t){return this.formatPh(e.name)}},CM=new X0;function kM(n){return n.nodes.map(e=>e.visit(CM,null)).join("")}function TM(n,e,t){let{messageParts:i,placeHolders:r}=AM(e),s=IM(e),o=r.map(c=>t[c.text]),a=tT(e,i,r,o,s),l=n.set(a);return[new Ti(l)]}var Z0=class{placeholderToMessage;pieces;constructor(e,t){this.placeholderToMessage=e,this.pieces=t}visitText(e){if(this.pieces[this.pieces.length-1]instanceof io)this.pieces[this.pieces.length-1].text+=e.value;else{let t=new we(e.sourceSpan.fullStart,e.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details);this.pieces.push(new io(e.value,t))}}visitContainer(e){e.children.forEach(t=>t.visit(this))}visitIcu(e){this.pieces.push(new io(V2(e),e.sourceSpan))}visitTagPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.isVoid||(e.children.forEach(t=>t.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan)))}visitPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan))}visitBlockPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.children.forEach(t=>t.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan))}visitIcuPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan,this.placeholderToMessage[e.name]))}createPlaceholderPiece(e,t,i){return new ma(Xc(e,!1),t,i)}};function AM(n){let e=[],t=new Z0(n.placeholderToMessage,e);return n.nodes.forEach(i=>i.visit(t)),MM(e)}function IM(n){let e=n.nodes[0],t=n.nodes[n.nodes.length-1];return new we(e.sourceSpan.fullStart,t.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details)}function MM(n){let e=[],t=[];n[0]instanceof ma&&e.push(Om(n[0].sourceSpan.start));for(let i=0;i<n.length;i++){let r=n[i];r instanceof io?e.push(r):(t.push(r),n[i-1]instanceof ma&&e.push(Om(n[i-1].sourceSpan.end)))}return n[n.length-1]instanceof ma&&e.push(Om(n[n.length-1].sourceSpan.end)),{messageParts:e,placeHolders:t}}function Om(n){return new io("",new we(n,n))}var hy="ngI18nClosureMode",PM="i18n_",DM="I18N_EXP_",fy="\uFFFD",NM="MSG_";function my(n){return`${NM}${n}`.toUpperCase()}function LM(n){return new kn(n.name,void 0,_i,void 0,n.sourceSpan)}function OM(n){let e=n.relativeContextFilePath.replace(/[^A-Za-z0-9]/g,"_").toUpperCase()+"_",t=new Map,i=new Map,r=new Map,s=new Map;for(let l of n.units)for(let c of l.ops())if(c.kind===x.ExtractedAttribute&&c.i18nContext!==null){let u=t.get(c.i18nContext)??[];u.push(c),t.set(c.i18nContext,u)}else if(c.kind===x.I18nAttributes)i.set(c.target,c);else if(c.kind===x.I18nExpression&&c.usage===$a.I18nAttribute){let u=r.get(c.target)??[];u.push(c),r.set(c.target,u)}else c.kind===x.I18nMessage&&s.set(c.xref,c);let o=new Map,a=new Map;for(let l of n.units)for(let c of l.create)if(c.kind===x.I18nMessage){if(c.messagePlaceholder===null){let{mainVar:u,statements:f}=G2(n,e,s,c);if(c.i18nBlock!==null){let m=n.addConst(u,f);a.set(c.i18nBlock,m)}else{n.constsInitializers.push(...f),o.set(c.i18nContext,u);let m=t.get(c.i18nContext);if(m!==void 0)for(let v of m)v.expression=u.clone()}}q.remove(c)}for(let l of n.units)for(let c of l.create)if(ys(c)){let u=i.get(c.xref);if(u===void 0)continue;let f=r.get(c.xref);if(f===void 0)throw new Error("AssertionError: Could not find any i18n expressions associated with an I18nAttributes instruction");let m=new Set;f=f.filter(b=>{let w=m.has(b.name);return m.add(b.name),!w});let v=f.flatMap(b=>{let w=o.get(b.context);if(w===void 0)throw new Error("AssertionError: Could not find i18n expression's value");return[R(b.name),w]});u.i18nAttributesConfig=n.addConst(new $i(v))}for(let l of n.units)for(let c of l.create)if(c.kind===x.I18nStart){let u=a.get(c.root);if(u===void 0)throw new Error("AssertionError: Could not find corresponding i18n block index for an i18n message op; was an i18n message incorrectly assumed to correspond to an attribute?");c.messageIndex=u}}function G2(n,e,t,i){let r=[],s=new Map;for(let c of i.subMessages){let u=t.get(c),{mainVar:f,statements:m}=G2(n,e,t,u);r.push(...m);let v=s.get(u.messagePlaceholder)??[];v.push(f),s.set(u.messagePlaceholder,v)}RM(i,s),i.params=new Map([...i.params.entries()].sort());let o=Ie(n.pool.uniqueName(PM)),a=VM(n.pool,i.message.id,e,n.i18nUseExternalIds),l;if(i.needsPostprocessing||i.postprocessingParams.size>0){let c=Object.fromEntries([...i.postprocessingParams.entries()].sort()),u=Cg(c,!1),f=[];i.postprocessingParams.size>0&&f.push(N0(u,!0)),l=m=>ce(C.i18nPostprocess).callFn([m,...f])}return r.push(...FM(i.message,o,a,i.params,l)),{mainVar:o,statements:r}}function RM(n,e){for(let[t,i]of e)i.length===1?n.params.set(t,i[0]):(n.params.set(t,R(`${fy}${DM}${t}${fy}`)),n.postprocessingParams.set(t,We(i)))}function FM(n,e,t,i,r){let s=Object.fromEntries(i),o=[LM(e),Fp(BM(),EM(e,n,t,s),TM(e,n,Cg(s,!1)))];return r&&o.push(new Ti(e.set(r(e)))),o}function BM(){return Gc(Ie(hy)).notIdentical(R("undefined",wg)).and(Ie(hy))}function VM(n,e,t,i){let r,s=t;if(i){let o=my("EXTERNAL_"),a=n.uniqueName(s);r=`${o}${ec(e)}$$${a}`}else{let o=my(s);r=n.uniqueName(o)}return Ie(r)}function $M(n){for(let e of n.units){let t=null,i=null,r=new Map,s=new Map,o=new Map;for(let a of e.create)switch(a.kind){case x.I18nStart:if(a.context===null)throw Error("I18n op should have its context set.");t=a;break;case x.I18nEnd:t=null;break;case x.IcuStart:if(a.context===null)throw Error("Icu op should have its context set.");i=a;break;case x.IcuEnd:i=null;break;case x.Text:if(t!==null)if(r.set(a.xref,t),s.set(a.xref,i),a.icuPlaceholder!==null){let l=fI(n.allocateXrefId(),a.icuPlaceholder,[a.initialValue]);q.replace(a,l),o.set(a.xref,l)}else q.remove(a);break}for(let a of e.update)switch(a.kind){case x.InterpolateText:if(!r.has(a.target))continue;let l=r.get(a.target),c=s.get(a.target),u=o.get(a.target),f=c?c.context:l.context,m=c?Lc.Postproccessing:Lc.Creation,v=[];for(let b=0;b<a.interpolation.expressions.length;b++){let w=a.interpolation.expressions[b];v.push(M2(f,l.xref,l.xref,l.handle,w,u?.xref??null,a.interpolation.i18nPlaceholders[b]??null,m,$a.I18nText,"",w.sourceSpan??a.sourceSpan))}q.replaceWithMany(a,v),u!==void 0&&(u.strings=a.interpolation.strings);break}}}function jM(n){for(let e of n.units)for(let t of e.create)switch(t.kind){case x.ElementStart:case x.Template:if(!Array.isArray(t.localRefs))throw new Error("AssertionError: expected localRefs to be an array still");if(t.numSlotsUsed+=t.localRefs.length,t.localRefs.length>0){let i=qM(t.localRefs);t.localRefs=n.addConst(i)}else t.localRefs=null;break}}function qM(n){let e=[];for(let t of n)e.push(R(t.name),R(t.target));return We(e)}function HM(n){for(let e of n.units){let t=En.HTML;for(let i of e.create)i.kind===x.ElementStart&&i.namespace!==t&&(q.insertBefore(oI(i.namespace),i),t=i.namespace)}}function UM(n){let e=[],t=0,i=0,r=0,s=0,o=0,a=null;for(;t<n.length;)switch(n.charCodeAt(t++)){case 40:i++;break;case 41:i--;break;case 39:r===0?r=39:r===39&&n.charCodeAt(t-1)!==92&&(r=0);break;case 34:r===0?r=34:r===34&&n.charCodeAt(t-1)!==92&&(r=0);break;case 58:!a&&i===0&&r===0&&(a=Y2(n.substring(o,t-1).trim()),s=t);break;case 59:if(a&&s>0&&i===0&&r===0){let c=n.substring(s,t-1).trim();e.push(a,c),o=t,s=0,a=null}break}if(a&&s){let l=n.slice(s).trim();e.push(a,l)}return e}function Y2(n){return n.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function zM(n){let e=new Map;for(let t of n.units)for(let i of t.create)ys(i)&&e.set(i.xref,i);for(let t of n.units)for(let i of t.create)if(i.kind===x.ExtractedAttribute&&i.bindingKind===le.Attribute&&P2(i.expression)){let r=e.get(i.target);if(r!==void 0&&r.kind===x.Template&&r.templateKind===si.Structural)continue;if(i.name==="style"){let s=UM(i.expression.value);for(let o=0;o<s.length-1;o+=2)q.insertBefore(yi(i.target,le.StyleProperty,null,s[o],R(s[o+1]),null,null,ft.STYLE),i);q.remove(i)}else if(i.name==="class"){let s=i.expression.value.trim().split(/\s+/g);for(let o of s)q.insertBefore(yi(i.target,le.ClassName,null,o,null,null,null,ft.NONE),i);q.remove(i)}}}function WM(n){Xl(n.root,n.componentName,{index:0},n.compatibility===li.TemplateDefinitionBuilder)}function Xl(n,e,t,i){n.fnName===null&&(n.fnName=n.job.pool.uniqueName(ec(`${e}_${n.job.fnSuffix}`),!1));let r=new Map;for(let s of n.ops())switch(s.kind){case x.Property:case x.HostProperty:s.isAnimationTrigger&&(s.name="@"+s.name);break;case x.Listener:if(s.handlerFnName!==null)break;if(!s.hostListener&&s.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");let o="";s.isAnimationListener&&(s.name=`@${s.name}.${s.animationPhase}`,o="animation"),s.hostListener?s.handlerFnName=`${e}_${o}${s.name}_HostBindingHandler`:s.handlerFnName=`${n.fnName}_${s.tag.replace("-","_")}_${o}${s.name}_${s.targetSlot.slot}_listener`,s.handlerFnName=ec(s.handlerFnName);break;case x.TwoWayListener:if(s.handlerFnName!==null)break;if(s.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");s.handlerFnName=ec(`${n.fnName}_${s.tag.replace("-","_")}_${s.name}_${s.targetSlot.slot}_listener`);break;case x.Variable:r.set(s.xref,QM(n,s.variable,t));break;case x.RepeaterCreate:if(!(n instanceof rr))throw new Error("AssertionError: must be compiling a component");if(s.handle.slot===null)throw new Error("Expected slot to be assigned");if(s.emptyView!==null){let c=n.job.views.get(s.emptyView);Xl(c,`${e}_${s.functionNameSuffix}Empty_${s.handle.slot+2}`,t,i)}Xl(n.job.views.get(s.xref),`${e}_${s.functionNameSuffix}_${s.handle.slot+1}`,t,i);break;case x.Projection:if(!(n instanceof rr))throw new Error("AssertionError: must be compiling a component");if(s.handle.slot===null)throw new Error("Expected slot to be assigned");if(s.fallbackView!==null){let c=n.job.views.get(s.fallbackView);Xl(c,`${e}_ProjectionFallback_${s.handle.slot}`,t,i)}break;case x.Template:if(!(n instanceof rr))throw new Error("AssertionError: must be compiling a component");let a=n.job.views.get(s.xref);if(s.handle.slot===null)throw new Error("Expected slot to be assigned");let l=s.functionNameSuffix.length===0?"":`_${s.functionNameSuffix}`;Xl(a,`${e}${l}_${s.handle.slot}`,t,i);break;case x.StyleProp:s.name=GM(s.name),i&&(s.name=gy(s.name));break;case x.ClassProp:i&&(s.name=gy(s.name));break}for(let s of n.ops())Tn(s,o=>{if(!(!(o instanceof Or)||o.name!==null)){if(!r.has(o.xref))throw new Error(`Variable ${o.xref} not yet named`);o.name=r.get(o.xref)}})}function QM(n,e,t){if(e.name===null)switch(e.kind){case an.Context:e.name=`ctx_r${t.index++}`;break;case an.Identifier:if(n.job.compatibility===li.TemplateDefinitionBuilder){let i=e.identifier==="ctx"?"i":"";e.name=`${e.identifier}_${i}r${++t.index}`}else e.name=`${e.identifier}_i${t.index++}`;break;default:e.name=`_r${++t.index}`;break}return e.name}function GM(n){return n.startsWith("--")?n:Y2(n)}function gy(n){let e=n.indexOf("!important");return e>-1?n.substring(0,e):n}function YM(n){for(let e of n.units){for(let t of e.create)(t.kind===x.Listener||t.kind===x.TwoWayListener)&&vy(t.handlerOps);vy(e.update)}}function vy(n){for(let e of n){if(e.kind!==x.Statement||!(e.statement instanceof Ti)||!(e.statement.expr instanceof up))continue;let t=e.statement.expr.steps,i=!0;for(let r=e.next;r.kind!==x.ListEnd&&i;r=r.next)Tn(r,(s,o)=>{if(!ur(s))return s;if(i&&!(o&He.InChildOperation))switch(s.kind){case oe.NextContext:s.steps+=t,q.remove(e),i=!1;break;case oe.GetCurrentView:case oe.Reference:case oe.ContextLetReference:i=!1;break}})}}var XM="ng-container";function ZM(n){for(let e of n.units){let t=new Set;for(let i of e.create)i.kind===x.ElementStart&&i.tag===XM&&(i.kind=x.ContainerStart,t.add(i.xref)),i.kind===x.ElementEnd&&t.has(i.xref)&&(i.kind=x.ContainerEnd)}}function KM(n,e){let t=n.get(e);if(t===void 0)throw new Error("All attributes should have an element-like target.");return t}function JM(n){let e=new Map;for(let t of n.units)for(let i of t.create)ys(i)&&e.set(i.xref,i);for(let t of n.units)for(let i of t.create)(i.kind===x.ElementStart||i.kind===x.ContainerStart)&&i.nonBindable&&q.insertAfter(rI(i.xref),i),(i.kind===x.ElementEnd||i.kind===x.ContainerEnd)&&KM(e,i.xref).nonBindable&&q.insertBefore(sI(i.xref),i)}function eP(n){for(let e of n.units)for(let t of e.ops())zt(t,i=>{if(!(i instanceof qe)||i.operator!==te.NullishCoalesce)return i;let r=new Ui(i.lhs.clone(),n.allocateXrefId()),s=new Vr(r.xref);return new Rr(new qe(te.And,new qe(te.NotIdentical,r,dc),new qe(te.NotIdentical,s,new vn(void 0))),s.clone(),i.rhs)},He.None)}function Pr(n){return e=>e.kind===n}function rc(n,e){return t=>t.kind===n&&e===t.expression instanceof Vt}function tP(n){return n.kind===x.Listener&&!(n.hostListener&&n.isAnimationListener)||n.kind===x.TwoWayListener}function nP(n){return(n.kind===x.Property||n.kind===x.TwoWayProperty)&&!(n.expression instanceof Vt)}var iP=[{test:n=>n.kind===x.Listener&&n.hostListener&&n.isAnimationListener},{test:tP}],rP=[{test:Pr(x.StyleMap),transform:Ap},{test:Pr(x.ClassMap),transform:Ap},{test:Pr(x.StyleProp)},{test:Pr(x.ClassProp)},{test:rc(x.Attribute,!0)},{test:rc(x.Property,!0)},{test:nP},{test:rc(x.Attribute,!1)}],sP=[{test:rc(x.HostProperty,!0)},{test:rc(x.HostProperty,!1)},{test:Pr(x.Attribute)},{test:Pr(x.StyleMap),transform:Ap},{test:Pr(x.ClassMap),transform:Ap},{test:Pr(x.StyleProp)},{test:Pr(x.ClassProp)}],xy=new Set([x.Listener,x.TwoWayListener,x.StyleMap,x.ClassMap,x.StyleProp,x.ClassProp,x.Property,x.TwoWayProperty,x.HostProperty,x.Attribute]);function oP(n){for(let e of n.units){by(e.create,iP);let t=e.job.kind===Y.Host?sP:rP;by(e.update,t)}}function by(n,e){let t=[],i=null;for(let r of n){let s=lp(r)?r.target:null;(!xy.has(r.kind)||s!==i&&i!==null&&s!==null)&&(q.insertBefore(yy(t,e),r),t=[],i=null),xy.has(r.kind)&&(t.push(r),q.remove(r),i=s??i)}n.push(yy(t,e))}function yy(n,e){let t=Array.from(e,()=>new Array);for(let i of n){let r=e.findIndex(s=>s.test(i));t[r].push(i)}return t.flatMap((i,r)=>{let s=e[r].transform;return s?s(i):i})}function Ap(n){return n.slice(n.length-1)}function aP(n){for(let e of n.units){let t=Rg(e);for(let i of e.ops())switch(i.kind){case x.Binding:let r=cP(t,i.target);lP(i.name)&&r.kind===x.Projection&&q.remove(i);break}}}function lP(n){return n.toLowerCase()==="select"}function cP(n,e){let t=n.get(e);if(t===void 0)throw new Error("All attributes should have an slottable target.");return t}function uP(n){for(let e of n.units)dP(e)}function dP(n){for(let e of n.update)Tn(e,(t,i)=>{if(ur(t)&&t.kind===oe.PipeBinding){if(i&He.InChildOperation)throw new Error("AssertionError: pipe bindings should not appear in child expressions");if(n.job.compatibility){if(e.target==null)throw new Error("AssertionError: expected slot handle to be assigned for pipe creation");pP(n,e.target,t)}else n.create.push(L2(t.target,t.targetSlot,t.name))}})}function pP(n,e,t){for(let i=n.create.head.next;i.kind!==x.ListEnd;i=i.next){if(!qa(i)||i.xref!==e)continue;for(;i.next.kind===x.Pipe;)i=i.next;let r=L2(t.target,t.targetSlot,t.name);q.insertBefore(r,i.next);return}throw new Error(`AssertionError: unable to find insertion point for pipe ${t.name}`)}function hP(n){for(let e of n.units)for(let t of e.update)zt(t,i=>!(i instanceof Da)||i.args.length<=4?i:new hp(i.target,i.targetSlot,i.name,We(i.args),i.args.length),He.None)}function fP(n){X2(n.root,0)}function X2(n,e){let t=null;for(let i of n.create)switch(i.kind){case x.I18nStart:i.subTemplateIndex=e===0?null:e,t=i;break;case x.I18nEnd:t.subTemplateIndex===null&&(e=0),t=null;break;case x.Template:e=Rm(n.job.views.get(i.xref),t,i.i18nPlaceholder,e);break;case x.RepeaterCreate:let r=n.job.views.get(i.xref);e=Rm(r,t,i.i18nPlaceholder,e),i.emptyView!==null&&(e=Rm(n.job.views.get(i.emptyView),t,i.emptyI18nPlaceholder,e));break}return e}function Rm(n,e,t,i){if(t!==void 0){if(e===null)throw Error("Expected template with i18n placeholder to be in an i18n block.");i++,mP(n,e)}return X2(n,i)}function mP(n,e){if(n.create.head.next?.kind!==x.I18nStart){let t=n.job.allocateXrefId();q.insertAfter(zp(t,e.message,e.root,null),n.create.head),q.insertBefore(Wp(t,null),n.create.tail)}}function gP(n){for(let e of n.units)for(let t of e.ops())Tn(t,i=>{if(!(i instanceof yo)||i.body===null)return;let r=new K0(i.args.length);i.fn=n.pool.getSharedConstant(r,i.body),i.body=null})}var K0=class extends ga{numArgs;constructor(e){super(),this.numArgs=e}keyOf(e){return e instanceof Pa?`param(${e.index})`:super.keyOf(e)}toSharedConstantDeclaration(e,t){let i=[];for(let s=0;s<this.numArgs;s++)i.push(new ln("a"+s));let r=X(t,s=>s instanceof Pa?Ie("a"+s.index):s,He.None);return new kn(e,new po(i,r),void 0,mn.Final)}};function vP(n){for(let e of n.units)for(let t of e.update)zt(t,(i,r)=>r&He.InChildOperation?i:i instanceof $i?xP(i):i instanceof ar?bP(i):i,He.None)}function xP(n){let e=[],t=[];for(let i of n.entries)if(i.isConstant())e.push(i);else{let r=t.length;t.push(i),e.push(new Pa(r))}return new yo(We(e),t)}function bP(n){let e=[],t=[];for(let i of n.entries)if(i.value.isConstant())e.push(i);else{let r=t.length;t.push(i.value),e.push(new Sa(i.key,new Pa(r),i.quoted))}return new yo(Pn(e),t)}function yP(n,e,t,i,r){return Qp(C.element,n,e,t,i,r)}function _P(n,e,t,i,r){return Qp(C.elementStart,n,e,t,i,r)}function Qp(n,e,t,i,r,s){let o=[R(e)];return t!==null&&o.push(R(t)),r!==null?o.push(R(i),R(r)):i!==null&&o.push(R(i)),Oe(n,o,s)}function wP(n){return Oe(C.elementEnd,[],n)}function SP(n,e,t,i){return Qp(C.elementContainerStart,n,null,e,t,i)}function EP(n,e,t,i){return Qp(C.elementContainer,n,null,e,t,i)}function CP(){return Oe(C.elementContainerEnd,[],null)}function kP(n,e,t,i,r,s,o,a){let l=[R(n),e,R(t),R(i),R(r),R(s)];for(o!==null&&(l.push(R(o)),l.push(ce(C.templateRefExtractor)));l[l.length-1].isEquivalent(dc);)l.pop();return Oe(C.templateCreate,l,a)}function TP(){return Oe(C.disableBindings,[],null)}function AP(){return Oe(C.enableBindings,[],null)}function IP(n,e,t,i,r){let s=[R(n),e];return t!==null&&(s.push(R(!1)),s.push(ce(t))),Oe(i?C.syntheticHostListener:C.listener,s,r)}function _y(n,e){return ce(C.twoWayBindingSet).callFn([n,e])}function MP(n,e,t){return Oe(C.twoWayListener,[R(n),e],t)}function PP(n,e){return Oe(C.pipe,[R(n),R(e)],null)}function DP(){return Oe(C.namespaceHTML,[],null)}function NP(){return Oe(C.namespaceSVG,[],null)}function LP(){return Oe(C.namespaceMathML,[],null)}function OP(n,e){return Oe(C.advance,n>1?[R(n)]:[],e)}function RP(n){return ce(C.reference).callFn([R(n)])}function FP(n){return ce(C.nextContext).callFn(n===1?[]:[R(n)])}function BP(){return ce(C.getCurrentView).callFn([])}function VP(n){return ce(C.restoreView).callFn([n])}function $P(n){return ce(C.resetView).callFn([n])}function jP(n,e,t){let i=[R(n,null)];return e!==""&&i.push(R(e)),Oe(C.text,i,t)}function qP(n,e,t,i,r,s,o,a,l,c,u){let f=[R(n),R(e),t??R(null),R(i),R(r),R(s),o??R(null),a??R(null),l?ce(C.deferEnableTimerScheduling):R(null),R(u)],m;for(;(m=f[f.length-1])!==null&&m instanceof vn&&m.value===null;)f.pop();return Oe(C.defer,f,c)}var HP=new Map([[tt.Idle,{none:C.deferOnIdle,prefetch:C.deferPrefetchOnIdle,hydrate:C.deferHydrateOnIdle}],[tt.Immediate,{none:C.deferOnImmediate,prefetch:C.deferPrefetchOnImmediate,hydrate:C.deferHydrateOnImmediate}],[tt.Timer,{none:C.deferOnTimer,prefetch:C.deferPrefetchOnTimer,hydrate:C.deferHydrateOnTimer}],[tt.Hover,{none:C.deferOnHover,prefetch:C.deferPrefetchOnHover,hydrate:C.deferHydrateOnHover}],[tt.Interaction,{none:C.deferOnInteraction,prefetch:C.deferPrefetchOnInteraction,hydrate:C.deferHydrateOnInteraction}],[tt.Viewport,{none:C.deferOnViewport,prefetch:C.deferPrefetchOnViewport,hydrate:C.deferHydrateOnViewport}],[tt.Never,{none:C.deferHydrateNever,prefetch:C.deferHydrateNever,hydrate:C.deferHydrateNever}]]);function UP(n,e,t,i){let r=HP.get(n)?.[t];if(r===void 0)throw new Error(`Unable to determine instruction for trigger ${n}`);return Oe(r,e.map(s=>R(s)),i)}function zP(n){return Oe(C.projectionDef,n?[n]:[],null)}function WP(n,e,t,i,r,s,o){let a=[R(n)];return(e!==0||t!==null||i!==null)&&(a.push(R(e)),t!==null&&a.push(t),i!==null&&(t===null&&a.push(R(null)),a.push(Ie(i),R(r),R(s)))),Oe(C.projection,a,o)}function QP(n,e,t,i){let r=[R(n),R(e)];return t!==null&&r.push(R(t)),Oe(C.i18nStart,r,i)}function GP(n,e,t,i,r,s,o,a,l,c,u,f,m,v){let b=[R(n),Ie(e),R(t),R(i),R(r),R(s),o];return(a||l!==null)&&(b.push(R(a)),l!==null&&(b.push(Ie(l),R(c),R(u)),(f!==null||m!==null)&&b.push(R(f)),m!==null&&b.push(R(m)))),Oe(C.repeaterCreate,b,v)}function YP(n,e){return Oe(C.repeater,[n],e)}function XP(n,e,t){return n==="prefetch"?Oe(C.deferPrefetchWhen,[e],t):n==="hydrate"?Oe(C.deferHydrateWhen,[e],t):Oe(C.deferWhen,[e],t)}function ZP(n,e){return Oe(C.declareLet,[R(n)],e)}function KP(n,e){return ce(C.storeLet).callFn([n],e)}function JP(n){return ce(C.readContextLet).callFn([R(n)])}function e5(n,e,t,i){let r=[R(n),R(e)];return t&&r.push(R(t)),Oe(C.i18n,r,i)}function t5(n){return Oe(C.i18nEnd,[],n)}function n5(n,e){let t=[R(n),R(e)];return Oe(C.i18nAttributes,t,null)}function i5(n,e,t,i){let r=[R(n),e];return t!==null&&r.push(t),Oe(C.property,r,i)}function r5(n,e,t,i){let r=[R(n),e];return t!==null&&r.push(t),Oe(C.twoWayProperty,r,i)}function s5(n,e,t,i){let r=[R(n),e];return(t!==null||i!==null)&&r.push(t??R(null)),i!==null&&r.push(R(i)),Oe(C.attribute,r,null)}function o5(n,e,t,i){let r=[R(n),e];return t!==null&&r.push(R(t)),Oe(C.styleProp,r,i)}function a5(n,e,t){return Oe(C.classProp,[R(n),e],t)}function l5(n,e){return Oe(C.styleMap,[n],e)}function c5(n,e){return Oe(C.classMap,[n],e)}var wy=[C.pipeBind1,C.pipeBind2,C.pipeBind3,C.pipeBind4];function u5(n,e,t){if(t.length<1||t.length>wy.length)throw new Error("pipeBind() argument count out of bounds");let i=wy[t.length-1];return ce(i).callFn([R(n),R(e),...t])}function d5(n,e,t){return ce(C.pipeBindV).callFn([R(n),R(e),t])}function p5(n,e,t){let i=Ha(n,e);return Ua(C5,[],i,[],t)}function h5(n,e){return Oe(C.i18nExp,[n],e)}function f5(n,e){return Oe(C.i18nApply,[R(n)],e)}function m5(n,e,t,i,r){let s=Ha(e,t),o=[];return i!==null&&o.push(i),Ua(k5,[R(n)],s,o,r)}function g5(n,e,t,i,r){let s=Ha(e,t),o=[];return i!==null&&o.push(i),Ua(A5,[R(n)],s,o,r)}function v5(n,e,t,i,r){let s=Ha(e,t),o=[];return i!==null&&o.push(R(i)),Ua(T5,[R(n)],s,o,r)}function x5(n,e,t){let i=Ha(n,e);return Ua(I5,[],i,[],t)}function b5(n,e,t){let i=Ha(n,e);return Ua(M5,[],i,[],t)}function y5(n,e,t,i){let r=[R(n),e];return t!==null&&r.push(t),Oe(C.hostProperty,r,i)}function _5(n,e,t){return Oe(C.syntheticHostProperty,[R(n),e],t)}function w5(n,e,t){return Z2(P5,[R(n),e],t,[],null)}function S5(n,e){return Oe(C.attachSourceLocations,[R(n),e],null)}function Ha(n,e){if(n.length<1||e.length!==n.length-1)throw new Error("AssertionError: expected specific shape of args for strings/expressions in interpolation");let t=[];if(e.length===1&&n[0]===""&&n[1]==="")t.push(e[0]);else{let i;for(i=0;i<e.length;i++)t.push(R(n[i]),e[i]);t.push(R(n[i]))}return t}function Oe(n,e,t){let i=ce(n).callFn(e,t);return Hi(new Ti(i,t))}function E5(n,e,t){let i=[n];return e!==null&&i.push(e),Oe(C.conditional,i,t)}var C5={constant:[C.textInterpolate,C.textInterpolate1,C.textInterpolate2,C.textInterpolate3,C.textInterpolate4,C.textInterpolate5,C.textInterpolate6,C.textInterpolate7,C.textInterpolate8],variable:C.textInterpolateV,mapping:n=>{if(n%2===0)throw new Error("Expected odd number of arguments");return(n-1)/2}},k5={constant:[C.propertyInterpolate,C.propertyInterpolate1,C.propertyInterpolate2,C.propertyInterpolate3,C.propertyInterpolate4,C.propertyInterpolate5,C.propertyInterpolate6,C.propertyInterpolate7,C.propertyInterpolate8],variable:C.propertyInterpolateV,mapping:n=>{if(n%2===0)throw new Error("Expected odd number of arguments");return(n-1)/2}},T5={constant:[C.styleProp,C.stylePropInterpolate1,C.stylePropInterpolate2,C.stylePropInterpolate3,C.stylePropInterpolate4,C.stylePropInterpolate5,C.stylePropInterpolate6,C.stylePropInterpolate7,C.stylePropInterpolate8],variable:C.stylePropInterpolateV,mapping:n=>{if(n%2===0)throw new Error("Expected odd number of arguments");return(n-1)/2}},A5={constant:[C.attribute,C.attributeInterpolate1,C.attributeInterpolate2,C.attributeInterpolate3,C.attributeInterpolate4,C.attributeInterpolate5,C.attributeInterpolate6,C.attributeInterpolate7,C.attributeInterpolate8],variable:C.attributeInterpolateV,mapping:n=>{if(n%2===0)throw new Error("Expected odd number of arguments");return(n-1)/2}},I5={constant:[C.styleMap,C.styleMapInterpolate1,C.styleMapInterpolate2,C.styleMapInterpolate3,C.styleMapInterpolate4,C.styleMapInterpolate5,C.styleMapInterpolate6,C.styleMapInterpolate7,C.styleMapInterpolate8],variable:C.styleMapInterpolateV,mapping:n=>{if(n%2===0)throw new Error("Expected odd number of arguments");return(n-1)/2}},M5={constant:[C.classMap,C.classMapInterpolate1,C.classMapInterpolate2,C.classMapInterpolate3,C.classMapInterpolate4,C.classMapInterpolate5,C.classMapInterpolate6,C.classMapInterpolate7,C.classMapInterpolate8],variable:C.classMapInterpolateV,mapping:n=>{if(n%2===0)throw new Error("Expected odd number of arguments");return(n-1)/2}},P5={constant:[C.pureFunction0,C.pureFunction1,C.pureFunction2,C.pureFunction3,C.pureFunction4,C.pureFunction5,C.pureFunction6,C.pureFunction7,C.pureFunction8],variable:C.pureFunctionV,mapping:n=>n};function Z2(n,e,t,i,r){let s=n.mapping(t.length);if(s<n.constant.length)return ce(n.constant[s]).callFn([...e,...t,...i],r);if(n.variable!==null)return ce(n.variable).callFn([...e,We(t),...i],r);throw new Error("AssertionError: unable to call variadic function")}function Ua(n,e,t,i,r){return Hi(Z2(n,e,t,i,r).toStmt())}var D5=new Map([["window",C.resolveWindow],["document",C.resolveDocument],["body",C.resolveBody]]);function N5(n){for(let e of n.units)L5(e,e.create),Fg(e,e.update)}function L5(n,e){for(let t of e)switch(zt(t,K2,He.None),t.kind){case x.Text:q.replace(t,jP(t.handle.slot,t.initialValue,t.sourceSpan));break;case x.ElementStart:q.replace(t,_P(t.handle.slot,t.tag,t.attributes,t.localRefs,t.startSourceSpan));break;case x.Element:q.replace(t,yP(t.handle.slot,t.tag,t.attributes,t.localRefs,t.wholeSourceSpan));break;case x.ElementEnd:q.replace(t,wP(t.sourceSpan));break;case x.ContainerStart:q.replace(t,SP(t.handle.slot,t.attributes,t.localRefs,t.startSourceSpan));break;case x.Container:q.replace(t,EP(t.handle.slot,t.attributes,t.localRefs,t.wholeSourceSpan));break;case x.ContainerEnd:q.replace(t,CP());break;case x.I18nStart:q.replace(t,QP(t.handle.slot,t.messageIndex,t.subTemplateIndex,t.sourceSpan));break;case x.I18nEnd:q.replace(t,t5(t.sourceSpan));break;case x.I18n:q.replace(t,e5(t.handle.slot,t.messageIndex,t.subTemplateIndex,t.sourceSpan));break;case x.I18nAttributes:if(t.i18nAttributesConfig===null)throw new Error("AssertionError: i18nAttributesConfig was not set");q.replace(t,n5(t.handle.slot,t.i18nAttributesConfig));break;case x.Template:if(!(n instanceof rr))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(t.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let i=n.job.views.get(t.xref);q.replace(t,kP(t.handle.slot,Ie(i.fnName),i.decls,i.vars,t.tag,t.attributes,t.localRefs,t.startSourceSpan));break;case x.DisableBindings:q.replace(t,TP());break;case x.EnableBindings:q.replace(t,AP());break;case x.Pipe:q.replace(t,PP(t.handle.slot,t.name));break;case x.DeclareLet:q.replace(t,ZP(t.handle.slot,t.sourceSpan));break;case x.Listener:let r=Sy(n,t.handlerFnName,t.handlerOps,t.consumesDollarEvent),s=t.eventTarget?D5.get(t.eventTarget):null;if(s===void 0)throw new Error(`Unexpected global target '${t.eventTarget}' defined for '${t.name}' event. Supported list of global targets: window,document,body.`);q.replace(t,IP(t.name,r,s,t.hostListener&&t.isAnimationListener,t.sourceSpan));break;case x.TwoWayListener:q.replace(t,MP(t.name,Sy(n,t.handlerFnName,t.handlerOps,!0),t.sourceSpan));break;case x.Variable:if(t.variable.name===null)throw new Error(`AssertionError: unnamed variable ${t.xref}`);q.replace(t,Hi(new kn(t.variable.name,t.initializer,void 0,mn.Final)));break;case x.Namespace:switch(t.active){case En.HTML:q.replace(t,DP());break;case En.SVG:q.replace(t,NP());break;case En.Math:q.replace(t,LP());break}break;case x.Defer:let o=!!t.loadingMinimumTime||!!t.loadingAfterTime||!!t.placeholderMinimumTime;q.replace(t,qP(t.handle.slot,t.mainSlot.slot,t.resolverFn,t.loadingSlot?.slot??null,t.placeholderSlot?.slot??null,t.errorSlot?.slot??null,t.loadingConfig,t.placeholderConfig,o,t.sourceSpan,t.flags));break;case x.DeferOn:let a=[];switch(t.trigger.kind){case tt.Never:case tt.Idle:case tt.Immediate:break;case tt.Timer:a=[t.trigger.delay];break;case tt.Interaction:case tt.Hover:case tt.Viewport:if(t.modifier==="hydrate")a=[];else{if(t.trigger.targetSlot?.slot==null||t.trigger.targetSlotViewSteps===null)throw new Error(`Slot or view steps not set in trigger reification for trigger kind ${t.trigger.kind}`);a=[t.trigger.targetSlot.slot],t.trigger.targetSlotViewSteps!==0&&a.push(t.trigger.targetSlotViewSteps)}break;default:throw new Error(`AssertionError: Unsupported reification of defer trigger kind ${t.trigger.kind}`)}q.replace(t,UP(t.trigger.kind,a,t.modifier,t.sourceSpan));break;case x.ProjectionDef:q.replace(t,zP(t.def));break;case x.Projection:if(t.handle.slot===null)throw new Error("No slot was assigned for project instruction");let l=null,c=null,u=null;if(t.fallbackView!==null){if(!(n instanceof rr))throw new Error("AssertionError: must be compiling a component");let y=n.job.views.get(t.fallbackView);if(y===void 0)throw new Error("AssertionError: projection had fallback view xref, but fallback view was not found");if(y.fnName===null||y.decls===null||y.vars===null)throw new Error("AssertionError: expected projection fallback view to have been named and counted");l=y.fnName,c=y.decls,u=y.vars}q.replace(t,WP(t.handle.slot,t.projectionSlotIndex,t.attributes,l,c,u,t.sourceSpan));break;case x.RepeaterCreate:if(t.handle.slot===null)throw new Error("No slot was assigned for repeater instruction");if(!(n instanceof rr))throw new Error("AssertionError: must be compiling a component");let f=n.job.views.get(t.xref);if(f.fnName===null)throw new Error("AssertionError: expected repeater primary view to have been named");let m=null,v=null,b=null;if(t.emptyView!==null){let y=n.job.views.get(t.emptyView);if(y===void 0)throw new Error("AssertionError: repeater had empty view xref, but empty view was not found");if(y.fnName===null||y.decls===null||y.vars===null)throw new Error("AssertionError: expected repeater empty view to have been named and counted");m=y.fnName,v=y.decls,b=y.vars}q.replace(t,GP(t.handle.slot,f.fnName,t.decls,t.vars,t.tag,t.attributes,O5(n,t),t.usesComponentInstance,m,v,b,t.emptyTag,t.emptyAttributes,t.wholeSourceSpan));break;case x.SourceLocation:let w=We(t.locations.map(({targetSlot:y,offset:k,line:I,column:V})=>{if(y.slot===null)throw new Error("No slot was assigned for source location");return We([R(y.slot),R(k),R(I),R(V)])}));q.replace(t,S5(t.templatePath,w));break;case x.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of create op ${x[t.kind]}`)}}function Fg(n,e){for(let t of e)switch(zt(t,K2,He.None),t.kind){case x.Advance:q.replace(t,OP(t.delta,t.sourceSpan));break;case x.Property:t.expression instanceof Vt?q.replace(t,m5(t.name,t.expression.strings,t.expression.expressions,t.sanitizer,t.sourceSpan)):q.replace(t,i5(t.name,t.expression,t.sanitizer,t.sourceSpan));break;case x.TwoWayProperty:q.replace(t,r5(t.name,t.expression,t.sanitizer,t.sourceSpan));break;case x.StyleProp:t.expression instanceof Vt?q.replace(t,v5(t.name,t.expression.strings,t.expression.expressions,t.unit,t.sourceSpan)):q.replace(t,o5(t.name,t.expression,t.unit,t.sourceSpan));break;case x.ClassProp:q.replace(t,a5(t.name,t.expression,t.sourceSpan));break;case x.StyleMap:t.expression instanceof Vt?q.replace(t,x5(t.expression.strings,t.expression.expressions,t.sourceSpan)):q.replace(t,l5(t.expression,t.sourceSpan));break;case x.ClassMap:t.expression instanceof Vt?q.replace(t,b5(t.expression.strings,t.expression.expressions,t.sourceSpan)):q.replace(t,c5(t.expression,t.sourceSpan));break;case x.I18nExpression:q.replace(t,h5(t.expression,t.sourceSpan));break;case x.I18nApply:q.replace(t,f5(t.handle.slot,t.sourceSpan));break;case x.InterpolateText:q.replace(t,p5(t.interpolation.strings,t.interpolation.expressions,t.sourceSpan));break;case x.Attribute:t.expression instanceof Vt?q.replace(t,g5(t.name,t.expression.strings,t.expression.expressions,t.sanitizer,t.sourceSpan)):q.replace(t,s5(t.name,t.expression,t.sanitizer,t.namespace));break;case x.HostProperty:if(t.expression instanceof Vt)throw new Error("not yet handled");t.isAnimationTrigger?q.replace(t,_5(t.name,t.expression,t.sourceSpan)):q.replace(t,y5(t.name,t.expression,t.sanitizer,t.sourceSpan));break;case x.Variable:if(t.variable.name===null)throw new Error(`AssertionError: unnamed variable ${t.xref}`);q.replace(t,Hi(new kn(t.variable.name,t.initializer,void 0,mn.Final)));break;case x.Conditional:if(t.processed===null)throw new Error("Conditional test was not set.");q.replace(t,E5(t.processed,t.contextValue,t.sourceSpan));break;case x.Repeater:q.replace(t,YP(t.collection,t.sourceSpan));break;case x.DeferWhen:q.replace(t,XP(t.modifier,t.expr,t.sourceSpan));break;case x.StoreLet:throw new Error(`AssertionError: unexpected storeLet ${t.declaredName}`);case x.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of update op ${x[t.kind]}`)}}function K2(n){if(!ur(n))return n;switch(n.kind){case oe.NextContext:return FP(n.steps);case oe.Reference:return RP(n.targetSlot.slot+1+n.offset);case oe.LexicalRead:throw new Error(`AssertionError: unresolved LexicalRead of ${n.name}`);case oe.TwoWayBindingSet:throw new Error("AssertionError: unresolved TwoWayBindingSet");case oe.RestoreView:if(typeof n.view=="number")throw new Error("AssertionError: unresolved RestoreView");return VP(n.view);case oe.ResetView:return $P(n.expr);case oe.GetCurrentView:return BP();case oe.ReadVariable:if(n.name===null)throw new Error(`Read of unnamed variable ${n.xref}`);return Ie(n.name);case oe.ReadTemporaryExpr:if(n.name===null)throw new Error(`Read of unnamed temporary ${n.xref}`);return Ie(n.name);case oe.AssignTemporaryExpr:if(n.name===null)throw new Error(`Assign of unnamed temporary ${n.xref}`);return Ie(n.name).set(n.expr);case oe.PureFunctionExpr:if(n.fn===null)throw new Error("AssertionError: expected PureFunctions to have been extracted");return w5(n.varOffset,n.fn,n.args);case oe.PureFunctionParameterExpr:throw new Error("AssertionError: expected PureFunctionParameterExpr to have been extracted");case oe.PipeBinding:return u5(n.targetSlot.slot,n.varOffset,n.args);case oe.PipeBindingVariadic:return d5(n.targetSlot.slot,n.varOffset,n.args);case oe.SlotLiteralExpr:return R(n.slot.slot);case oe.ContextLetReference:return JP(n.targetSlot.slot);case oe.StoreLet:return KP(n.value,n.sourceSpan);case oe.TrackContext:return Ie("this");default:throw new Error(`AssertionError: Unsupported reification of ir.Expression kind: ${oe[n.kind]}`)}}function Sy(n,e,t,i){Fg(n,t);let r=[];for(let o of t){if(o.kind!==x.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${x[o.kind]}`);r.push(o.statement)}let s=[];return i&&s.push(new ln("$event")),ms(s,r,void 0,void 0,e)}function O5(n,e){if(e.trackByFn!==null)return e.trackByFn;let t=[new ln("$index"),new ln("$item")],i;if(e.trackByOps===null)i=e.usesComponentInstance?ms(t,[new Cn(e.track)]):ji(t,e.track);else{Fg(n,e.trackByOps);let r=[];for(let s of e.trackByOps){if(s.kind!==x.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${x[s.kind]}`);r.push(s.statement)}i=e.usesComponentInstance||r.length!==1||!(r[0]instanceof Cn)?ms(t,r):ji(t,r[0].value)}return e.trackByFn=n.job.pool.getSharedFunctionReference(i,"_forTrack"),e.trackByFn}function R5(n){for(let e of n.units)for(let t of e.update)switch(t.kind){case x.Attribute:case x.Binding:case x.ClassProp:case x.ClassMap:case x.Property:case x.StyleProp:case x.StyleMap:t.expression instanceof Fc&&q.remove(t);break}}function F5(n){for(let e of n.units)for(let t of e.create)switch(t.kind){case x.I18nContext:q.remove(t);break;case x.I18nStart:t.context=null;break}}function B5(n){for(let e of n.units){let t=new Set;for(let i of e.update)switch(i.kind){case x.I18nExpression:t.add(i.i18nOwner)}for(let i of e.create)switch(i.kind){case x.I18nAttributes:if(t.has(i.xref))continue;q.remove(i)}}}function V5(n){for(let e of n.units)Ip(e,e.create),Ip(e,e.update)}function Ip(n,e){let t=new Map;t.set(n.xref,Ie("ctx"));for(let i of e)switch(i.kind){case x.Variable:switch(i.variable.kind){case an.Context:t.set(i.variable.view,new Or(i.xref));break}break;case x.Listener:case x.TwoWayListener:Ip(n,i.handlerOps);break;case x.RepeaterCreate:i.trackByOps!==null&&Ip(n,i.trackByOps);break}n===n.job.root&&t.set(n.xref,Ie("ctx"));for(let i of e)zt(i,r=>{if(r instanceof Br){if(!t.has(r.view))throw new Error(`No context found for reference to view ${r.view} from view ${n.xref}`);return t.get(r.view)}else return r},He.None)}function $5(n){for(let e of n.units)Ey(e.create),Ey(e.update)}function Ey(n){for(let e of n)(e.kind===x.Listener||e.kind===x.TwoWayListener)&&zt(e,t=>t instanceof fn&&t.name==="$event"?(e.kind===x.Listener&&(e.consumesDollarEvent=!0),new ki(t.name)):t,He.InChildOperation)}function j5(n){let e=new Map,t=new Map;for(let i of n.units)for(let r of i.create)switch(r.kind){case x.I18nContext:e.set(r.xref,r);break;case x.ElementStart:t.set(r.xref,r);break}os(n,n.root,e,t)}function os(n,e,t,i,r){let s=null,o=new Map;for(let a of e.create)switch(a.kind){case x.I18nStart:if(!a.context)throw Error("Could not find i18n context for i18n op");s={i18nBlock:a,i18nContext:t.get(a.context)};break;case x.I18nEnd:s=null;break;case x.ElementStart:if(a.i18nPlaceholder!==void 0){if(s===null)throw Error("i18n tag placeholder should only occur inside an i18n block");Cy(a,s.i18nContext,s.i18nBlock,r),r&&a.i18nPlaceholder.closeName&&o.set(a.xref,r),r=void 0}break;case x.ElementEnd:let l=i.get(a.xref);if(l&&l.i18nPlaceholder!==void 0){if(s===null)throw Error("AssertionError: i18n tag placeholder should only occur inside an i18n block");ky(l,s.i18nContext,s.i18nBlock,o.get(a.xref)),o.delete(a.xref)}break;case x.Projection:if(a.i18nPlaceholder!==void 0){if(s===null)throw Error("i18n tag placeholder should only occur inside an i18n block");Cy(a,s.i18nContext,s.i18nBlock,r),ky(a,s.i18nContext,s.i18nBlock,r),r=void 0}break;case x.Template:let c=n.views.get(a.xref);if(a.i18nPlaceholder===void 0)os(n,c,t,i);else{if(s===null)throw Error("i18n tag placeholder should only occur inside an i18n block");a.templateKind===si.Structural?os(n,c,t,i,a):(Fm(n,c,a.handle.slot,a.i18nPlaceholder,s.i18nContext,s.i18nBlock,r),os(n,c,t,i),Bm(n,c,a.handle.slot,a.i18nPlaceholder,s.i18nContext,s.i18nBlock,r),r=void 0)}break;case x.RepeaterCreate:if(r!==void 0)throw Error("AssertionError: Unexpected structural directive associated with @for block");let u=a.handle.slot+1,f=n.views.get(a.xref);if(a.i18nPlaceholder===void 0)os(n,f,t,i);else{if(s===null)throw Error("i18n tag placeholder should only occur inside an i18n block");Fm(n,f,u,a.i18nPlaceholder,s.i18nContext,s.i18nBlock,r),os(n,f,t,i),Bm(n,f,u,a.i18nPlaceholder,s.i18nContext,s.i18nBlock,r),r=void 0}if(a.emptyView!==null){let m=a.handle.slot+2,v=n.views.get(a.emptyView);if(a.emptyI18nPlaceholder===void 0)os(n,v,t,i);else{if(s===null)throw Error("i18n tag placeholder should only occur inside an i18n block");Fm(n,v,m,a.emptyI18nPlaceholder,s.i18nContext,s.i18nBlock,r),os(n,v,t,i),Bm(n,v,m,a.emptyI18nPlaceholder,s.i18nContext,s.i18nBlock,r),r=void 0}}break}}function Cy(n,e,t,i){let{startName:r,closeName:s}=n.i18nPlaceholder,o=st.ElementTag|st.OpenTag,a=n.handle.slot;i!==void 0&&(o|=st.TemplateTag,a={element:a,template:i.handle.slot}),s||(o|=st.CloseTag),Ba(e.params,r,a,t.subTemplateIndex,o)}function ky(n,e,t,i){let{closeName:r}=n.i18nPlaceholder;if(r){let s=st.ElementTag|st.CloseTag,o=n.handle.slot;i!==void 0&&(s|=st.TemplateTag,o={element:o,template:i.handle.slot}),Ba(e.params,r,o,t.subTemplateIndex,s)}}function Fm(n,e,t,i,r,s,o){let{startName:a,closeName:l}=i,c=st.TemplateTag|st.OpenTag;l||(c|=st.CloseTag),o!==void 0&&Ba(r.params,a,o.handle.slot,s.subTemplateIndex,c),Ba(r.params,a,t,J2(n,s,e),c)}function Bm(n,e,t,i,r,s,o){let{closeName:a}=i,l=st.TemplateTag|st.CloseTag;a&&(Ba(r.params,a,t,J2(n,s,e),l),o!==void 0&&Ba(r.params,a,o.handle.slot,s.subTemplateIndex,l))}function J2(n,e,t){for(let i of t.create)if(i.kind===x.I18nStart)return i.subTemplateIndex;return e.subTemplateIndex}function Ba(n,e,t,i,r){let s=n.get(e)??[];s.push({value:t,subTemplateIndex:i,flags:r}),n.set(e,s)}function q5(n){let e=new Map,t=new Map,i=new Map;for(let o of n.units)for(let a of o.create)switch(a.kind){case x.I18nStart:e.set(a.xref,a.subTemplateIndex);break;case x.I18nContext:t.set(a.xref,a);break;case x.IcuPlaceholder:i.set(a.xref,a);break}let r=new Map,s=o=>o.usage===$a.I18nText?o.i18nOwner:o.context;for(let o of n.units)for(let a of o.update)if(a.kind===x.I18nExpression){let l=r.get(s(a))||0,c=e.get(a.i18nOwner)??null,u={value:l,subTemplateIndex:c,flags:st.ExpressionIndex};H5(a,u,t,i),r.set(s(a),l+1)}}function H5(n,e,t,i){if(n.i18nPlaceholder!==null){let r=t.get(n.context),s=n.resolutionTime===Lc.Creation?r.params:r.postprocessingParams,o=s.get(n.i18nPlaceholder)||[];o.push(e),s.set(n.i18nPlaceholder,o)}n.icuPlaceholder!==null&&i.get(n.icuPlaceholder)?.expressionPlaceholders.push(e)}function U5(n){for(let e of n.units)Mp(e,e.create,null),Mp(e,e.update,null)}function Mp(n,e,t){let i=new Map,r=new Map;for(let s of e)switch(s.kind){case x.Variable:switch(s.variable.kind){case an.Identifier:if(s.variable.local){if(r.has(s.variable.identifier))continue;r.set(s.variable.identifier,s.xref)}else if(i.has(s.variable.identifier))continue;i.set(s.variable.identifier,s.xref);break;case an.Alias:if(i.has(s.variable.identifier))continue;i.set(s.variable.identifier,s.xref);break;case an.SavedView:t={view:s.variable.view,variable:s.xref};break}break;case x.Listener:case x.TwoWayListener:Mp(n,s.handlerOps,t);break;case x.RepeaterCreate:s.trackByOps!==null&&Mp(n,s.trackByOps,t);break}for(let s of e)s.kind==x.Listener||s.kind===x.TwoWayListener||zt(s,o=>{if(o instanceof fn)return r.has(o.name)?new Or(r.get(o.name)):i.has(o.name)?new Or(i.get(o.name)):new ai(new Br(n.job.root.xref),o.name);if(o instanceof dp&&typeof o.view=="number"){if(t===null||t.view!==o.view)throw new Error(`AssertionError: no saved view ${o.view} from view ${n.xref}`);return o.view=new Or(t.variable),o}else return o},He.None);for(let s of e)Tn(s,o=>{if(o instanceof fn)throw new Error(`AssertionError: no lexical reads should remain, but found read of ${o.name}`)})}var z5=new Map([[ft.HTML,C.sanitizeHtml],[ft.RESOURCE_URL,C.sanitizeResourceUrl],[ft.SCRIPT,C.sanitizeScript],[ft.STYLE,C.sanitizeStyle],[ft.URL,C.sanitizeUrl]]),W5=new Map([[ft.HTML,C.trustConstantHtml],[ft.RESOURCE_URL,C.trustConstantResourceUrl]]);function Q5(n){for(let e of n.units){let t=Rg(e);if(n.kind!==Y.Host){for(let i of e.create)if(i.kind===x.ExtractedAttribute){let r=W5.get(Ty(i.securityContext))??null;i.trustedValueFn=r!==null?ce(r):null}}for(let i of e.update)switch(i.kind){case x.Property:case x.Attribute:case x.HostProperty:let r=null;if(Array.isArray(i.securityContext)&&i.securityContext.length===2&&i.securityContext.indexOf(ft.URL)>-1&&i.securityContext.indexOf(ft.RESOURCE_URL)>-1?r=C.sanitizeUrlOrResourceUrl:r=z5.get(Ty(i.securityContext))??null,i.sanitizer=r!==null?ce(r):null,i.sanitizer===null){let s=!1;if(n.kind===Y.Host||i.kind===x.HostProperty)s=!0;else{let o=t.get(i.target);if(o===void 0||!ys(o))throw Error("Property should have an element-like owner");s=G5(o)}s&&tM(i.name)&&(i.sanitizer=ce(C.validateIframeAttribute))}break}}}function G5(n){return n.kind===x.ElementStart&&n.tag?.toLowerCase()==="iframe"}function Ty(n){if(Array.isArray(n)){if(n.length>1)throw Error("AssertionError: Ambiguous security context");return n[0]||ft.NONE}return n}function Y5(n){for(let e of n.units)for(let t of e.create)t.kind===x.TwoWayListener&&zt(t,i=>{if(!(i instanceof pp))return i;let{target:r,value:s}=i;if(r instanceof ai||r instanceof Fr)return _y(r,s).or(r.set(s));if(r instanceof Or)return _y(r,s);throw new Error("Unsupported expression in two-way action binding.")},He.InChildOperation)}function X5(n){for(let e of n.units){e.create.prepend([ds(e.job.allocateXrefId(),{kind:an.SavedView,name:null,view:e.xref},new A0,bi.None)]);for(let t of e.create){if(t.kind!==x.Listener&&t.kind!==x.TwoWayListener)continue;let i=e!==n.root;if(!i)for(let r of t.handlerOps)Tn(r,s=>{(s instanceof cp||s instanceof Rc)&&(i=!0)});i&&Z5(e,t)}}}function Z5(n,e){e.handlerOps.prepend([ds(n.job.allocateXrefId(),{kind:an.Context,name:null,view:n.xref},new dp(n.xref),bi.None)]);for(let t of e.handlerOps)t.kind===x.Statement&&t.statement instanceof Cn&&(t.statement.value=new I0(t.statement.value))}function K5(n){let e=new Map;for(let t of n.units){let i=0;for(let r of t.create)qa(r)&&(r.handle.slot=i,e.set(r.xref,r.handle.slot),i+=r.numSlotsUsed);t.decls=i}for(let t of n.units)for(let i of t.ops())if(i.kind===x.Template||i.kind===x.RepeaterCreate){let r=n.views.get(i.xref);i.decls=r.decls}}function J5(n){for(let e of n.units)for(let t of e.update)if(t.kind===x.Binding)switch(t.bindingKind){case le.ClassName:if(t.expression instanceof Vt)throw new Error("Unexpected interpolation in ClassName binding");q.replace(t,zA(t.target,t.name,t.expression,t.sourceSpan));break;case le.StyleProperty:q.replace(t,UA(t.target,t.name,t.expression,t.unit,t.sourceSpan));break;case le.Property:case le.Template:t.name==="style"?q.replace(t,WA(t.target,t.expression,t.sourceSpan)):t.name==="class"&&q.replace(t,QA(t.target,t.expression,t.sourceSpan));break}}function e4(n){for(let e of n.units)e.create.prepend(Pp(e.create)),e.update.prepend(Pp(e.update))}function Pp(n){let e=0,t=[];for(let i of n){let r=new Map;Tn(i,(c,u)=>{u&He.InChildOperation||c instanceof Vr&&r.set(c.xref,c)});let s=0,o=new Set,a=new Set,l=new Map;Tn(i,(c,u)=>{u&He.InChildOperation||(c instanceof Ui?(o.has(c.xref)||(o.add(c.xref),l.set(c.xref,`tmp_${e}_${s++}`)),Ay(l,c)):c instanceof Vr&&(r.get(c.xref)===c&&(a.add(c.xref),s--),Ay(l,c)))}),t.push(...Array.from(new Set(l.values())).map(c=>Hi(new kn(c)))),e++,i.kind===x.Listener||i.kind===x.TwoWayListener?i.handlerOps.prepend(Pp(i.handlerOps)):i.kind===x.RepeaterCreate&&i.trackByOps!==null&&i.trackByOps.prepend(Pp(i.trackByOps))}return t}function Ay(n,e){let t=n.get(e.xref);if(t===void 0)throw new Error(`Found xref with unassigned name: ${e.xref}`);e.name=t}function t4(n){for(let e of n.units)for(let t of e.create)if(t.kind===x.RepeaterCreate)if(t.track instanceof ki&&t.track.name==="$index")t.trackByFn=ce(C.repeaterTrackByIndex);else if(t.track instanceof ki&&t.track.name==="$item")t.trackByFn=ce(C.repeaterTrackByIdentity);else if(n4(n.root.xref,t.track))t.usesComponentInstance=!0,t.track.receiver.receiver.view===e.xref?t.trackByFn=t.track.receiver:(t.trackByFn=ce(C.componentInstance).callFn([]).prop(t.track.receiver.name),t.track=t.trackByFn);else{t.track=X(t.track,r=>{if(r instanceof Da||r instanceof hp)throw new Error("Illegal State: Pipes are not allowed in this context");return r instanceof Br?(t.usesComponentInstance=!0,new T0(r.view)):r},He.None);let i=new q;i.push(Hi(new Cn(t.track,t.track.sourceSpan))),t.trackByOps=i}}function n4(n,e){if(!(e instanceof Un)||e.args.length===0||e.args.length>2||!(e.receiver instanceof ai&&e.receiver.receiver instanceof Br)||e.receiver.receiver.view!==n)return!1;let[t,i]=e.args;return!(t instanceof ki)||t.name!=="$index"?!1:e.args.length===1?!0:!(!(i instanceof ki)||i.name!=="$item")}function i4(n){for(let e of n.units)for(let t of e.create)t.kind===x.RepeaterCreate&&(t.track=X(t.track,i=>{if(i instanceof fn){if(t.varNames.$index.has(i.name))return Ie("$index");if(i.name===t.varNames.$implicit)return Ie("$item")}return i},He.None))}function r4(n){for(let e of n.units){let t=0;for(let i of e.ops())Pm(i)&&(t+=s4(i));for(let i of e.ops())Tn(i,r=>{ur(r)&&(n.compatibility===li.TemplateDefinitionBuilder&&r instanceof yo||(Wb(r)&&(r.varOffset=t),Pm(r)&&(t+=Iy(r))))});if(n.compatibility===li.TemplateDefinitionBuilder)for(let i of e.ops())Tn(i,r=>{!ur(r)||!(r instanceof yo)||(Wb(r)&&(r.varOffset=t),Pm(r)&&(t+=Iy(r)))});e.vars=t}if(n instanceof Vc)for(let e of n.units)for(let t of e.create){if(t.kind!==x.Template&&t.kind!==x.RepeaterCreate)continue;let i=n.views.get(t.xref);t.vars=i.vars}}function s4(n){let e;switch(n.kind){case x.Property:case x.HostProperty:case x.Attribute:return e=1,n.expression instanceof Vt&&!o4(n.expression)&&(e+=n.expression.expressions.length),e;case x.TwoWayProperty:return 1;case x.StyleProp:case x.ClassProp:case x.StyleMap:case x.ClassMap:return e=2,n.expression instanceof Vt&&(e+=n.expression.expressions.length),e;case x.InterpolateText:return n.interpolation.expressions.length;case x.I18nExpression:case x.Conditional:case x.DeferWhen:case x.StoreLet:return 1;case x.RepeaterCreate:return n.emptyView?1:0;default:throw new Error(`Unhandled op: ${x[n.kind]}`)}}function Iy(n){switch(n.kind){case oe.PureFunctionExpr:return 1+n.args.length;case oe.PipeBinding:return 1+n.args.length;case oe.PipeBindingVariadic:return 1+n.numArgs;case oe.StoreLet:return 1;default:throw new Error(`AssertionError: unhandled ConsumesVarsTrait expression ${n.constructor.name}`)}}function o4(n){return!(n.expressions.length!==1||n.strings.length!==2||n.strings[0]!==""||n.strings[1]!=="")}function a4(n){for(let e of n.units){hd(e.create),hd(e.update);for(let t of e.create)t.kind===x.Listener||t.kind===x.TwoWayListener?hd(t.handlerOps):t.kind===x.RepeaterCreate&&t.trackByOps!==null&&hd(t.trackByOps);fd(e.create,n.compatibility),fd(e.update,n.compatibility);for(let t of e.create)t.kind===x.Listener||t.kind===x.TwoWayListener?fd(t.handlerOps,n.compatibility):t.kind===x.RepeaterCreate&&t.trackByOps!==null&&fd(t.trackByOps,n.compatibility)}}var Kt=function(n){return n[n.None=0]="None",n[n.ViewContextRead=1]="ViewContextRead",n[n.ViewContextWrite=2]="ViewContextWrite",n[n.SideEffectful=4]="SideEffectful",n}(Kt||{});function hd(n){let e=new Map;for(let t of n)t.kind===x.Variable&&t.flags&bi.AlwaysInline&&(Tn(t,i=>{if(ur(i)&&Bg(i)!==Kt.None)throw new Error("AssertionError: A context-sensitive variable was marked AlwaysInline")}),e.set(t.xref,t)),zt(t,i=>i instanceof Or&&e.has(i.xref)?e.get(i.xref).initializer.clone():i,He.None);for(let t of e.values())q.remove(t)}function fd(n,e){let t=new Map,i=new Map,r=new Set,s=new Map;for(let c of n){if(c.kind===x.Variable){if(t.has(c.xref)||i.has(c.xref))throw new Error(`Should not see two declarations of the same variable: ${c.xref}`);t.set(c.xref,c),i.set(c.xref,0)}s.set(c,l4(c)),c4(c,i,r)}let o=!1;for(let c of n.reversed()){let u=s.get(c);if(c.kind===x.Variable&&i.get(c.xref)===0){if(o&&u.fences&Kt.ViewContextWrite||u.fences&Kt.SideEffectful){let f=Hi(c.initializer.toStmt());s.set(f,u),q.replace(c,f)}else u4(c,i),q.remove(c);s.delete(c),t.delete(c.xref),i.delete(c.xref);continue}u.fences&Kt.ViewContextRead&&(o=!0)}let a=[];for(let[c,u]of i){let m=!!(t.get(c).flags&bi.AlwaysInline);u!==1||m||r.has(c)||a.push(c)}let l;for(;l=a.pop();){let c=t.get(l),u=s.get(c);if(!!(c.flags&bi.AlwaysInline))throw new Error("AssertionError: Found an 'AlwaysInline' variable after the always inlining pass.");for(let m=c.next;m.kind!==x.ListEnd;m=m.next){let v=s.get(m);if(v.variablesUsed.has(l)){if(e===li.TemplateDefinitionBuilder&&!p4(c,m))break;if(d4(l,c.initializer,m,u.fences)){v.variablesUsed.delete(l);for(let b of u.variablesUsed)v.variablesUsed.add(b);v.fences|=u.fences,t.delete(l),i.delete(l),s.delete(c),q.remove(c)}break}if(!e_(v.fences,u.fences))break}}}function Bg(n){switch(n.kind){case oe.NextContext:return Kt.ViewContextRead|Kt.ViewContextWrite;case oe.RestoreView:return Kt.ViewContextRead|Kt.ViewContextWrite|Kt.SideEffectful;case oe.StoreLet:return Kt.SideEffectful;case oe.Reference:case oe.ContextLetReference:return Kt.ViewContextRead;default:return Kt.None}}function l4(n){let e=Kt.None,t=new Set;return Tn(n,i=>{if(ur(i))switch(i.kind){case oe.ReadVariable:t.add(i.xref);break;default:e|=Bg(i)}}),{fences:e,variablesUsed:t}}function c4(n,e,t){Tn(n,(i,r)=>{if(!ur(i)||i.kind!==oe.ReadVariable)return;let s=e.get(i.xref);s!==void 0&&(e.set(i.xref,s+1),r&He.InChildOperation&&t.add(i.xref))})}function u4(n,e){Tn(n,t=>{if(!ur(t)||t.kind!==oe.ReadVariable)return;let i=e.get(t.xref);if(i!==void 0){if(i===0)throw new Error(`Inaccurate variable count: ${t.xref} - found another read but count is already 0`);e.set(t.xref,i-1)}})}function e_(n,e){if(n&Kt.ViewContextWrite){if(e&Kt.ViewContextRead)return!1}else if(n&Kt.ViewContextRead&&e&Kt.ViewContextWrite)return!1;return!0}function d4(n,e,t,i){let r=!1,s=!0;return zt(t,(o,a)=>{if(!ur(o)||r||!s)return o;if(a&He.InChildOperation&&i&Kt.ViewContextRead)return o;switch(o.kind){case oe.ReadVariable:if(o.xref===n)return r=!0,e;break;default:let l=Bg(o);s=s&&e_(l,i);break}return o},He.None),r}function p4(n,e){switch(n.variable.kind){case an.Identifier:return n.initializer instanceof ki&&n.initializer.name==="ctx";case an.Context:return e.kind===x.Variable;default:return!0}}function h4(n){for(let e of n.units){let t=null,i=null;for(let r of e.create)switch(r.kind){case x.I18nStart:t=r;break;case x.I18nEnd:t=null;break;case x.IcuStart:t===null&&(i=n.allocateXrefId(),q.insertBefore(zp(i,r.message,void 0,null),r));break;case x.IcuEnd:i!==null&&(q.insertAfter(Wp(i,null),r),i=null);break}}}function f4(n){let e=new Set;for(let t of n.units)for(let i of t.ops())Tn(i,r=>{r instanceof Rc&&e.add(r.target)});for(let t of n.units)for(let i of t.update)zt(i,r=>r instanceof Oc&&!e.has(r.target)?r.value:r,He.None)}function m4(n){for(let e of n.units)for(let t of e.update){if(t.kind!==x.Variable||t.variable.kind!==an.Identifier||!(t.initializer instanceof Oc))continue;let i=t.variable.identifier,r=t;for(;r&&r.kind!==x.ListEnd;)zt(r,s=>s instanceof fn&&s.name===i?R(void 0):s,He.None),r=r.prev}}function g4(n){for(let e of n.units)for(let t of e.update){if(t.kind!==x.StoreLet)continue;let i={kind:an.Identifier,name:null,identifier:t.declaredName,local:!0};q.replace(t,ds(n.allocateXrefId(),i,new Oc(t.target,t.value,t.sourceSpan),bi.None))}}function v4(n){if(!(!n.enableDebugLocations||n.relativeTemplatePath===null))for(let e of n.units){let t=[];for(let i of e.create)if(i.kind===x.ElementStart||i.kind===x.Element){let r=i.startSourceSpan.start;t.push({targetSlot:i.handle,offset:r.offset,line:r.line,column:r.col})}t.length>0&&e.create.push(mI(n.relativeTemplatePath,t))}}var x4=[{kind:Y.Tmpl,fn:aP},{kind:Y.Host,fn:v3},{kind:Y.Tmpl,fn:HM},{kind:Y.Tmpl,fn:fP},{kind:Y.Tmpl,fn:h4},{kind:Y.Both,fn:VI},{kind:Y.Both,fn:J5},{kind:Y.Both,fn:CI},{kind:Y.Both,fn:wI},{kind:Y.Tmpl,fn:BI},{kind:Y.Both,fn:zM},{kind:Y.Tmpl,fn:R5},{kind:Y.Both,fn:II},{kind:Y.Both,fn:oP},{kind:Y.Tmpl,fn:MI},{kind:Y.Tmpl,fn:uP},{kind:Y.Tmpl,fn:$I},{kind:Y.Tmpl,fn:$M},{kind:Y.Tmpl,fn:RI},{kind:Y.Tmpl,fn:B5},{kind:Y.Tmpl,fn:_I},{kind:Y.Tmpl,fn:bI},{kind:Y.Tmpl,fn:hP},{kind:Y.Both,fn:vP},{kind:Y.Tmpl,fn:p3},{kind:Y.Tmpl,fn:g4},{kind:Y.Tmpl,fn:h3},{kind:Y.Tmpl,fn:X5},{kind:Y.Both,fn:vI},{kind:Y.Both,fn:$5},{kind:Y.Tmpl,fn:i4},{kind:Y.Tmpl,fn:m4},{kind:Y.Both,fn:U5},{kind:Y.Tmpl,fn:jI},{kind:Y.Tmpl,fn:Y5},{kind:Y.Tmpl,fn:t4},{kind:Y.Both,fn:V5},{kind:Y.Both,fn:Q5},{kind:Y.Tmpl,fn:jM},{kind:Y.Both,fn:eP},{kind:Y.Both,fn:WI},{kind:Y.Both,fn:e4},{kind:Y.Both,fn:a4},{kind:Y.Both,fn:f4},{kind:Y.Tmpl,fn:K5},{kind:Y.Tmpl,fn:j5},{kind:Y.Tmpl,fn:q5},{kind:Y.Tmpl,fn:a3},{kind:Y.Tmpl,fn:OM},{kind:Y.Tmpl,fn:m3},{kind:Y.Both,fn:LI},{kind:Y.Tmpl,fn:F5},{kind:Y.Both,fn:r4},{kind:Y.Tmpl,fn:d3},{kind:Y.Both,fn:WM},{kind:Y.Tmpl,fn:FI},{kind:Y.Tmpl,fn:YM},{kind:Y.Tmpl,fn:ZM},{kind:Y.Tmpl,fn:zI},{kind:Y.Tmpl,fn:v4},{kind:Y.Tmpl,fn:JM},{kind:Y.Both,fn:gP},{kind:Y.Both,fn:N5},{kind:Y.Both,fn:AI}];function t_(n,e){for(let t of x4)(t.kind===e||t.kind===Y.Both)&&t.fn(n)}function b4(n,e){let t=i_(n.root);return n_(n.root,e),t}function n_(n,e){for(let t of n.job.units){if(t.parent!==n.xref)continue;n_(t,e);let i=i_(t);e.statements.push(i.toDeclStmt(i.name))}}function i_(n){if(n.fnName===null)throw new Error(`AssertionError: view ${n.xref} is unnamed`);let e=[];for(let s of n.create){if(s.kind!==x.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${x[s.kind]}`);e.push(s.statement)}let t=[];for(let s of n.update){if(s.kind!==x.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${x[s.kind]}`);t.push(s.statement)}let i=Dp(1,e),r=Dp(2,t);return ms([new ln("rf"),new ln("ctx")],[...i,...r],void 0,void 0,n.fnName)}function Dp(n,e){return e.length===0?[]:[Fp(new qe(te.BitwiseAnd,Ie("rf"),R(n)),e)]}function y4(n){if(n.root.fnName===null)throw new Error("AssertionError: host binding function is unnamed");let e=[];for(let s of n.root.create){if(s.kind!==x.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${x[s.kind]}`);e.push(s.statement)}let t=[];for(let s of n.root.update){if(s.kind!==x.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${x[s.kind]}`);t.push(s.statement)}if(e.length===0&&t.length===0)return null;let i=Dp(1,e),r=Dp(2,t);return ms([new ln("rf"),new ln("ctx")],[...i,...r],void 0,void 0,n.root.fnName)}var r_=li.TemplateDefinitionBuilder,lo=new Fa,co="ng-template";function J0(n){return n instanceof Mn}function _4(n){return J0(n)&&n.nodes.length===1&&n.nodes[0]instanceof tp}function w4(n,e,t,i,r,s,o,a,l){let c=new Vc(n,t,r_,i,r,s,o,a,l);return $r(c.root,e),c}function S4(n,e,t){let i=new bp(n.componentName,t,r_);for(let r of n.properties??[]){let s=le.Property;r.name.startsWith("attr.")&&(r.name=r.name.substring(5),s=le.Attribute),r.isAnimation&&(s=le.Animation);let o=e.calcPossibleSecurityContexts(n.componentSelector,r.name,s===le.Attribute).filter(a=>a!==ft.NONE);E4(i,r,s,o)}for(let[r,s]of Object.entries(n.attributes)??[]){let o=e.calcPossibleSecurityContexts(n.componentSelector,r,!0).filter(a=>a!==ft.NONE);C4(i,r,s,o)}for(let r of n.events??[])k4(i,r);return i}function E4(n,e,t,i){let r,s=e.expression.ast;s instanceof Yc?r=new Vt(s.strings,s.expressions.map(o=>Ce(o,n,e.sourceSpan)),[]):r=Ce(s,n,e.sourceSpan),n.root.update.push(bo(n.root.xref,t,e.name,r,null,i,!1,!1,null,null,e.sourceSpan))}function C4(n,e,t,i){let r=bo(n.root.xref,le.Attribute,e,t,null,i,!0,!1,null,null,t.sourceSpan);n.root.update.push(r)}function k4(n,e){let[t,i]=e.type!==Ci.Animation?[null,e.targetOrPhase]:[e.targetOrPhase,null],r=Og(n.root.xref,new zn,e.name,null,Vg(n.root,e.handler,e.handlerSpan),t,i,!0,e.sourceSpan);n.root.create.push(r)}function $r(n,e){for(let t of e)if(t instanceof lr)T4(n,t);else if(t instanceof ri)A4(n,t);else if(t instanceof Ia)I4(n,t);else if(t instanceof eo)s_(n,t,null);else if(t instanceof ka)o_(n,t,null);else if(t instanceof Jd)M4(n,t);else if(t instanceof Kd)P4(n,t);else if(t instanceof vo)D4(n,t);else if(t instanceof r2)L4(n,t);else if(t instanceof Aa)O4(n,t);else if(t instanceof Eg)F4(n,t);else throw new Error(`Unsupported template node: ${t.constructor.name}`)}function T4(n,e){if(e.i18n!==void 0&&!(e.i18n instanceof Mn||e.i18n instanceof vs))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let t=n.job.allocateXrefId(),[i,r]=qi(e.name),s=tI(r,t,F2(i),e.i18n instanceof vs?e.i18n:void 0,e.startSourceSpan,e.sourceSpan);n.create.push(s),V4(n,s,e),c_(s,e);let o=null;e.i18n instanceof Mn&&(o=n.job.allocateXrefId(),n.create.push(zp(o,e.i18n,void 0,e.startSourceSpan))),$r(n,e.children);let a=iI(t,e.endSourceSpan??e.startSourceSpan);n.create.push(a),o!==null&&q.insertBefore(Wp(o,e.endSourceSpan??e.startSourceSpan),a)}function A4(n,e){if(e.i18n!==void 0&&!(e.i18n instanceof Mn||e.i18n instanceof vs))throw Error(`Unhandled i18n metadata type for template: ${e.i18n.constructor.name}`);let t=n.job.allocateView(n.xref),i=e.tagName,r="";e.tagName&&([r,i]=qi(e.tagName));let s=e.i18n instanceof vs?e.i18n:void 0,o=F2(r),a=i===null?"":NI(i,o),l=B4(e)?si.NgTemplate:si.Structural,c=Up(t.xref,l,i,a,o,s,e.startSourceSpan,e.sourceSpan);n.create.push(c),$4(n,c,e,l),c_(c,e),$r(t,e.children);for(let{name:u,value:f}of e.variables)t.contextVariables.set(u,f!==""?f:"$implicit");if(l===si.NgTemplate&&e.i18n instanceof Mn){let u=n.job.allocateXrefId();q.insertAfter(zp(u,e.i18n,void 0,e.startSourceSpan),t.create.head),q.insertBefore(Wp(u,e.endSourceSpan??e.startSourceSpan),t.create.tail)}}function I4(n,e){if(e.i18n!==void 0&&!(e.i18n instanceof vs))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let t=null;e.children.some(s=>!(s instanceof Vp)&&(!(s instanceof eo)||s.value.trim().length>0))&&(t=n.job.allocateView(n.xref),$r(t,e.children));let i=n.job.allocateXrefId(),r=lI(i,e.selector,e.i18n,t?.xref??null,e.sourceSpan);for(let s of e.attributes){let o=lo.securityContext(e.name,s.name,!0);n.update.push(bo(r.xref,le.Attribute,s.name,R(s.value),null,o,!0,!1,null,Dr(s.i18n),s.sourceSpan))}n.create.push(r)}function s_(n,e,t){n.create.push(D2(n.job.allocateXrefId(),e.value,t,e.sourceSpan))}function o_(n,e,t){let i=e.value;if(i instanceof xi&&(i=i.ast),!(i instanceof Yc))throw new Error(`AssertionError: expected Interpolation for BoundText node, got ${i.constructor.name}`);if(e.i18n!==void 0&&!(e.i18n instanceof Nr))throw Error(`Unhandled i18n metadata type for text interpolation: ${e.i18n?.constructor.name}`);let r=e.i18n instanceof Nr?e.i18n.children.filter(a=>a instanceof kc).map(a=>a.name):[];if(r.length>0&&r.length!==i.expressions.length)throw Error(`Unexpected number of i18n placeholders (${i.expressions.length}) for BoundText with ${i.expressions.length} expressions`);let s=n.job.allocateXrefId();n.create.push(D2(s,"",t,e.sourceSpan));let o=n.job.compatibility?null:e.sourceSpan;n.update.push(jA(s,new Vt(i.strings,i.expressions.map(a=>Ce(a,n.job,o)),r),e.sourceSpan))}function M4(n,e){let t=null,i=[];for(let r=0;r<e.branches.length;r++){let s=e.branches[r],o=n.job.allocateView(n.xref),a=Np(n,o.xref,s);s.expressionAlias!==null&&o.contextVariables.set(s.expressionAlias.name,R2);let l;if(s.i18n!==void 0){if(!(s.i18n instanceof xs))throw Error(`Unhandled i18n metadata type for if block: ${s.i18n?.constructor.name}`);l=s.i18n}let c=Up(o.xref,si.Block,a,"Conditional",En.HTML,l,s.startSourceSpan,s.sourceSpan);n.create.push(c),t===null&&(t=o.xref);let u=s.expression?Ce(s.expression,n.job,null):null,f=new mp(u,c.xref,c.handle,s.expressionAlias);i.push(f),$r(o,s.children)}n.update.push(I2(t,null,i,e.sourceSpan))}function P4(n,e){if(e.cases.length===0)return;let t=null,i=[];for(let r of e.cases){let s=n.job.allocateView(n.xref),o=Np(n,s.xref,r),a;if(r.i18n!==void 0){if(!(r.i18n instanceof xs))throw Error(`Unhandled i18n metadata type for switch block: ${r.i18n?.constructor.name}`);a=r.i18n}let l=Up(s.xref,si.Block,o,"Case",En.HTML,a,r.startSourceSpan,r.sourceSpan);n.create.push(l),t===null&&(t=s.xref);let c=r.expression?Ce(r.expression,n.job,e.startSourceSpan):null,u=new mp(c,l.xref,l.handle);i.push(u),$r(s,r.children)}n.update.push(I2(t,Ce(e.expression,n.job,null),i,e.sourceSpan))}function md(n,e,t,i,r){if(t!==void 0&&!(t instanceof xs))throw Error("Unhandled i18n metadata type for defer block");if(i===void 0)return null;let s=n.job.allocateView(n.xref);$r(s,i);let o=Up(s.xref,si.Block,null,`Defer${e}`,En.HTML,t,r,r);return n.create.push(o),o}function D4(n,e){let t=null;if(n.job.deferMeta.mode===0){if(!n.job.deferMeta.blocks.has(e))throw new Error("AssertionError: unable to find a dependency function for this deferred block");t=n.job.deferMeta.blocks.get(e)??null}let i=md(n,"",e.i18n,e.children,e.sourceSpan),r=md(n,"Loading",e.loading?.i18n,e.loading?.children,e.loading?.sourceSpan),s=md(n,"Placeholder",e.placeholder?.i18n,e.placeholder?.children,e.placeholder?.sourceSpan),o=md(n,"Error",e.error?.i18n,e.error?.children,e.error?.sourceSpan),a=n.job.allocateXrefId(),l=cI(a,i.xref,i.handle,t,n.job.allDeferrableDepsFn,e.sourceSpan);l.placeholderView=s?.xref??null,l.placeholderSlot=s?.handle??null,l.loadingSlot=r?.handle??null,l.errorSlot=o?.handle??null,l.placeholderMinimumTime=e.placeholder?.minimumTime??null,l.loadingMinimumTime=e.loading?.minimumTime??null,l.loadingAfterTime=e.loading?.afterTime??null,l.flags=N4(e),n.create.push(l);let c=[],u=[];Vm("hydrate",e.hydrateTriggers,c,u,n,a),Vm("none",e.triggers,c,u,n,a),Vm("prefetch",e.prefetchTriggers,c,u,n,a),c.some(m=>m.modifier==="none")||u.some(m=>m.modifier==="none")||c.push(ss(a,{kind:tt.Idle},"none",null)),n.create.push(c),n.update.push(u)}function N4(n){return Object.keys(n.hydrateTriggers).length>0?1:null}function Vm(n,e,t,i,r,s){if(e.idle!==void 0){let o=ss(s,{kind:tt.Idle},n,e.idle.sourceSpan);t.push(o)}if(e.immediate!==void 0){let o=ss(s,{kind:tt.Immediate},n,e.immediate.sourceSpan);t.push(o)}if(e.timer!==void 0){let o=ss(s,{kind:tt.Timer,delay:e.timer.delay},n,e.timer.sourceSpan);t.push(o)}if(e.hover!==void 0){let o=ss(s,{kind:tt.Hover,targetName:e.hover.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},n,e.hover.sourceSpan);t.push(o)}if(e.interaction!==void 0){let o=ss(s,{kind:tt.Interaction,targetName:e.interaction.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},n,e.interaction.sourceSpan);t.push(o)}if(e.viewport!==void 0){let o=ss(s,{kind:tt.Viewport,targetName:e.viewport.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},n,e.viewport.sourceSpan);t.push(o)}if(e.never!==void 0){let o=ss(s,{kind:tt.Never},n,e.never.sourceSpan);t.push(o)}if(e.when!==void 0){if(e.when.value instanceof Yc)throw new Error("Unexpected interpolation in defer block when trigger");let o=ZA(s,Ce(e.when.value,r.job,e.when.sourceSpan),n,e.when.sourceSpan);i.push(o)}}function L4(n,e){if(e.i18n instanceof Mn&&_4(e.i18n)){let t=n.job.allocateXrefId();n.create.push(pI(t,e.i18n,a2(e.i18n).name,null));for(let[i,r]of Object.entries(L(L({},e.vars),e.placeholders)))r instanceof ka?o_(n,r,i):s_(n,r,i);n.create.push(hI(t))}else throw Error(`Unhandled i18n metadata type for ICU: ${e.i18n?.constructor.name}`)}function O4(n,e){let t=n.job.allocateView(n.xref),i=`\u0275$index_${t.xref}`,r=`\u0275$count_${t.xref}`,s=new Set;t.contextVariables.set(e.item.name,e.item.value);for(let k of e.contextVariables)k.value==="$index"&&s.add(k.name),k.name==="$index"?t.contextVariables.set("$index",k.value).set(i,k.value):k.name==="$count"?t.contextVariables.set("$count",k.value).set(r,k.value):t.aliases.add({kind:an.Alias,name:null,identifier:k.name,expression:R4(k,i,r)});let o=Xt(e.trackBy.span,e.sourceSpan),a=Ce(e.trackBy,n.job,o);$r(t,e.children);let l=null,c=null;e.empty!==null&&(l=n.job.allocateView(n.xref),$r(l,e.empty.children),c=Np(n,l.xref,e.empty));let u={$index:s,$implicit:e.item.name};if(e.i18n!==void 0&&!(e.i18n instanceof xs))throw Error("AssertionError: Unhandled i18n metadata type or @for");if(e.empty?.i18n!==void 0&&!(e.empty.i18n instanceof xs))throw Error("AssertionError: Unhandled i18n metadata type or @empty");let f=e.i18n,m=e.empty?.i18n,v=Np(n,t.xref,e),b=nI(t.xref,l?.xref??null,v,a,u,c,f,m,e.startSourceSpan,e.sourceSpan);n.create.push(b);let w=Ce(e.expression,n.job,Xt(e.expression.span,e.sourceSpan)),y=XA(b.xref,b.handle,w,e.sourceSpan);n.update.push(y)}function R4(n,e,t){switch(n.value){case"$index":return new fn(e);case"$count":return new fn(t);case"$first":return new fn(e).identical(R(0));case"$last":return new fn(e).identical(new fn(t).minus(R(1)));case"$even":return new fn(e).modulo(R(2)).identical(R(0));case"$odd":return new fn(e).modulo(R(2)).notIdentical(R(0));default:throw new Error(`AssertionError: unknown @for loop variable ${n.value}`)}}function F4(n,e){let t=n.job.allocateXrefId();n.create.push(uI(t,e.name,e.sourceSpan)),n.update.push(JA(t,e.name,Ce(e.value,n.job,e.valueSpan),e.sourceSpan))}function Ce(n,e,t){if(n instanceof xi)return Ce(n.ast,e,t);if(n instanceof go)return n.receiver instanceof Ei&&!(n.receiver instanceof mo)?new fn(n.name):new ai(Ce(n.receiver,e,t),n.name,null,Xt(n.span,t));if(n instanceof Od)return n.receiver instanceof Ei?new _a(new Br(e.root.xref),n.name,Ce(n.value,e,t),null,Xt(n.span,t)):new _a(Ce(n.receiver,e,t),n.name,Ce(n.value,e,t),void 0,Xt(n.span,t));if(n instanceof Bd)return new ac(Ce(n.receiver,e,t),Ce(n.key,e,t),Ce(n.value,e,t),void 0,Xt(n.span,t));if(n instanceof vc){if(n.receiver instanceof Ei)throw new Error("Unexpected ImplicitReceiver");return new Un(Ce(n.receiver,e,t),n.args.map(i=>Ce(i,e,t)),void 0,Xt(n.span,t))}else{if(n instanceof gi)return R(n.value,void 0,Xt(n.span,t));if(n instanceof mc)switch(n.operator){case"+":return new wa(oc.Plus,Ce(n.expr,e,t),void 0,Xt(n.span,t));case"-":return new wa(oc.Minus,Ce(n.expr,e,t),void 0,Xt(n.span,t));default:throw new Error(`AssertionError: unknown unary operator ${n.operator}`)}else if(n instanceof Fi){let i=PI.get(n.operation);if(i===void 0)throw new Error(`AssertionError: unknown binary operator ${n.operation}`);return new qe(i,Ce(n.left,e,t),Ce(n.right,e,t),void 0,Xt(n.span,t))}else{if(n instanceof mo)return new Br(e.root.xref);if(n instanceof fc)return new Fr(Ce(n.receiver,e,t),Ce(n.key,e,t),void 0,Xt(n.span,t));if(n instanceof Ca)throw new Error("AssertionError: Chain in unknown context");if(n instanceof jd){let i=n.keys.map((r,s)=>{let o=n.values[s];return new Sa(r.key,Ce(o,e,t),r.quoted)});return new ar(i,void 0,Xt(n.span,t))}else{if(n instanceof $d)return new $i(n.expressions.map(i=>Ce(i,e,t)));if(n instanceof Ld)return new Rr(Ce(n.condition,e,t),Ce(n.trueExp,e,t),Ce(n.falseExp,e,t),void 0,Xt(n.span,t));if(n instanceof gc)return Ce(n.expression,e,t);if(n instanceof Vd)return new Da(e.allocateXrefId(),new zn,n.name,[Ce(n.exp,e,t),...n.args.map(i=>Ce(i,e,t))]);if(n instanceof Fd)return new La(Ce(n.receiver,e,t),Ce(n.key,e,t),Xt(n.span,t));if(n instanceof Rd)return new Na(Ce(n.receiver,e,t),n.name);if(n instanceof Ud)return new _o(Ce(n.receiver,e,t),n.args.map(i=>Ce(i,e,t)));if(n instanceof jn)return new Fc(Xt(n.span,t));if(n instanceof qd)return Jk(Ce(n.expression,e,t),Xt(n.span,t));if(n instanceof Hd)return Gc(Ce(n.expression,e,t));if(n instanceof xc)return new cc(n.elements.map(i=>new kd(i.text,Xt(i.span,t))),n.expressions.map(i=>Ce(i,e,t)),Xt(n.span,t));throw new Error(`Unhandled expression type "${n.constructor.name}" in file "${t?.start.file.url}"`)}}}}function eg(n,e,t,i){let r;return e instanceof Yc?r=new Vt(e.strings,e.expressions.map(s=>Ce(s,n,null)),Object.keys(Dr(t)?.placeholders??{})):e instanceof At?r=Ce(e,n,null):r=R(e),r}var a_=new Map([[pt.Property,le.Property],[pt.TwoWay,le.TwoWayProperty],[pt.Attribute,le.Attribute],[pt.Class,le.ClassName],[pt.Style,le.StyleProperty],[pt.Animation,le.Animation]]);function B4(n){return qi(n.tagName??"")[1]===co}function Dr(n){if(n==null)return null;if(!(n instanceof Mn))throw Error(`Expected i18n meta to be a Message, but got: ${n.constructor.name}`);return n}function V4(n,e,t){let i=new Array,r=new Set;for(let s of t.attributes){let o=lo.securityContext(t.name,s.name,!0);i.push(bo(e.xref,le.Attribute,s.name,eg(n.job,s.value,s.i18n),null,o,!0,!1,null,Dr(s.i18n),s.sourceSpan)),s.i18n&&r.add(s.name)}for(let s of t.inputs)r.has(s.name)&&console.error(`On component ${n.job.componentName}, the binding ${s.name} is both an i18n attribute and a property. You may want to remove the property binding. This will become a compilation error in future versions of Angular.`),i.push(bo(e.xref,a_.get(s.type),s.name,eg(n.job,Uc(s.value),s.i18n),s.unit,s.securityContext,!1,!1,null,Dr(s.i18n)??null,s.sourceSpan));n.create.push(i.filter(s=>s?.kind===x.ExtractedAttribute)),n.update.push(i.filter(s=>s?.kind===x.Binding));for(let s of t.outputs){if(s.type===Ci.Animation&&s.phase===null)throw Error("Animation listener should have a phase");s.type===Ci.TwoWay?n.create.push(N2(e.xref,e.handle,s.name,e.tag,l_(n,s.handler,s.handlerSpan),s.sourceSpan)):n.create.push(Og(e.xref,e.handle,s.name,e.tag,Vg(n,s.handler,s.handlerSpan),s.phase,s.target,!1,s.sourceSpan))}i.some(s=>s?.i18nMessage)!==null&&n.create.push(O2(n.job.allocateXrefId(),new zn,e.xref))}function $4(n,e,t,i){let r=new Array;for(let s of t.templateAttrs)if(s instanceof Ta){let o=lo.securityContext(co,s.name,!0);r.push(gd(n,e.xref,pt.Attribute,s.name,s.value,null,o,!0,i,Dr(s.i18n),s.sourceSpan))}else r.push(gd(n,e.xref,s.type,s.name,Uc(s.value),s.unit,s.securityContext,!0,i,Dr(s.i18n),s.sourceSpan));for(let s of t.attributes){let o=lo.securityContext(co,s.name,!0);r.push(gd(n,e.xref,pt.Attribute,s.name,s.value,null,o,!1,i,Dr(s.i18n),s.sourceSpan))}for(let s of t.inputs)r.push(gd(n,e.xref,s.type,s.name,Uc(s.value),s.unit,s.securityContext,!1,i,Dr(s.i18n),s.sourceSpan));n.create.push(r.filter(s=>s?.kind===x.ExtractedAttribute)),n.update.push(r.filter(s=>s?.kind===x.Binding));for(let s of t.outputs){if(s.type===Ci.Animation&&s.phase===null)throw Error("Animation listener should have a phase");if(i===si.NgTemplate&&(s.type===Ci.TwoWay?n.create.push(N2(e.xref,e.handle,s.name,e.tag,l_(n,s.handler,s.handlerSpan),s.sourceSpan)):n.create.push(Og(e.xref,e.handle,s.name,e.tag,Vg(n,s.handler,s.handlerSpan),s.phase,s.target,!1,s.sourceSpan))),i===si.Structural&&s.type!==Ci.Animation){let o=lo.securityContext(co,s.name,!1);n.create.push(yi(e.xref,le.Property,null,s.name,null,null,null,o))}}r.some(s=>s?.i18nMessage)!==null&&n.create.push(O2(n.job.allocateXrefId(),new zn,e.xref))}function gd(n,e,t,i,r,s,o,a,l,c,u){let f=typeof r=="string";if(l===si.Structural){if(!a)switch(t){case pt.Property:case pt.Class:case pt.Style:return yi(e,le.Property,null,i,null,null,c,o);case pt.TwoWay:return yi(e,le.TwoWayProperty,null,i,null,null,c,o)}if(!f&&(t===pt.Attribute||t===pt.Animation))return null}let m=a_.get(t);return l===si.NgTemplate&&(t===pt.Class||t===pt.Style||t===pt.Attribute&&!f)&&(m=le.Property),bo(e,m,i,eg(n.job,r,c),s,o,f,a,l,c,u)}function Vg(n,e,t){e=Uc(e);let i=new Array,r=e instanceof Ca?e.expressions:[e];if(r.length===0)throw new Error("Expected listener to have non-empty expression list.");let s=r.map(a=>Ce(a,n.job,t)),o=s.pop();return i.push(...s.map(a=>Hi(new Ti(a,a.sourceSpan)))),i.push(Hi(new Cn(o,o.sourceSpan))),i}function l_(n,e,t){e=Uc(e);let i=new Array;if(e instanceof Ca)if(e.expressions.length===1)e=e.expressions[0];else throw new Error("Expected two-way listener to have a single expression.");let r=Ce(e,n.job,t),s=new fn("$event"),o=new pp(r,s);return i.push(Hi(new Ti(o))),i.push(Hi(new Cn(s))),i}function Uc(n){return n instanceof xi?n.ast:n}function c_(n,e){j4(n.localRefs);for(let{name:t,value:i}of e.references)n.localRefs.push({name:t,target:i})}function j4(n){if(!Array.isArray(n))throw new Error("AssertionError: expected an array")}function Xt(n,e){if(e===null)return null;let t=e.start.moveBy(n.start),i=e.start.moveBy(n.end),r=e.fullStart.moveBy(n.start);return new we(t,i,r)}function Np(n,e,t){let i=null;for(let r of t.children)if(!(r instanceof Vp||r instanceof Eg)){if(i!==null)return null;if(r instanceof lr||r instanceof ri&&r.tagName!==null)i=r;else return null}if(i!==null){for(let s of i.attributes){let o=lo.securityContext(co,s.name,!0);n.update.push(bo(e,le.Attribute,s.name,R(s.value),null,o,!0,!1,null,Dr(s.i18n),s.sourceSpan))}for(let s of i.inputs)if(s.type!==pt.Animation&&s.type!==pt.Attribute){let o=lo.securityContext(co,s.name,!0);n.create.push(yi(e,le.Property,null,s.name,null,null,null,o))}let r=i instanceof lr?i.name:i.tagName;return r===co?null:r}return null}var q4=!1;function H4(){return q4}function Lp(n,e){return Fp(Ie(Tg).bitwiseAnd(R(n),null,!1),e)}function U4(n){return(n.descendants?1:0)|(n.static?2:0)|(n.emitDistinctChangesOnly?4:0)}function z4(n,e){if(Array.isArray(n.predicate)){let t=[];return n.predicate.forEach(i=>{let r=i.split(",").map(s=>R(s.trim()));t.push(...r)}),e.getConstLiteral(We(t),!0)}else switch(n.predicate.forwardRef){case 0:case 2:return n.predicate.expression;case 1:return ce(C.resolveForwardRef).callFn([n.predicate.expression])}}function u_(n,e,t,i){let r=[];i!==void 0&&r.push(...i),n.isSignal&&r.push(new ai(Ie(Tc),n.propertyName)),r.push(z4(n,e),R(U4(n))),n.read&&r.push(n.read);let s=n.isSignal?t.signalBased:t.nonSignal;return ce(s).callFn(r)}var $g=Symbol("queryAdvancePlaceholder");function d_(n){let e=[],t=0,i=()=>{t>0&&(e.unshift(ce(C.queryAdvance).callFn(t===1?[]:[R(t)]).toStmt()),t=0)};for(let r=n.length-1;r>=0;r--){let s=n[r];s===$g?t++:(i(),e.unshift(s))}return i(),e}function W4(n,e,t){let i=[],r=[],s=l2(a=>r.push(a),kg);n.forEach(a=>{let l=u_(a,e,{signalBased:C.viewQuerySignal,nonSignal:C.viewQuery});if(i.push(l.toStmt()),a.isSignal){r.push($g);return}let c=s(),u=ce(C.loadQuery).callFn([]),f=ce(C.queryRefresh).callFn([c.set(u)]),m=Ie(Tc).prop(a.propertyName).set(a.first?c.prop("first"):c);r.push(f.and(m).toStmt())});let o=t?`${t}_Query`:null;return ms([new ln(Tg,_g),new ln(Tc,null)],[Lp(1,i),Lp(2,d_(r))],_i,null,o)}function Q4(n,e,t){let i=[],r=[],s=l2(a=>r.push(a),kg);for(let a of n){if(i.push(u_(a,e,{nonSignal:C.contentQuery,signalBased:C.contentQuerySignal},[Ie("dirIndex")]).toStmt()),a.isSignal){r.push($g);continue}let l=s(),c=ce(C.loadQuery).callFn([]),u=ce(C.queryRefresh).callFn([l.set(c)]),f=Ie(Tc).prop(a.propertyName).set(a.first?l.prop("first"):l);r.push(u.and(f).toStmt())}let o=t?`${t}_ContentQueries`:null;return ms([new ln(Tg,_g),new ln(Tc,null),new ln("dirIndex",null)],[Lp(1,i),Lp(2,d_(r))],_i,null,o)}var tg=class extends P3{constructor(){super(Q2)}parse(e,t,i){return super.parse(e,t,i)}},My=".",G4="attr",Y4="class",X4="style",Z4="*",$m="animate-",ng=class{_exprParser;_interpolationConfig;_schemaRegistry;errors;constructor(e,t,i,r){this._exprParser=e,this._interpolationConfig=t,this._schemaRegistry=i,this.errors=r}get interpolationConfig(){return this._interpolationConfig}createBoundHostProperties(e,t){let i=[];for(let r of Object.keys(e)){let s=e[r];typeof s=="string"?this.parsePropertyBinding(r,s,!0,!1,t,t.start.offset,void 0,[],i,t):this._reportError(`Value of the host property binding "${r}" needs to be a string representing an expression but got "${s}" (${typeof s})`,t)}return i}createDirectiveHostEventAsts(e,t){let i=[];for(let r of Object.keys(e)){let s=e[r];typeof s=="string"?this.parseEvent(r,s,!1,t,t,[],i,t):this._reportError(`Value of the host listener "${r}" needs to be a string representing an expression but got "${s}" (${typeof s})`,t)}return i}parseInterpolation(e,t,i){let r=t.start.toString(),s=t.fullStart.offset;try{let o=this._exprParser.parseInterpolation(e,r,s,i,this._interpolationConfig);return o&&this._reportExpressionParserErrors(o.errors,t),o}catch(o){return this._reportError(`${o}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",r,s)}}parseInterpolationExpression(e,t){let i=t.start.toString(),r=t.start.offset;try{let s=this._exprParser.parseInterpolationExpression(e,i,r);return s&&this._reportExpressionParserErrors(s.errors,t),s}catch(s){return this._reportError(`${s}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",i,r)}}parseInlineTemplateBinding(e,t,i,r,s,o,a,l){let c=i.start.offset+Z4.length,u=this._parseTemplateBindings(e,t,i,c,r);for(let f of u){let m=is(i,f.sourceSpan),v=f.key.source,b=is(i,f.key.span);if(f instanceof bc){let w=f.value?f.value.source:"$implicit",y=f.value?is(i,f.value.span):void 0;a.push(new s0(v,w,m,b,y))}else if(f.value){let w=l?m:i,y=is(i,f.value.ast.sourceSpan);this._parsePropertyAst(v,f.value,!1,w,b,y,s,o)}else s.push([v,""]),this.parseLiteralAttr(v,null,b,r,void 0,s,o,b)}}_parseTemplateBindings(e,t,i,r,s){let o=i.start.toString();try{let a=this._exprParser.parseTemplateBindings(e,t,o,r,s);return this._reportExpressionParserErrors(a.errors,i),a.warnings.forEach(l=>{this._reportError(l,i,ps.WARNING)}),a.templateBindings}catch(a){return this._reportError(`${a}`,i),[]}}parseLiteralAttr(e,t,i,r,s,o,a,l){jm(e)?(e=e.substring(1),l!==void 0&&(l=is(l,new ii(l.start.offset+1,l.end.offset))),t&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',i,ps.ERROR),this._parseAnimation(e,t,i,r,l,s,o,a)):a.push(new Kl(e,this._exprParser.wrapLiteralPrimitive(t,"",r),cs.LITERAL_ATTR,i,l,s))}parsePropertyBinding(e,t,i,r,s,o,a,l,c,u){e.length===0&&this._reportError("Property name is missing in binding",s);let f=!1;e.startsWith($m)?(f=!0,e=e.substring($m.length),u!==void 0&&(u=is(u,new ii(u.start.offset+$m.length,u.end.offset)))):jm(e)&&(f=!0,e=e.substring(1),u!==void 0&&(u=is(u,new ii(u.start.offset+1,u.end.offset)))),f?this._parseAnimation(e,t,s,o,u,a,l,c):this._parsePropertyAst(e,this.parseBinding(t,i,a||s,o),r,s,u,a,l,c)}parsePropertyInterpolation(e,t,i,r,s,o,a,l){let c=this.parseInterpolation(t,r||i,l);return c?(this._parsePropertyAst(e,c,!1,i,a,r,s,o),!0):!1}_parsePropertyAst(e,t,i,r,s,o,a,l){a.push([e,t.source]),l.push(new Kl(e,t,i?cs.TWO_WAY:cs.DEFAULT,r,s,o))}_parseAnimation(e,t,i,r,s,o,a,l){e.length===0&&this._reportError("Animation trigger is missing",i);let c=this.parseBinding(t||"undefined",!1,o||i,r);a.push([e,c.source]),l.push(new Kl(e,c,cs.ANIMATION,i,s,o))}parseBinding(e,t,i,r){let s=(i&&i.start||"(unknown)").toString();try{let o=t?this._exprParser.parseSimpleBinding(e,s,r,this._interpolationConfig):this._exprParser.parseBinding(e,s,r,this._interpolationConfig);return o&&this._reportExpressionParserErrors(o.errors,i),o}catch(o){return this._reportError(`${o}`,i),this._exprParser.wrapLiteralPrimitive("ERROR",s,r)}}createBoundElementProperty(e,t,i=!1,r=!0){if(t.isAnimation)return new Gd(t.name,pt.Animation,ft.NONE,t.expression,null,t.sourceSpan,t.keySpan,t.valueSpan);let s=null,o,a=null,l=t.name.split(My),c;if(l.length>1)if(l[0]==G4){a=l.slice(1).join(My),i||this._validatePropertyOrAttributeName(a,t.sourceSpan,!0),c=qm(this._schemaRegistry,e,a,!0);let u=a.indexOf(":");if(u>-1){let f=a.substring(0,u),m=a.substring(u+1);a=l0(f,m)}o=pt.Attribute}else l[0]==Y4?(a=l[1],o=pt.Class,c=[ft.NONE]):l[0]==X4&&(s=l.length>2?l[2]:null,a=l[1],o=pt.Style,c=[ft.STYLE]);if(a===null){let u=this._schemaRegistry.getMappedPropName(t.name);a=r?u:t.name,c=qm(this._schemaRegistry,e,u,!1),o=t.type===cs.TWO_WAY?pt.TwoWay:pt.Property,i||this._validatePropertyOrAttributeName(u,t.sourceSpan,!1)}return new Gd(a,o,c[0],t.expression,s,t.sourceSpan,t.keySpan,t.valueSpan)}parseEvent(e,t,i,r,s,o,a,l){e.length===0&&this._reportError("Event name is missing in binding",r),jm(e)?(e=e.slice(1),l!==void 0&&(l=is(l,new ii(l.start.offset+1,l.end.offset))),this._parseAnimationEvent(e,t,r,s,a,l)):this._parseRegularEvent(e,t,i,r,s,o,a,l)}calcPossibleSecurityContexts(e,t,i){let r=this._schemaRegistry.getMappedPropName(t);return qm(this._schemaRegistry,e,r,i)}_parseAnimationEvent(e,t,i,r,s,o){let a=uT(e,[e,""]),l=a[0],c=a[1].toLowerCase(),u=this._parseAction(t,r);s.push(new Qd(l,c,Ci.Animation,u,i,r,o)),l.length===0&&this._reportError("Animation event name is missing in binding",i),c?c!=="start"&&c!=="done"&&this._reportError(`The provided animation output phase value "${c}" for "@${l}" is not supported (use start or done)`,i):this._reportError(`The animation trigger output event (@${l}) is missing its phase value name (start or done are currently supported)`,i)}_parseRegularEvent(e,t,i,r,s,o,a,l){let[c,u]=cT(e,[null,e]),f=this.errors.length,m=this._parseAction(t,s),v=this.errors.length===f;o.push([e,m.source]),i&&v&&!this._isAllowedAssignmentEvent(m)&&this._reportError("Unsupported expression in a two-way binding",r),a.push(new Qd(u,c,i?Ci.TwoWay:Ci.Regular,m,r,s,l))}_parseAction(e,t){let i=(t&&t.start||"(unknown").toString(),r=t&&t.start?t.start.offset:0;try{let s=this._exprParser.parseAction(e,i,r,this._interpolationConfig);return s&&this._reportExpressionParserErrors(s.errors,t),!s||s.ast instanceof jn?(this._reportError("Empty expressions are not allowed",t),this._exprParser.wrapLiteralPrimitive("ERROR",i,r)):s}catch(s){return this._reportError(`${s}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",i,r)}}_reportError(e,t,i=ps.ERROR,r){this.errors.push(new be(t,e,i,r))}_reportExpressionParserErrors(e,t){for(let i of e)this._reportError(i.message,t,void 0,i)}_validatePropertyOrAttributeName(e,t,i){let r=i?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);r.error&&this._reportError(r.msg,t,ps.ERROR)}_isAllowedAssignmentEvent(e){return e instanceof xi?this._isAllowedAssignmentEvent(e.ast):e instanceof gc?this._isAllowedAssignmentEvent(e.expression):e instanceof vc&&e.args.length===1&&e.receiver instanceof go&&e.receiver.name==="$any"&&e.receiver.receiver instanceof Ei&&!(e.receiver.receiver instanceof mo)?this._isAllowedAssignmentEvent(e.args[0]):e instanceof go||e instanceof fc}};function jm(n){return n[0]=="@"}function qm(n,e,t,i){let r=[];return ba.parse(e).forEach(s=>{let o=s.element?[s.element]:n.allKnownElementNames(),a=new Set(s.notSelectors.filter(c=>c.isElementSelector()).map(c=>c.element)),l=o.filter(c=>!a.has(c));r.push(...l.map(c=>n.securityContext(c,t,i)))}),r.length===0?[ft.NONE]:Array.from(new Set(r)).sort()}function is(n,e){let t=e.start-n.start.offset,i=e.end-n.end.offset;return new we(n.start.moveBy(t),n.end.moveBy(i),n.fullStart.moveBy(t),n.details)}function K4(n){if(n==null||n.length===0||n[0]=="/")return!1;let e=n.match(J4);return e===null||e[1]=="package"||e[1]=="asset"}var J4=/^([^:/?#]+):/,eD="select",tD="link",nD="rel",iD="href",rD="stylesheet",sD="style",oD="script",aD="ngNonBindable",lD="ngProjectAs";function p_(n){let e=null,t=null,i=null,r=!1,s="";n.attrs.forEach(l=>{let c=l.name.toLowerCase();c==eD?e=l.value:c==iD?t=l.value:c==nD?i=l.value:l.name==aD?r=!0:l.name==lD&&l.value.length>0&&(s=l.value)}),e=cD(e);let o=n.name.toLowerCase(),a=ni.OTHER;return o0(o)?a=ni.NG_CONTENT:o==sD?a=ni.STYLE:o==oD?a=ni.SCRIPT:o==tD&&i==rD&&(a=ni.STYLESHEET),new ig(a,e,t,r,s)}var ni=function(n){return n[n.NG_CONTENT=0]="NG_CONTENT",n[n.STYLE=1]="STYLE",n[n.STYLESHEET=2]="STYLESHEET",n[n.SCRIPT=3]="SCRIPT",n[n.OTHER=4]="OTHER",n}(ni||{}),ig=class{type;selectAttr;hrefAttr;nonBindable;projectAs;constructor(e,t,i,r,s){this.type=e,this.selectAttr=t,this.hrefAttr=i,this.nonBindable=r,this.projectAs=s}};function cD(n){return n===null||n.length===0?"*":n}var uD=/^\s*([0-9A-Za-z_$]*)\s+of\s+([\S\s]*)/,dD=/^track\s+([\S\s]*)/,pD=/^(as\s+)(.*)/,jg=/^else[^\S\r\n]+if/,hD=/^let\s+([\S\s]*)/,fD=/^[$A-Z_][0-9A-Z_$]*$/i,Py=/(\s*)(\S+)(\s*)/,sc=new Set(["$index","$first","$last","$even","$odd","$count"]);function Dy(n){return n==="empty"}function Ny(n){return n==="else"||jg.test(n)}function mD(n,e,t,i){let r=yD(e),s=[],o=Ly(n,r,i);o!==null&&s.push(new ro(o.expression,Lt(t,n.children,n.children),o.expressionAlias,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.nameSpan,n.i18n));for(let f of e)if(jg.test(f.name)){let m=Ly(f,r,i);if(m!==null){let v=Lt(t,f.children,f.children);s.push(new ro(m.expression,v,m.expressionAlias,f.sourceSpan,f.startSourceSpan,f.endSourceSpan,f.nameSpan,f.i18n))}}else if(f.name==="else"){let m=Lt(t,f.children,f.children);s.push(new ro(null,m,null,f.sourceSpan,f.startSourceSpan,f.endSourceSpan,f.nameSpan,f.i18n))}let a=s.length>0?s[0].startSourceSpan:n.startSourceSpan,l=s.length>0?s[s.length-1].endSourceSpan:n.endSourceSpan,c=n.sourceSpan,u=s[s.length-1];return u!==void 0&&(c=new we(a.start,u.sourceSpan.end)),{node:new Jd(s,c,n.startSourceSpan,l,n.nameSpan),errors:r}}function gD(n,e,t,i){let r=[],s=xD(n,r,i),o=null,a=null;for(let l of e)l.name==="empty"?a!==null?r.push(new be(l.sourceSpan,"@for loop can only have one @empty block")):l.parameters.length>0?r.push(new be(l.sourceSpan,"@empty block cannot have parameters")):a=new Ec(Lt(t,l.children,l.children),l.sourceSpan,l.startSourceSpan,l.endSourceSpan,l.nameSpan,l.i18n):r.push(new be(l.sourceSpan,`Unrecognized @for loop block "${l.name}"`));if(s!==null)if(s.trackBy===null)r.push(new be(n.startSourceSpan,'@for loop must have a "track" expression'));else{let l=a?.endSourceSpan??n.endSourceSpan,c=new we(n.sourceSpan.start,l?.end??n.sourceSpan.end);o=new Aa(s.itemName,s.expression,s.trackBy.expression,s.trackBy.keywordSpan,s.context,Lt(t,n.children,n.children),a,c,n.sourceSpan,n.startSourceSpan,l,n.nameSpan,n.i18n)}return{node:o,errors:r}}function vD(n,e,t){let i=_D(n),r=n.parameters.length>0?zc(n.parameters[0],t):t.parseBinding("",!1,n.sourceSpan,0),s=[],o=[],a=null;for(let l of n.children){if(!(l instanceof vi))continue;if((l.name!=="case"||l.parameters.length===0)&&l.name!=="default"){o.push(new ep(l.name,l.sourceSpan,l.nameSpan));continue}let c=l.name==="case"?zc(l.parameters[0],t):null,u=new Sc(c,Lt(e,l.children,l.children),l.sourceSpan,l.startSourceSpan,l.endSourceSpan,l.nameSpan,l.i18n);c===null?a=u:s.push(u)}return a!==null&&s.push(a),{node:new Kd(r,s,o,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.nameSpan),errors:i}}function xD(n,e,t){if(n.parameters.length===0)return e.push(new be(n.startSourceSpan,"@for loop does not have an expression")),null;let[i,...r]=n.parameters,s=wD(i,e)?.match(uD);if(!s||s[2].trim().length===0)return e.push(new be(i.sourceSpan,'Cannot parse expression. @for loop expression must match the pattern "<identifier> of <expression>"')),null;let[,o,a]=s;sc.has(o)&&e.push(new be(i.sourceSpan,`@for loop item name cannot be one of ${Array.from(sc).join(", ")}.`));let l=i.expression.split(" ")[0],c=new we(i.sourceSpan.start,i.sourceSpan.start.moveBy(l.length)),u={itemName:new gs(o,"$implicit",c,c),trackBy:null,expression:zc(i,t,a),context:Array.from(sc,f=>{let m=new we(n.startSourceSpan.end,n.startSourceSpan.end);return new gs(f,f,m,m)})};for(let f of r){let m=f.expression.match(hD);if(m!==null){let b=new we(f.sourceSpan.start.moveBy(m[0].length-m[1].length),f.sourceSpan.end);bD(f.sourceSpan,m[1],b,o,u.context,e);continue}let v=f.expression.match(dD);if(v!==null){if(u.trackBy!==null)e.push(new be(f.sourceSpan,'@for loop can only have one "track" expression'));else{let b=zc(f,t,v[1]);b.ast instanceof jn&&e.push(new be(n.startSourceSpan,'@for loop must have a "track" expression'));let w=new we(f.sourceSpan.start,f.sourceSpan.start.moveBy(5));u.trackBy={expression:b,keywordSpan:w}}continue}e.push(new be(f.sourceSpan,`Unrecognized @for loop parameter "${f.expression}"`))}return u}function bD(n,e,t,i,r,s){let o=e.split(","),a=t.start;for(let l of o){let c=l.split("="),u=c.length===2?c[0].trim():"",f=c.length===2?c[1].trim():"";if(u.length===0||f.length===0)s.push(new be(n,'Invalid @for loop "let" parameter. Parameter should match the pattern "<name> = <variable name>"'));else if(!sc.has(f))s.push(new be(n,`Unknown "let" parameter variable "${f}". The allowed variables are: ${Array.from(sc).join(", ")}`));else if(u===i)s.push(new be(n,`Invalid @for loop "let" parameter. Variable cannot be called "${i}"`));else if(r.some(m=>m.name===u))s.push(new be(n,`Duplicate "let" parameter variable "${f}"`));else{let[,m,v]=c[0].match(Py)??[],b=m!==void 0&&c.length===2?new we(a.moveBy(m.length),a.moveBy(m.length+v.length)):t,w;if(c.length===2){let[,k,I]=c[1].match(Py)??[];w=k!==void 0?new we(a.moveBy(c[0].length+1+k.length),a.moveBy(c[0].length+1+k.length+I.length)):void 0}let y=new we(b.start,w?.end??b.end);r.push(new gs(u,f,y,b,w))}a=a.moveBy(l.length+1)}}function yD(n){let e=[],t=!1;for(let i=0;i<n.length;i++){let r=n[i];r.name==="else"?(t?e.push(new be(r.startSourceSpan,"Conditional can only have one @else block")):n.length>1&&i<n.length-1?e.push(new be(r.startSourceSpan,"@else block must be last inside the conditional")):r.parameters.length>0&&e.push(new be(r.startSourceSpan,"@else block cannot have parameters")),t=!0):jg.test(r.name)||e.push(new be(r.startSourceSpan,`Unrecognized conditional block @${r.name}`))}return e}function _D(n){let e=[],t=!1;if(n.parameters.length!==1)return e.push(new be(n.startSourceSpan,"@switch block must have exactly one parameter")),e;for(let i of n.children)if(!(i instanceof $c||i instanceof wo&&i.value.trim().length===0)){if(!(i instanceof vi)||i.name!=="case"&&i.name!=="default"){e.push(new be(i.sourceSpan,"@switch block can only contain @case and @default blocks"));continue}i.name==="default"?(t?e.push(new be(i.startSourceSpan,"@switch block can only have one @default block")):i.parameters.length>0&&e.push(new be(i.startSourceSpan,"@default block cannot have parameters")),t=!0):i.name==="case"&&i.parameters.length!==1&&e.push(new be(i.startSourceSpan,"@case block must have exactly one parameter"))}return e}function zc(n,e,t){let i,r;return typeof t=="string"?(i=Math.max(0,n.expression.lastIndexOf(t)),r=i+t.length):(i=0,r=n.expression.length),e.parseBinding(n.expression.slice(i,r),!1,n.sourceSpan,n.sourceSpan.start.offset+i)}function Ly(n,e,t){if(n.parameters.length===0)return e.push(new be(n.startSourceSpan,"Conditional block does not have an expression")),null;let i=zc(n.parameters[0],t),r=null;for(let s=1;s<n.parameters.length;s++){let o=n.parameters[s],a=o.expression.match(pD);if(a===null)e.push(new be(o.sourceSpan,`Unrecognized conditional parameter "${o.expression}"`));else if(n.name!=="if")e.push(new be(o.sourceSpan,'"as" expression is only allowed on the primary @if block'));else if(r!==null)e.push(new be(o.sourceSpan,'Conditional can only have one "as" expression'));else{let l=a[2].trim();if(fD.test(l)){let c=o.sourceSpan.start.moveBy(a[1].length),u=new we(c,c.moveBy(l.length));r=new gs(l,l,u,u)}else e.push(new be(o.sourceSpan,'"as" expression must be a valid JavaScript identifier'))}}return{expression:i,expressionAlias:r}}function wD(n,e){let t=n.expression,i=/^\s$/,r=0,s=0,o=t.length-1;for(let a=0;a<t.length;a++){let l=t[a];if(l==="(")s=a+1,r++;else{if(i.test(l))continue;break}}if(r===0)return t;for(let a=t.length-1;a>-1;a--){let l=t[a];if(l===")"){if(o=a,r--,r===0)break}else{if(i.test(l))continue;break}}return r!==0?(e.push(new be(n.sourceSpan,"Unclosed parentheses in expression")),null):t.slice(s,o)}var SD=/^\d+\.?\d*(ms|s)?$/,ED=/^\s$/,Oy=new Map([[Bi,qn],[va,pa],[Lr,Vi]]),Hn=function(n){return n.IDLE="idle",n.TIMER="timer",n.INTERACTION="interaction",n.IMMEDIATE="immediate",n.HOVER="hover",n.VIEWPORT="viewport",n.NEVER="never",n}(Hn||{});function CD({expression:n,sourceSpan:e},t,i){let r=n.indexOf("never"),s=new we(e.start.moveBy(r),e.start.moveBy(r+5)),o=qg(n,e),a=Hg(n,e);r===-1?i.push(new be(e,'Could not find "never" keyword in expression')):Ug("never",t,i,new p0(s,e,o,null,a))}function Hm({expression:n,sourceSpan:e},t,i,r){let s=n.indexOf("when"),o=new we(e.start.moveBy(s),e.start.moveBy(s+4)),a=qg(n,e),l=Hg(n,e);if(s===-1)r.push(new be(e,'Could not find "when" keyword in expression'));else{let c=Wc(n,s+1),u=t.parseBinding(n.slice(c),!1,e,e.start.offset+c);Ug("when",i,r,new d0(u,e,a,o,l))}}function Um({expression:n,sourceSpan:e},t,i,r){let s=n.indexOf("on"),o=new we(e.start.moveBy(s),e.start.moveBy(s+2)),a=qg(n,e),l=Hg(n,e);if(s===-1)i.push(new be(e,'Could not find "on" keyword in expression'));else{let c=Wc(n,s+1);new rg(n,c,e,t,i,n.startsWith("hydrate")?ND:DD,r,a,o,l).parse()}}function qg(n,e){return n.startsWith("prefetch")?new we(e.start,e.start.moveBy(8)):null}function Hg(n,e){return n.startsWith("hydrate")?new we(e.start,e.start.moveBy(7)):null}var rg=class{expression;start;span;triggers;errors;validator;placeholder;prefetchSpan;onSourceSpan;hydrateSpan;index=0;tokens;constructor(e,t,i,r,s,o,a,l,c,u){this.expression=e,this.start=t,this.span=i,this.triggers=r,this.errors=s,this.validator=o,this.placeholder=a,this.prefetchSpan=l,this.onSourceSpan=c,this.hydrateSpan=u,this.tokens=new Hc().tokenize(e.slice(t))}parse(){for(;this.tokens.length>0&&this.index<this.tokens.length;){let e=this.token();if(!e.isIdentifier()){this.unexpectedToken(e);break}if(this.isFollowedByOrLast(wi))this.consumeTrigger(e,[]),this.advance();else if(this.isFollowedByOrLast(Lr)){this.advance();let t=this.errors.length,i=this.consumeParameters();if(this.errors.length!==t)break;this.consumeTrigger(e,i),this.advance()}else this.index<this.tokens.length-1&&this.unexpectedToken(this.tokens[this.index+1]);this.advance()}}advance(){this.index++}isFollowedByOrLast(e){return this.index===this.tokens.length-1?!0:this.tokens[this.index+1].isCharacter(e)}token(){return this.tokens[Math.min(this.index,this.tokens.length-1)]}consumeTrigger(e,t){let i=this.span.start.moveBy(this.start+e.index-this.tokens[0].index),r=new we(i,i.moveBy(e.strValue.length)),s=i.moveBy(this.token().end-e.index),o=e.index===0,a=o?this.onSourceSpan:null,l=o?this.prefetchSpan:null,c=o?this.hydrateSpan:null,u=new we(o?this.span.start:i,s);try{switch(e.toString()){case Hn.IDLE:this.trackTrigger("idle",kD(t,r,u,l,a,c));break;case Hn.TIMER:this.trackTrigger("timer",TD(t,r,u,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan));break;case Hn.INTERACTION:this.trackTrigger("interaction",MD(t,r,u,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.placeholder,this.validator));break;case Hn.IMMEDIATE:this.trackTrigger("immediate",AD(t,r,u,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan));break;case Hn.HOVER:this.trackTrigger("hover",ID(t,r,u,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.placeholder,this.validator));break;case Hn.VIEWPORT:this.trackTrigger("viewport",PD(t,r,u,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.placeholder,this.validator));break;default:throw new Error(`Unrecognized trigger type "${e}"`)}}catch(f){this.error(e,f.message)}}consumeParameters(){let e=[];if(!this.token().isCharacter(Lr))return this.unexpectedToken(this.token()),e;this.advance();let t=[],i="";for(;this.index<this.tokens.length;){let r=this.token();if(r.isCharacter(Vi)&&t.length===0){i.length&&e.push(i);break}if(r.type===Ne.Character&&Oy.has(r.numValue)&&t.push(Oy.get(r.numValue)),t.length>0&&r.isCharacter(t[t.length-1])&&t.pop(),t.length===0&&r.isCharacter(wi)&&i.length>0){e.push(i),i="",this.advance();continue}i+=this.tokenText(),this.advance()}return(!this.token().isCharacter(Vi)||t.length>0)&&this.error(this.token(),"Unexpected end of expression"),this.index<this.tokens.length-1&&!this.tokens[this.index+1].isCharacter(wi)&&this.unexpectedToken(this.tokens[this.index+1]),e}tokenText(){return this.expression.slice(this.start+this.token().index,this.start+this.token().end)}trackTrigger(e,t){Ug(e,this.triggers,this.errors,t)}error(e,t){let i=this.span.start.moveBy(this.start+e.index),r=i.moveBy(e.end-e.index);this.errors.push(new be(new we(i,r),t))}unexpectedToken(e){this.error(e,`Unexpected token "${e}"`)}};function Ug(n,e,t,i){e[n]?t.push(new be(i.sourceSpan,`Duplicate "${n}" trigger is not allowed`)):e[n]=i}function kD(n,e,t,i,r,s){if(n.length>0)throw new Error(`"${Hn.IDLE}" trigger cannot have parameters`);return new h0(e,t,i,r,s)}function TD(n,e,t,i,r,s){if(n.length!==1)throw new Error(`"${Hn.TIMER}" trigger must have exactly one parameter`);let o=Op(n[0]);if(o===null)throw new Error(`Could not parse time value of trigger "${Hn.TIMER}"`);return new m0(o,e,t,i,r,s)}function AD(n,e,t,i,r,s){if(n.length>0)throw new Error(`"${Hn.IMMEDIATE}" trigger cannot have parameters`);return new f0(e,t,i,r,s)}function ID(n,e,t,i,r,s,o,a){return a(Hn.HOVER,n,o),new Yd(n[0]??null,e,t,i,r,s)}function MD(n,e,t,i,r,s,o,a){return a(Hn.INTERACTION,n,o),new Xd(n[0]??null,e,t,i,r,s)}function PD(n,e,t,i,r,s,o,a){return a(Hn.VIEWPORT,n,o),new Zd(n[0]??null,e,t,i,r,s)}function DD(n,e,t){if(e.length>1)throw new Error(`"${n}" trigger can only have zero or one parameters`);if(e.length===0){if(t===null)throw new Error(`"${n}" trigger with no parameters can only be placed on an @defer that has a @placeholder block`);if(t.children.length!==1||!(t.children[0]instanceof lr))throw new Error(`"${n}" trigger with no parameters can only be placed on an @defer that has a @placeholder block with exactly one root element node`)}}function ND(n,e){if(e.length>0)throw new Error(`Hydration trigger "${n}" cannot have parameters`)}function Wc(n,e=0){let t=!1;for(let i=e;i<n.length;i++)if(ED.test(n[i]))t=!0;else if(t)return i;return-1}function Op(n){let e=n.match(SD);if(!e)return null;let[t,i]=e;return parseFloat(t)*(i==="s"?1e3:1)}var LD=/^prefetch\s+when\s/,OD=/^prefetch\s+on\s/,RD=/^hydrate\s+when\s/,FD=/^hydrate\s+on\s/,BD=/^hydrate\s+never(\s*)$/,h_=/^minimum\s/,VD=/^after\s/,$D=/^when\s/,jD=/^on\s/;function sg(n){return n==="placeholder"||n==="loading"||n==="error"}function qD(n,e,t,i){let r=[],{placeholder:s,loading:o,error:a}=HD(e,r,t),{triggers:l,prefetchTriggers:c,hydrateTriggers:u}=QD(n,i,r,s),f=n.endSourceSpan,m=n.sourceSpan.end;if(e.length>0){let w=e[e.length-1];f=w.endSourceSpan,m=w.sourceSpan.end}let v=new we(n.sourceSpan.start,m);return{node:new vo(Lt(t,n.children,n.children),l,c,u,s,o,a,n.nameSpan,v,n.sourceSpan,n.startSourceSpan,f,n.i18n),errors:r}}function HD(n,e,t){let i=null,r=null,s=null;for(let o of n)try{if(!sg(o.name)){e.push(new be(o.startSourceSpan,`Unrecognized block "@${o.name}"`));break}switch(o.name){case"placeholder":i!==null?e.push(new be(o.startSourceSpan,"@defer block can only have one @placeholder block")):i=UD(o,t);break;case"loading":r!==null?e.push(new be(o.startSourceSpan,"@defer block can only have one @loading block")):r=zD(o,t);break;case"error":s!==null?e.push(new be(o.startSourceSpan,"@defer block can only have one @error block")):s=WD(o,t);break}}catch(a){e.push(new be(o.startSourceSpan,a.message))}return{placeholder:i,loading:r,error:s}}function UD(n,e){let t=null;for(let i of n.parameters)if(h_.test(i.expression)){if(t!=null)throw new Error('@placeholder block can only have one "minimum" parameter');let r=Op(i.expression.slice(Wc(i.expression)));if(r===null)throw new Error('Could not parse time value of parameter "minimum"');t=r}else throw new Error(`Unrecognized parameter in @placeholder block: "${i.expression}"`);return new yc(Lt(e,n.children,n.children),t,n.nameSpan,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.i18n)}function zD(n,e){let t=null,i=null;for(let r of n.parameters)if(VD.test(r.expression)){if(t!=null)throw new Error('@loading block can only have one "after" parameter');let s=Op(r.expression.slice(Wc(r.expression)));if(s===null)throw new Error('Could not parse time value of parameter "after"');t=s}else if(h_.test(r.expression)){if(i!=null)throw new Error('@loading block can only have one "minimum" parameter');let s=Op(r.expression.slice(Wc(r.expression)));if(s===null)throw new Error('Could not parse time value of parameter "minimum"');i=s}else throw new Error(`Unrecognized parameter in @loading block: "${r.expression}"`);return new _c(Lt(e,n.children,n.children),t,i,n.nameSpan,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.i18n)}function WD(n,e){if(n.parameters.length>0)throw new Error("@error block cannot have parameters");return new wc(Lt(e,n.children,n.children),n.nameSpan,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.i18n)}function QD(n,e,t,i){let r={},s={},o={};for(let a of n.parameters)$D.test(a.expression)?Hm(a,e,r,t):jD.test(a.expression)?Um(a,r,t,i):LD.test(a.expression)?Hm(a,e,s,t):OD.test(a.expression)?Um(a,s,t,i):RD.test(a.expression)?Hm(a,e,o,t):FD.test(a.expression)?Um(a,o,t,i):BD.test(a.expression)?CD(a,o,t):t.push(new be(a.sourceSpan,"Unrecognized trigger"));return o.never&&Object.keys(o).length>1&&t.push(new be(n.startSourceSpan,"Cannot specify additional `hydrate` triggers if `hydrate never` is present")),{triggers:r,prefetchTriggers:s,hydrateTriggers:o}}var GD=/^(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*)$/,Ry=1,Fy=2,By=3,Vy=4,$y=5,YD=6,zl=7,rs={BANANA_BOX:{start:"[(",end:")]"},PROPERTY:{start:"[",end:"]"},EVENT:{start:"(",end:")"}},jy="*";function XD(n,e,t){let i=new og(e,t),r=Lt(i,n,n),s=e.errors.concat(i.errors),o={nodes:r,errors:s,styleUrls:i.styleUrls,styles:i.styles,ngContentSelectors:i.ngContentSelectors};return t.collectCommentNodes&&(o.commentNodes=i.commentNodes),o}var og=class{bindingParser;options;errors=[];styles=[];styleUrls=[];ngContentSelectors=[];commentNodes=[];inI18nBlock=!1;processedNodes=new Set;constructor(e,t){this.bindingParser=e,this.options=t}visitElement(e){let t=J0(e.i18n);t&&(this.inI18nBlock&&this.reportError("Cannot mark an element as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0);let i=p_(e);if(i.type===ni.SCRIPT)return null;if(i.type===ni.STYLE){let y=KD(e);return y!==null&&this.styles.push(y),null}else if(i.type===ni.STYLESHEET&&K4(i.hrefAttr))return this.styleUrls.push(i.hrefAttr),null;let r=MT(e.name),s=[],o=[],a=[],l=[],c=[],u={},f=[],m=[],v=!1;for(let y of e.attrs){let k=!1,I=qy(y.name),V=!1;if(y.i18n&&(u[y.name]=y.i18n),I.startsWith(jy)){v&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",y.sourceSpan),V=!0,v=!0;let $=y.value,B=I.substring(jy.length),E=[],T=y.valueSpan?y.valueSpan.start.offset:y.sourceSpan.start.offset+y.name.length;this.bindingParser.parseInlineTemplateBinding(B,$,y.sourceSpan,T,[],f,E,!0),m.push(...E.map(N=>new gs(N.name,N.value,N.sourceSpan,N.keySpan,N.valueSpan)))}else k=this.parseAttribute(r,y,[],s,o,a,l);!k&&!V&&c.push(this.visitAttribute(y))}let b;i.nonBindable?b=Lt(ZD,e.children).flat(1/0):b=Lt(this,e.children,e.children);let w;if(i.type===ni.NG_CONTENT){let y=i.selectAttr,k=e.attrs.map(I=>this.visitAttribute(I));w=new Ia(y,k,b,e.sourceSpan,e.i18n),this.ngContentSelectors.push(y)}else if(r){let y=this.extractAttributes(e.name,s,u);w=new ri(e.name,c,y.bound,o,[],b,l,a,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}else{let y=this.extractAttributes(e.name,s,u);w=new lr(e.name,c,y.bound,o,b,l,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}if(v){let y=this.extractAttributes("ng-template",f,u),k=[];y.literal.forEach(B=>k.push(B)),y.bound.forEach(B=>k.push(B));let I=w instanceof lr?{attributes:w.attributes,inputs:w.inputs,outputs:w.outputs}:{attributes:[],inputs:[],outputs:[]},V=r&&t?void 0:e.i18n,$=w instanceof ri?null:w.name;w=new ri($,I.attributes,I.inputs,I.outputs,k,[w],[],m,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,V)}return t&&(this.inI18nBlock=!1),w}visitAttribute(e){return new Ta(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return this.processedNodes.has(e)?null:this._visitTextWithInterpolation(e.value,e.sourceSpan,e.tokens,e.i18n)}visitExpansion(e){if(!e.i18n)return null;if(!J0(e.i18n))throw new Error(`Invalid type "${e.i18n.constructor}" for "i18n" property of ${e.sourceSpan.toString()}. Expected a "Message"`);let t=e.i18n,i={},r={};return Object.keys(t.placeholders).forEach(s=>{let o=t.placeholders[s];if(s.startsWith(LT)){let a=s.trim(),l=this.bindingParser.parseInterpolationExpression(o.text,o.sourceSpan);i[a]=new ka(l,o.sourceSpan)}else r[s]=this._visitTextWithInterpolation(o.text,o.sourceSpan,null)}),new r2(i,r,e.sourceSpan,t)}visitExpansionCase(e){return null}visitComment(e){return this.options.collectCommentNodes&&this.commentNodes.push(new Vp(e.value||"",e.sourceSpan)),null}visitLetDeclaration(e,t){let i=this.bindingParser.parseBinding(e.value,!1,e.valueSpan,e.valueSpan.start.offset);return i.errors.length===0&&i.ast instanceof jn&&this.reportError("@let declaration value cannot be empty",e.valueSpan),new Eg(e.name,i,e.sourceSpan,e.nameSpan,e.valueSpan)}visitBlockParameter(){return null}visitBlock(e,t){let i=Array.isArray(t)?t.indexOf(e):-1;if(i===-1)throw new Error("Visitor invoked incorrectly. Expecting visitBlock to be invoked siblings array as its context");if(this.processedNodes.has(e))return null;let r=null;switch(e.name){case"defer":r=qD(e,this.findConnectedBlocks(i,t,sg),this,this.bindingParser);break;case"switch":r=vD(e,this,this.bindingParser);break;case"for":r=gD(e,this.findConnectedBlocks(i,t,Dy),this,this.bindingParser);break;case"if":r=mD(e,this.findConnectedBlocks(i,t,Ny),this,this.bindingParser);break;default:let s;sg(e.name)?(s=`@${e.name} block can only be used after an @defer block.`,this.processedNodes.add(e)):Dy(e.name)?(s=`@${e.name} block can only be used after an @for block.`,this.processedNodes.add(e)):Ny(e.name)?(s=`@${e.name} block can only be used after an @if or @else if block.`,this.processedNodes.add(e)):s=`Unrecognized block @${e.name}.`,r={node:new ep(e.name,e.sourceSpan,e.nameSpan),errors:[new be(e.sourceSpan,s)]};break}return this.errors.push(...r.errors),r.node}findConnectedBlocks(e,t,i){let r=[];for(let s=e+1;s<t.length;s++){let o=t[s];if(!(o instanceof $c)){if(o instanceof wo&&o.value.trim().length===0){this.processedNodes.add(o);continue}if(!(o instanceof vi)||!i(o.name))break;r.push(o),this.processedNodes.add(o)}}return r}extractAttributes(e,t,i){let r=[],s=[];return t.forEach(o=>{let a=i[o.name];if(o.isLiteral)s.push(new Ta(o.name,o.expression.source||"",o.sourceSpan,o.keySpan,o.valueSpan,a));else{let l=this.bindingParser.createBoundElementProperty(e,o,!0,!1);r.push(c0.fromBoundElementProperty(l,a))}}),{bound:r,literal:s}}parseAttribute(e,t,i,r,s,o,a){let l=qy(t.name),c=t.value,u=t.sourceSpan,f=t.valueSpan?t.valueSpan.start.offset:u.start.offset;function m(k,I,V){let $=t.name.length-l.length,B=k.start.moveBy(I.length+$),E=B.moveBy(V.length);return new we(B,E,B,V)}let v=l.match(GD);if(v){if(v[Ry]!=null){let k=v[zl],I=m(u,v[Ry],k);this.bindingParser.parsePropertyBinding(k,c,!1,!1,u,f,t.valueSpan,i,r,I)}else if(v[Fy])if(e){let k=v[zl],I=m(u,v[Fy],k);this.parseVariable(k,c,u,I,t.valueSpan,o)}else this.reportError('"let-" is only supported on ng-template elements.',u);else if(v[By]){let k=v[zl],I=m(u,v[By],k);this.parseReference(k,c,u,I,t.valueSpan,a)}else if(v[Vy]){let k=[],I=v[zl],V=m(u,v[Vy],I);this.bindingParser.parseEvent(I,c,!1,u,t.valueSpan||u,i,k,V),zm(k,s)}else if(v[$y]){let k=v[zl],I=m(u,v[$y],k);this.bindingParser.parsePropertyBinding(k,c,!1,!0,u,f,t.valueSpan,i,r,I),this.parseAssignmentEvent(k,c,u,t.valueSpan,i,s,I)}else if(v[YD]){let k=m(u,"",l);this.bindingParser.parseLiteralAttr(l,c,u,f,t.valueSpan,i,r,k)}return!0}let b=null;if(l.startsWith(rs.BANANA_BOX.start)?b=rs.BANANA_BOX:l.startsWith(rs.PROPERTY.start)?b=rs.PROPERTY:l.startsWith(rs.EVENT.start)&&(b=rs.EVENT),b!==null&&l.endsWith(b.end)&&l.length>b.start.length+b.end.length){let k=l.substring(b.start.length,l.length-b.end.length),I=m(u,b.start,k);if(b.start===rs.BANANA_BOX.start)this.bindingParser.parsePropertyBinding(k,c,!1,!0,u,f,t.valueSpan,i,r,I),this.parseAssignmentEvent(k,c,u,t.valueSpan,i,s,I);else if(b.start===rs.PROPERTY.start)this.bindingParser.parsePropertyBinding(k,c,!1,!1,u,f,t.valueSpan,i,r,I);else{let V=[];this.bindingParser.parseEvent(k,c,!1,u,t.valueSpan||u,i,V,I),zm(V,s)}return!0}let w=m(u,"",l);return this.bindingParser.parsePropertyInterpolation(l,c,u,t.valueSpan,i,r,w,t.valueTokens??null)}_visitTextWithInterpolation(e,t,i,r){let s=H2(e),o=this.bindingParser.parseInterpolation(s,t,i);return o?new ka(o,t,r):new eo(s,t)}parseVariable(e,t,i,r,s,o){e.indexOf("-")>-1?this.reportError('"-" is not allowed in variable names',i):e.length===0&&this.reportError("Variable does not have a name",i),o.push(new gs(e,t,i,r,s))}parseReference(e,t,i,r,s,o){e.indexOf("-")>-1?this.reportError('"-" is not allowed in reference names',i):e.length===0?this.reportError("Reference does not have a name",i):o.some(a=>a.name===e)&&this.reportError(`Reference "#${e}" is defined more than once`,i),o.push(new Cc(e,t,i,r,s))}parseAssignmentEvent(e,t,i,r,s,o,a){let l=[];this.bindingParser.parseEvent(`${e}Change`,t,!0,i,r||i,s,l,a),zm(l,o)}reportError(e,t,i=ps.ERROR){this.errors.push(new be(t,e,i))}},ag=class{visitElement(e){let t=p_(e);if(t.type===ni.SCRIPT||t.type===ni.STYLE||t.type===ni.STYLESHEET)return null;let i=Lt(this,e.children,null);return new lr(e.name,Lt(this,e.attrs),[],[],i,[],e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}visitComment(e){return null}visitAttribute(e){return new Ta(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return new eo(e.value,e.sourceSpan)}visitExpansion(e){return null}visitExpansionCase(e){return null}visitBlock(e,t){let i=[new eo(e.startSourceSpan.toString(),e.startSourceSpan),...Lt(this,e.children)];return e.endSourceSpan!==null&&i.push(new eo(e.endSourceSpan.toString(),e.endSourceSpan)),i}visitBlockParameter(e,t){return null}visitLetDeclaration(e,t){return new eo(`@let ${e.name} = ${e.value};`,e.sourceSpan)}},ZD=new ag;function qy(n){return/^data-/i.test(n)?n.substring(5):n}function zm(n,e){e.push(...n.map(t=>u0.fromParsedEvent(t)))}function KD(n){return n.children.length!==1||!(n.children[0]instanceof wo)?null:n.children[0].value}var JD=[" ",`
`,"\r","	"];function eN(n,e,t={}){let{interpolationConfig:i,preserveWhitespaces:r,enableI18nLegacyMessageIdFormat:s}=t,o=Rp(i),l=new tg().parse(n,e,_e(L({leadingTriviaChars:JD},t),{tokenizeExpansionForms:!0,tokenizeBlocks:t.enableBlockSyntax??!0,tokenizeLet:t.enableLetSyntax??!0}));if(!t.alwaysAttemptHtmlToR3AstConversion&&l.errors&&l.errors.length>0){let $={interpolationConfig:i,preserveWhitespaces:r,errors:l.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return t.collectCommentNodes&&($.commentNodes=[]),$}let c=l.rootNodes,u=!(t.preserveSignificantWhitespace??!0),f=new Tp(i,!r,s,void 0,t.preserveSignificantWhitespace,u),m=f.visitAllWithErrors(c);if(!t.alwaysAttemptHtmlToR3AstConversion&&m.errors&&m.errors.length>0){let $={interpolationConfig:i,preserveWhitespaces:r,errors:m.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return t.collectCommentNodes&&($.commentNodes=[]),$}c=m.rootNodes,r||(c=Lt(new Cp(!0,void 0,!1),c),f.hasI18nMeta&&(c=Lt(new Tp(i,!1,void 0,void 0,!0,u),c)));let{nodes:v,errors:b,styleUrls:w,styles:y,ngContentSelectors:k,commentNodes:I}=XD(c,o,{collectCommentNodes:!!t.collectCommentNodes});b.push(...l.errors,...m.errors);let V={interpolationConfig:i,preserveWhitespaces:r,errors:b.length>0?b:null,nodes:v,styleUrls:w,styles:y,ngContentSelectors:k};return t.collectCommentNodes&&(V.commentNodes=I),V}var tN=new Fa;function Rp(n=ir){return new ng(new kp(new Hc),n,tN,[])}var f_="%COMP%",nN=`_nghost-${f_}`,iN=`_ngcontent-${f_}`;function m_(n,e,t){let i=new bs,r=bg(n.selector);return i.set("type",n.type.value),r.length>0&&i.set("selectors",ua(r)),n.queries.length>0&&i.set("contentQueries",Q4(n.queries,e,n.name)),n.viewQueries.length&&i.set("viewQuery",W4(n.viewQueries,e,n.name)),i.set("hostBindings",dN(n.host,n.typeSourceSpan,t,e,n.selector||"",n.name,i)),i.set("inputs",Db(n.inputs,!0)),i.set("outputs",Db(n.outputs)),n.exportAs!==null&&i.set("exportAs",We(n.exportAs.map(s=>R(s)))),n.isStandalone===!1&&i.set("standalone",R(!1)),n.isSignal&&i.set("signals",R(!0)),i}function g_(n,e){let t=[],i=e.providers,r=e.viewProviders;if(i||r){let s=[i||new $i([])];r&&s.push(r),t.push(ce(C.ProvidersFeature).callFn(s))}if(e.hostDirectives?.length&&t.push(ce(C.HostDirectivesFeature).callFn([gN(e.hostDirectives)])),e.usesInheritance&&t.push(ce(C.InheritDefinitionFeature)),e.fullInheritance&&t.push(ce(C.CopyDefinitionFeature)),e.lifecycle.usesOnChanges&&t.push(ce(C.NgOnChangesFeature)),"externalStyles"in e&&e.externalStyles?.length){let s=e.externalStyles.map(o=>R(o));t.push(ce(C.ExternalStylesFeature).callFn([We(s)]))}t.length&&n.set("features",We(t))}function rN(n,e,t){let i=m_(n,e,t);g_(i,n);let r=ce(C.defineDirective).callFn([i.toLiteralMap()],void 0,!0),s=uN(n);return{expression:r,type:s,statements:[]}}function sN(n,e,t){let i=m_(n,e,t);g_(i,n);let r=n.selector&&ba.parse(n.selector),s=r&&r[0];if(s){let v=s.getAttrs();v.length&&i.set("attrs",e.getConstLiteral(We(v.map(b=>b!=null?R(b):R(void 0))),!0))}let o=n.name,a=null;if(n.defer.mode===1&&n.defer.dependenciesFn!==null){let v=`${o}_DeferFn`;e.statements.push(new kn(v,n.defer.dependenciesFn,void 0,mn.Final)),a=Ie(v)}let l=w4(n.name,n.template.nodes,e,n.relativeContextFilePath,n.i18nUseExternalIds,n.defer,a,n.relativeTemplatePath,H4());t_(l,Y.Tmpl);let c=b4(l,e);if(l.contentSelectors!==null&&i.set("ngContentSelectors",l.contentSelectors),i.set("decls",R(l.root.decls)),i.set("vars",R(l.root.vars)),l.consts.length>0&&(l.constsInitializers.length>0?i.set("consts",ji([],[...l.constsInitializers,new Cn(We(l.consts))])):i.set("consts",We(l.consts))),i.set("template",c),n.declarationListEmitMode!==3&&n.declarations.length>0)i.set("dependencies",aN(We(n.declarations.map(v=>v.type)),n.declarationListEmitMode));else if(n.declarationListEmitMode===3){let v=[n.type.value];n.rawImports&&v.push(n.rawImports),i.set("dependencies",ce(C.getComponentDepsFactory).callFn(v))}n.encapsulation===null&&(n.encapsulation=Ys.Emulated);let u=!!n.externalStyles?.length;if(n.styles&&n.styles.length){let b=(n.encapsulation==Ys.Emulated?mN(n.styles,iN,nN):n.styles).reduce((w,y)=>(y.trim().length>0&&w.push(e.getConstLiteral(R(y))),w),[]);b.length>0&&(u=!0,i.set("styles",We(b)))}!u&&n.encapsulation===Ys.Emulated&&(n.encapsulation=Ys.None),n.encapsulation!==Ys.Emulated&&i.set("encapsulation",R(n.encapsulation)),n.animations!==null&&i.set("data",Pn([{key:"animation",value:n.animations,quoted:!1}])),n.changeDetection!==null&&(typeof n.changeDetection=="number"&&n.changeDetection!==xg.Default?i.set("changeDetection",R(n.changeDetection)):typeof n.changeDetection=="object"&&i.set("changeDetection",n.changeDetection));let f=ce(C.defineComponent).callFn([i.toLiteralMap()],void 0,!0),m=oN(n);return{expression:f,type:m,statements:[]}}function oN(n){let e=v_(n);return e.push(cg(n.template.ngContentSelectors)),e.push(gn(R(n.isStandalone))),e.push(x_(n)),n.isSignal&&e.push(gn(R(n.isSignal))),gn(ce(C.ComponentDeclaration,e))}function aN(n,e){switch(e){case 0:return n;case 1:return ji([],n);case 2:let t=n.prop("map").callFn([ce(C.resolveForwardRef)]);return ji([],t);case 3:throw new Error("Unsupported with an array of pre-resolved dependencies")}}function lN(n){return gn(R(n))}function lg(n){let e=Object.keys(n).map(t=>{let i=Array.isArray(n[t])?n[t][0]:n[t];return{key:t,value:R(i),quoted:!0}});return Pn(e)}function cg(n){return n.length>0?gn(We(n.map(e=>R(e)))):or}function v_(n){let e=n.selector!==null?n.selector.replace(/\n/g,""):null;return[Bp(n.type.type,n.typeArgumentCount),e!==null?lN(e):or,n.exportAs!==null?cg(n.exportAs):or,gn(cN(n)),gn(lg(n.outputs)),cg(n.queries.map(t=>t.propertyName))]}function cN(n){return Pn(Object.keys(n.inputs).map(e=>{let t=n.inputs[e],i=[{key:"alias",value:R(t.bindingPropertyName),quoted:!0},{key:"required",value:R(t.required),quoted:!0}];return t.isSignal&&i.push({key:"isSignal",value:R(t.isSignal),quoted:!0}),{key:e,value:Pn(i),quoted:!0}}))}function uN(n){let e=v_(n);return e.push(or),e.push(gn(R(n.isStandalone))),e.push(x_(n)),n.isSignal&&e.push(gn(R(n.isSignal))),gn(ce(C.DirectiveDeclaration,e))}function dN(n,e,t,i,r,s,o){let a=t.createBoundHostProperties(n.properties,e),l=t.createDirectiveHostEventAsts(n.listeners,e);n.specialAttributes.styleAttr&&(n.attributes.style=R(n.specialAttributes.styleAttr)),n.specialAttributes.classAttr&&(n.attributes.class=R(n.specialAttributes.classAttr));let c=S4({componentName:s,componentSelector:r,properties:a,events:l,attributes:n.attributes},t,i);t_(c,Y.Host),o.set("hostAttrs",c.root.attributes);let u=c.root.vars;return u!==null&&u>0&&o.set("hostVars",R(u)),y4(c)}var pN=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;function hN(n){let e={},t={},i={},r={};for(let s of Object.keys(n)){let o=n[s],a=s.match(pN);if(a===null)switch(s){case"class":if(typeof o!="string")throw new Error("Class binding must be string");r.classAttr=o;break;case"style":if(typeof o!="string")throw new Error("Style binding must be string");r.styleAttr=o;break;default:typeof o=="string"?e[s]=R(o):e[s]=o}else if(a[1]!=null){if(typeof o!="string")throw new Error("Property binding must be string");i[a[1]]=o}else if(a[2]!=null){if(typeof o!="string")throw new Error("Event binding must be string");t[a[2]]=o}}return{attributes:e,listeners:t,properties:i,specialAttributes:r}}function fN(n,e){let t=Rp();return t.createDirectiveHostEventAsts(n.listeners,e),t.createBoundHostProperties(n.properties,e),t.errors}function mN(n,e,t){let i=new E0;return n.map(r=>i.shimCssText(r,e,t))}function x_(n){return n.hostDirectives?.length?gn(We(n.hostDirectives.map(e=>Pn([{key:"directive",value:Gc(e.directive.type),quoted:!1},{key:"inputs",value:lg(e.inputs||{}),quoted:!1},{key:"outputs",value:lg(e.outputs||{}),quoted:!1}])))):or}function gN(n){let e=[],t=!1;for(let i of n){if(!i.inputs&&!i.outputs)e.push(i.directive.type);else{let r=[{key:"directive",value:i.directive.type,quoted:!1}];if(i.inputs){let s=Hy(i.inputs);s&&r.push({key:"inputs",value:s,quoted:!1})}if(i.outputs){let s=Hy(i.outputs);s&&r.push({key:"outputs",value:s,quoted:!1})}e.push(Pn(r))}i.isForwardReference&&(t=!0)}return t?new fs([],[new Cn(We(e))]):We(e)}function Hy(n){let e=[];for(let t in n)n.hasOwnProperty(t)&&e.push(R(t),R(n[t]));return e.length>0?We(e):null}var ug=class{directiveMatcher;constructor(e){this.directiveMatcher=e}bind(e){if(!e.template)throw new Error("Empty bound targets are not supported");let t=new Map,i=[],r=new Map,s=new Map,o=new Map,a=new Map,l=new Map,c=new Map,u=new Set,f=new Set,m=[];if(e.template){let v=dg.apply(e.template);vN(v,o),pg.apply(e.template,this.directiveMatcher,t,i,r,s),hg.applyWithScope(e.template,v,a,l,c,u,f,m)}return new fg(e,t,i,r,s,a,l,c,o,u,f,m)}},dg=class n{parentScope;rootNode;namedEntities=new Map;elementsInScope=new Set;childScopes=new Map;isDeferred;constructor(e,t){this.parentScope=e,this.rootNode=t,this.isDeferred=e!==null&&e.isDeferred?!0:t instanceof vo}static newRootScope(){return new n(null,null)}static apply(e){let t=n.newRootScope();return t.ingest(e),t}ingest(e){e instanceof ri?(e.variables.forEach(t=>this.visitVariable(t)),e.children.forEach(t=>t.visit(this))):e instanceof ro?(e.expressionAlias!==null&&this.visitVariable(e.expressionAlias),e.children.forEach(t=>t.visit(this))):e instanceof Aa?(this.visitVariable(e.item),e.contextVariables.forEach(t=>this.visitVariable(t)),e.children.forEach(t=>t.visit(this))):e instanceof Sc||e instanceof Ec||e instanceof vo||e instanceof wc||e instanceof yc||e instanceof _c||e instanceof Ia?e.children.forEach(t=>t.visit(this)):e.forEach(t=>t.visit(this))}visitElement(e){e.references.forEach(t=>this.visitReference(t)),e.children.forEach(t=>t.visit(this)),this.elementsInScope.add(e)}visitTemplate(e){e.references.forEach(t=>this.visitReference(t)),this.ingestScopedNode(e)}visitVariable(e){this.maybeDeclare(e)}visitReference(e){this.maybeDeclare(e)}visitDeferredBlock(e){this.ingestScopedNode(e),e.placeholder?.visit(this),e.loading?.visit(this),e.error?.visit(this)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlock(e){e.cases.forEach(t=>t.visit(this))}visitSwitchBlockCase(e){this.ingestScopedNode(e)}visitForLoopBlock(e){this.ingestScopedNode(e),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlock(e){e.branches.forEach(t=>t.visit(this))}visitIfBlockBranch(e){this.ingestScopedNode(e)}visitContent(e){this.ingestScopedNode(e)}visitLetDeclaration(e){this.maybeDeclare(e)}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundText(e){}visitText(e){}visitTextAttribute(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}maybeDeclare(e){this.namedEntities.has(e.name)||this.namedEntities.set(e.name,e)}lookup(e){return this.namedEntities.has(e)?this.namedEntities.get(e):this.parentScope!==null?this.parentScope.lookup(e):null}getChildScope(e){let t=this.childScopes.get(e);if(t===void 0)throw new Error(`Assertion error: child scope for ${e} not found`);return t}ingestScopedNode(e){let t=new n(this,e);t.ingest(e),this.childScopes.set(e,t)}},pg=class n{matcher;directives;eagerDirectives;bindings;references;isInDeferBlock=!1;constructor(e,t,i,r,s){this.matcher=e,this.directives=t,this.eagerDirectives=i,this.bindings=r,this.references=s}static apply(e,t,i,r,s,o){new n(t,i,r,s,o).ingest(e)}ingest(e){e.forEach(t=>t.visit(this))}visitElement(e){this.visitElementOrTemplate(e)}visitTemplate(e){this.visitElementOrTemplate(e)}visitElementOrTemplate(e){let t=FT(e),i=[];this.matcher.match(t,(s,o)=>i.push(...o)),i.length>0&&(this.directives.set(e,i),this.isInDeferBlock||this.eagerDirectives.push(...i)),e.references.forEach(s=>{let o=null;if(s.value.trim()==="")o=i.find(a=>a.isComponent)||null;else if(o=i.find(a=>a.exportAs!==null&&a.exportAs.some(l=>l===s.value))||null,o===null)return;o!==null?this.references.set(s,{directive:o,node:e}):this.references.set(s,e)});let r=(s,o)=>{let a=i.find(c=>c[o].hasBindingPropertyName(s.name)),l=a!==void 0?a:e;this.bindings.set(s,l)};e.inputs.forEach(s=>r(s,"inputs")),e.attributes.forEach(s=>r(s,"inputs")),e instanceof ri&&e.templateAttrs.forEach(s=>r(s,"inputs")),e.outputs.forEach(s=>r(s,"outputs")),e.children.forEach(s=>s.visit(this))}visitDeferredBlock(e){let t=this.isInDeferBlock;this.isInDeferBlock=!0,e.children.forEach(i=>i.visit(this)),this.isInDeferBlock=t,e.placeholder?.visit(this),e.loading?.visit(this),e.error?.visit(this)}visitDeferredBlockPlaceholder(e){e.children.forEach(t=>t.visit(this))}visitDeferredBlockError(e){e.children.forEach(t=>t.visit(this))}visitDeferredBlockLoading(e){e.children.forEach(t=>t.visit(this))}visitSwitchBlock(e){e.cases.forEach(t=>t.visit(this))}visitSwitchBlockCase(e){e.children.forEach(t=>t.visit(this))}visitForLoopBlock(e){e.item.visit(this),e.contextVariables.forEach(t=>t.visit(this)),e.children.forEach(t=>t.visit(this)),e.empty?.visit(this)}visitForLoopBlockEmpty(e){e.children.forEach(t=>t.visit(this))}visitIfBlock(e){e.branches.forEach(t=>t.visit(this))}visitIfBlockBranch(e){e.expressionAlias?.visit(this),e.children.forEach(t=>t.visit(this))}visitContent(e){e.children.forEach(t=>t.visit(this))}visitVariable(e){}visitReference(e){}visitTextAttribute(e){}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundAttributeOrEvent(e){}visitText(e){}visitBoundText(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}visitLetDeclaration(e){}},hg=class n extends Wd{bindings;symbols;usedPipes;eagerPipes;deferBlocks;nestingLevel;scope;rootNode;level;visitNode;constructor(e,t,i,r,s,o,a,l,c){super(),this.bindings=e,this.symbols=t,this.usedPipes=i,this.eagerPipes=r,this.deferBlocks=s,this.nestingLevel=o,this.scope=a,this.rootNode=l,this.level=c,this.visitNode=u=>u.visit(this)}visit(e,t){e instanceof At?e.visit(this,t):e.visit(this)}static applyWithScope(e,t,i,r,s,o,a,l){let c=e instanceof ri?e:null;new n(i,r,o,a,l,s,t,c,0).ingest(e)}ingest(e){if(e instanceof ri)e.variables.forEach(this.visitNode),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof ro)e.expressionAlias!==null&&this.visitNode(e.expressionAlias),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof Aa)this.visitNode(e.item),e.contextVariables.forEach(t=>this.visitNode(t)),e.trackBy.visit(this),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof vo){if(this.scope.rootNode!==e)throw new Error(`Assertion error: resolved incorrect scope for deferred block ${e}`);this.deferBlocks.push([e,this.scope]),e.children.forEach(t=>t.visit(this)),this.nestingLevel.set(e,this.level)}else e instanceof Sc||e instanceof Ec||e instanceof wc||e instanceof yc||e instanceof _c||e instanceof Ia?(e.children.forEach(t=>t.visit(this)),this.nestingLevel.set(e,this.level)):e.forEach(this.visitNode)}visitElement(e){e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.children.forEach(this.visitNode),e.references.forEach(this.visitNode)}visitTemplate(e){e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.templateAttrs.forEach(this.visitNode),e.references.forEach(this.visitNode),this.ingestScopedNode(e)}visitVariable(e){this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitReference(e){this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitText(e){}visitTextAttribute(e){}visitUnknownBlock(e){}visitDeferredTrigger(){}visitIcu(e){Object.keys(e.vars).forEach(t=>e.vars[t].visit(this)),Object.keys(e.placeholders).forEach(t=>e.placeholders[t].visit(this))}visitBoundAttribute(e){e.value.visit(this)}visitBoundEvent(e){e.handler.visit(this)}visitDeferredBlock(e){this.ingestScopedNode(e),e.triggers.when?.value.visit(this),e.prefetchTriggers.when?.value.visit(this),e.hydrateTriggers.when?.value.visit(this),e.hydrateTriggers.never?.visit(this),e.placeholder&&this.visitNode(e.placeholder),e.loading&&this.visitNode(e.loading),e.error&&this.visitNode(e.error)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlock(e){e.expression.visit(this),e.cases.forEach(this.visitNode)}visitSwitchBlockCase(e){e.expression?.visit(this),this.ingestScopedNode(e)}visitForLoopBlock(e){e.expression.visit(this),this.ingestScopedNode(e),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlock(e){e.branches.forEach(t=>t.visit(this))}visitIfBlockBranch(e){e.expression?.visit(this),this.ingestScopedNode(e)}visitContent(e){this.ingestScopedNode(e)}visitBoundText(e){e.value.visit(this)}visitLetDeclaration(e){e.value.visit(this),this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitPipe(e,t){return this.usedPipes.add(e.name),this.scope.isDeferred||this.eagerPipes.add(e.name),super.visitPipe(e,t)}visitPropertyRead(e,t){return this.maybeMap(e,e.name),super.visitPropertyRead(e,t)}visitSafePropertyRead(e,t){return this.maybeMap(e,e.name),super.visitSafePropertyRead(e,t)}visitPropertyWrite(e,t){return this.maybeMap(e,e.name),super.visitPropertyWrite(e,t)}ingestScopedNode(e){let t=this.scope.getChildScope(e);new n(this.bindings,this.symbols,this.usedPipes,this.eagerPipes,this.deferBlocks,this.nestingLevel,t,e,this.level+1).ingest(e)}maybeMap(e,t){if(!(e.receiver instanceof Ei)||e.receiver instanceof mo)return;let i=this.scope.lookup(t);i!==null&&this.bindings.set(e,i)}},fg=class{target;directives;eagerDirectives;bindings;references;exprTargets;symbols;nestingLevel;scopedNodeEntities;usedPipes;eagerPipes;deferredBlocks;deferredScopes;constructor(e,t,i,r,s,o,a,l,c,u,f,m){this.target=e,this.directives=t,this.eagerDirectives=i,this.bindings=r,this.references=s,this.exprTargets=o,this.symbols=a,this.nestingLevel=l,this.scopedNodeEntities=c,this.usedPipes=u,this.eagerPipes=f,this.deferredBlocks=m.map(v=>v[0]),this.deferredScopes=new Map(m)}getEntitiesInScope(e){return this.scopedNodeEntities.get(e)??new Set}getDirectivesOfNode(e){return this.directives.get(e)||null}getReferenceTarget(e){return this.references.get(e)||null}getConsumerOfBinding(e){return this.bindings.get(e)||null}getExpressionTarget(e){return this.exprTargets.get(e)||null}getDefinitionNodeOfSymbol(e){return this.symbols.get(e)||null}getNestingLevel(e){return this.nestingLevel.get(e)||0}getUsedDirectives(){let e=new Set;return this.directives.forEach(t=>t.forEach(i=>e.add(i))),Array.from(e.values())}getEagerlyUsedDirectives(){let e=new Set(this.eagerDirectives);return Array.from(e.values())}getUsedPipes(){return Array.from(this.usedPipes)}getEagerlyUsedPipes(){return Array.from(this.eagerPipes)}getDeferBlocks(){return this.deferredBlocks}getDeferredTriggerTarget(e,t){if(!(t instanceof Xd)&&!(t instanceof Zd)&&!(t instanceof Yd))return null;let i=t.reference;if(i===null){let s=null;if(e.placeholder!==null){for(let o of e.placeholder.children)if(!(o instanceof Vp)){if(s!==null)return null;o instanceof lr&&(s=o)}}return s}let r=this.findEntityInScope(e,i);if(r instanceof Cc&&this.getDefinitionNodeOfSymbol(r)!==e){let s=this.getReferenceTarget(r);if(s!==null)return this.referenceTargetToElement(s)}if(e.placeholder!==null){let s=this.findEntityInScope(e.placeholder,i),o=s instanceof Cc?this.getReferenceTarget(s):null;if(o!==null)return this.referenceTargetToElement(o)}return null}isDeferred(e){for(let t of this.deferredBlocks){if(!this.deferredScopes.has(t))continue;let i=[this.deferredScopes.get(t)];for(;i.length>0;){let r=i.pop();if(r.elementsInScope.has(e))return!0;i.push(...r.childScopes.values())}}return!1}findEntityInScope(e,t){let i=this.getEntitiesInScope(e);for(let r of i)if(r.name===t)return r;return null}referenceTargetToElement(e){return e instanceof lr?e:e instanceof ri?null:this.referenceTargetToElement(e.node)}};function vN(n,e){let t=new Map;function i(s){if(t.has(s.rootNode))return t.get(s.rootNode);let o=s.namedEntities,a;return s.parentScope!==null?a=new Map([...i(s.parentScope),...o]):a=new Map(o),t.set(s.rootNode,a),a}let r=[n];for(;r.length>0;){let s=r.pop();for(let o of s.childScopes.values())r.push(o);i(s)}for(let[s,o]of t)e.set(s,new Set(o.values()))}var mg=class{},gg=class{jitEvaluator;FactoryTarget=Ir;ResourceLoader=mg;elementSchemaRegistry=new Fa;constructor(e=new _0){this.jitEvaluator=e}compilePipe(e,t,i){let r={type:Zt(i.type),typeArgumentCount:0,pipeName:i.pipeName,pure:i.pure,isStandalone:i.isStandalone},s=qb(r);return this.jitExpression(s.expression,e,t,[])}compilePipeDeclaration(e,t,i){let r=LN(i),s=qb(r);return this.jitExpression(s.expression,e,t,[])}compileInjectable(e,t,i){let{expression:r,statements:s}=Nb({name:i.name,type:Zt(i.type),typeArgumentCount:i.typeArgumentCount,providedIn:Yy(i.providedIn),useClass:oa(i,"useClass"),useFactory:Gy(i,"useFactory"),useValue:oa(i,"useValue"),useExisting:oa(i,"useExisting"),deps:i.deps?.map(w_)},!0);return this.jitExpression(r,e,t,s)}compileInjectableDeclaration(e,t,i){let{expression:r,statements:s}=Nb({name:i.type.name,type:Zt(i.type),typeArgumentCount:0,providedIn:Yy(i.providedIn),useClass:oa(i,"useClass"),useFactory:Gy(i,"useFactory"),useValue:oa(i,"useValue"),useExisting:oa(i,"useExisting"),deps:i.deps?.map(Xy)},!0);return this.jitExpression(r,e,t,s)}compileInjector(e,t,i){let r={type:Zt(i.type),providers:i.providers&&i.providers.length>0?new Le(i.providers):null,imports:i.imports.map(o=>new Le(o))},s=jb(r);return this.jitExpression(s.expression,e,t,[])}compileInjectorDeclaration(e,t,i){let r=ON(i),s=jb(r);return this.jitExpression(s.expression,e,t,[])}compileNgModule(e,t,i){let r={kind:hs.Global,type:Zt(i.type),bootstrap:i.bootstrap.map(Zt),declarations:i.declarations.map(Zt),publicDeclarationTypes:null,imports:i.imports.map(Zt),includeImportTypes:!0,exports:i.exports.map(Zt),selectorScopeMode:op.Inline,containsForwardDecls:!1,schemas:i.schemas?i.schemas.map(Zt):null,id:i.id?new Le(i.id):null},s=aA(r);return this.jitExpression(s.expression,e,t,[])}compileNgModuleDeclaration(e,t,i){let r=lA(i);return this.jitExpression(r,e,t,[])}compileDirective(e,t,i){let r=Wy(i);return this.compileDirectiveFromMeta(e,t,r)}compileDirectiveDeclaration(e,t,i){let r=this.createParseSourceSpan("Directive",i.type.name,t),s=y_(i,r);return this.compileDirectiveFromMeta(e,t,s)}compileDirectiveFromMeta(e,t,i){let r=new Pd,s=Rp(),o=rN(i,r,s);return this.jitExpression(o.expression,e,t,r.statements)}compileComponent(e,t,i){let{template:r,interpolation:s,defer:o}=__(i.template,i.name,t,i.preserveWhitespaces,i.interpolation,void 0),a=_e(L(L({},i),Wy(i)),{selector:i.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:r,declarations:i.declarations.map(_N),declarationListEmitMode:0,defer:o,styles:[...i.styles,...r.styles],encapsulation:i.encapsulation,interpolation:s,changeDetection:i.changeDetection??null,animations:i.animations!=null?new Le(i.animations):null,viewProviders:i.viewProviders!=null?new Le(i.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0,relativeTemplatePath:null}),l=`ng:///${i.name}.js`;return this.compileComponentFromMeta(e,l,a)}compileComponentDeclaration(e,t,i){let r=this.createParseSourceSpan("Component",i.type.name,t),s=yN(i,r,t);return this.compileComponentFromMeta(e,t,s)}compileComponentFromMeta(e,t,i){let r=new Pd,s=Rp(i.interpolation),o=sN(i,r,s);return this.jitExpression(o.expression,e,t,r.statements)}compileFactory(e,t,i){let r=Xs({name:i.name,type:Zt(i.type),typeArgumentCount:i.typeArgumentCount,deps:EN(i.deps),target:i.target});return this.jitExpression(r.expression,e,t,r.statements)}compileFactoryDeclaration(e,t,i){let r=Xs({name:i.type.name,type:Zt(i.type),typeArgumentCount:0,deps:Array.isArray(i.deps)?i.deps.map(Xy):i.deps,target:i.target});return this.jitExpression(r.expression,e,t,r.statements)}createParseSourceSpan(e,t,i){return eA(e,t,i)}jitExpression(e,t,i,r){let s=[...r,new kn("$def",e,void 0,mn.Exported)];return this.jitEvaluator.evaluateStatements(i,s,new S0(t),!0).$def}};function Uy(n){return _e(L({},n),{isSignal:n.isSignal,predicate:b_(n.predicate),read:n.read?new Le(n.read):null,static:n.static,emitDistinctChangesOnly:n.emitDistinctChangesOnly})}function zy(n){return{propertyName:n.propertyName,first:n.first??!1,predicate:b_(n.predicate),descendants:n.descendants??!1,read:n.read?new Le(n.read):null,static:n.static??!1,emitDistinctChangesOnly:n.emitDistinctChangesOnly??!0,isSignal:!!n.isSignal}}function b_(n){return Array.isArray(n)?n:Sg(new Le(n),1)}function Wy(n){let e=NN(n.inputs||[]),t=Qm(n.outputs||[]),i=n.propMetadata,r={},s={};for(let a in i)i.hasOwnProperty(a)&&i[a].forEach(l=>{IN(l)?r[a]={bindingPropertyName:l.alias||a,classPropertyName:a,required:l.required||!1,isSignal:!!l.isSignal,transformFunction:l.transform!=null?new Le(l.transform):null}:MN(l)&&(s[a]=l.alias||a)});let o=n.hostDirectives?.length?n.hostDirectives.map(a=>typeof a=="function"?{directive:Zt(a),inputs:null,outputs:null,isForwardReference:!1}:{directive:Zt(a.directive),isForwardReference:!1,inputs:a.inputs?Qm(a.inputs):null,outputs:a.outputs?Qm(a.outputs):null}):null;return _e(L({},n),{typeArgumentCount:0,typeSourceSpan:n.typeSourceSpan,type:Zt(n.type),deps:null,host:L({},kN(n.propMetadata,n.typeSourceSpan,n.host)),inputs:L(L({},e),r),outputs:L(L({},t),s),queries:n.queries.map(Uy),providers:n.providers!=null?new Le(n.providers):null,viewQueries:n.viewQueries.map(Uy),fullInheritance:!1,hostDirectives:o})}function y_(n,e){let t=n.hostDirectives?.length?n.hostDirectives.map(i=>({directive:Zt(i.directive),isForwardReference:!1,inputs:i.inputs?Qy(i.inputs):null,outputs:i.outputs?Qy(i.outputs):null})):null;return{name:n.type.name,type:Zt(n.type),typeSourceSpan:e,selector:n.selector??null,inputs:n.inputs?PN(n.inputs):{},outputs:n.outputs??{},host:xN(n.host),queries:(n.queries??[]).map(zy),viewQueries:(n.viewQueries??[]).map(zy),providers:n.providers!==void 0?new Le(n.providers):null,exportAs:n.exportAs??null,usesInheritance:n.usesInheritance??!1,lifecycle:{usesOnChanges:n.usesOnChanges??!1},deps:null,typeArgumentCount:0,fullInheritance:!1,isStandalone:n.isStandalone??i2(n.version),isSignal:n.isSignal??!1,hostDirectives:t}}function xN(n={}){return{attributes:bN(n.attributes??{}),listeners:n.listeners??{},properties:n.properties??{},specialAttributes:{classAttr:n.classAttribute,styleAttr:n.styleAttribute}}}function Qy(n){let e=null;for(let t=1;t<n.length;t+=2)e=e||{},e[n[t-1]]=n[t];return e}function bN(n){let e={};for(let t of Object.keys(n))e[t]=new Le(n[t]);return e}function yN(n,e,t){let{template:i,interpolation:r,defer:s}=__(n.template,n.type.name,t,n.preserveWhitespaces??!1,n.interpolation,n.deferBlockDependencies),o=[];if(n.dependencies)for(let a of n.dependencies)switch(a.kind){case"directive":case"component":o.push(Wm(a));break;case"pipe":o.push(SN(a));break}else(n.components||n.directives||n.pipes)&&(n.components&&o.push(...n.components.map(a=>Wm(a,!0))),n.directives&&o.push(...n.directives.map(a=>Wm(a))),n.pipes&&o.push(...wN(n.pipes)));return _e(L({},y_(n,e)),{template:i,styles:n.styles??[],declarations:o,viewProviders:n.viewProviders!==void 0?new Le(n.viewProviders):null,animations:n.animations!==void 0?new Le(n.animations):null,defer:s,changeDetection:n.changeDetection??xg.Default,encapsulation:n.encapsulation??Ys.Emulated,interpolation:r,declarationListEmitMode:2,relativeContextFilePath:"",i18nUseExternalIds:!0,relativeTemplatePath:null})}function _N(n){return _e(L({},n),{type:new Le(n.type)})}function Wm(n,e=null){return{kind:qp.Directive,isComponent:e||n.kind==="component",selector:n.selector,type:new Le(n.type),inputs:n.inputs??[],outputs:n.outputs??[],exportAs:n.exportAs??null}}function wN(n){return n?Object.keys(n).map(e=>({kind:qp.Pipe,name:e,type:new Le(n[e])})):[]}function SN(n){return{kind:qp.Pipe,name:n.name,type:new Le(n.type)}}function __(n,e,t,i,r,s){let o=r?np.fromArray(r):ir,a=eN(n,t,{preserveWhitespaces:i,interpolationConfig:o});if(a.errors!==null){let u=a.errors.map(f=>f.toString()).join(", ");throw new Error(`Errors during JIT compilation of template for ${e}: ${u}`)}let c=new ug(new yd).bind({template:a.nodes});return{template:a,interpolation:o,defer:CN(c,s)}}function oa(n,e){if(n.hasOwnProperty(e))return Sg(new Le(n[e]),0)}function Gy(n,e){if(n.hasOwnProperty(e))return new Le(n[e])}function Yy(n){let e=typeof n=="function"?new Le(n):new vn(n??null);return Sg(e,0)}function EN(n){return n==null?null:n.map(w_)}function w_(n){let e=n.attribute!=null,t=n.token===null?null:new Le(n.token),i=e?new Le(n.attribute):t;return S_(i,e,n.host,n.optional,n.self,n.skipSelf)}function Xy(n){let e=n.attribute??!1,t=n.token===null?null:new Le(n.token);return S_(t,e,n.host??!1,n.optional??!1,n.self??!1,n.skipSelf??!1)}function S_(n,e,t,i,r,s){let o=e?R("unknown"):null;return{token:n,attributeNameType:o,host:t,optional:i,self:r,skipSelf:s}}function CN(n,e){let t=n.getDeferBlocks(),i=new Map;for(let r=0;r<t.length;r++){let s=e?.[r];i.set(t[r],s?new Le(s):null)}return{mode:0,blocks:i}}function kN(n,e,t){let i=hN(t||{}),r=fN(i,e);if(r.length)throw new Error(r.map(s=>s.msg).join(`
`));for(let s in n)n.hasOwnProperty(s)&&n[s].forEach(o=>{TN(o)?i.properties[o.hostPropertyName||s]=bT("this",s):AN(o)&&(i.listeners[o.eventName||s]=`${s}(${(o.args||[]).join(",")})`)});return i}function TN(n){return n.ngMetadataName==="HostBinding"}function AN(n){return n.ngMetadataName==="HostListener"}function IN(n){return n.ngMetadataName==="Input"}function MN(n){return n.ngMetadataName==="Output"}function PN(n){return Object.keys(n).reduce((e,t)=>{let i=n[t];return typeof i=="string"||Array.isArray(i)?e[t]=DN(i):e[t]={bindingPropertyName:i.publicName,classPropertyName:t,transformFunction:i.transformFunction!==null?new Le(i.transformFunction):null,required:i.isRequired,isSignal:i.isSignal},e},{})}function DN(n){return typeof n=="string"?{bindingPropertyName:n,classPropertyName:n,transformFunction:null,required:!1,isSignal:!1}:{bindingPropertyName:n[0],classPropertyName:n[1],transformFunction:n[2]?new Le(n[2]):null,required:!1,isSignal:!1}}function NN(n){return n.reduce((e,t)=>{if(typeof t=="string"){let[i,r]=E_(t);e[r]={bindingPropertyName:i,classPropertyName:r,required:!1,isSignal:!1,transformFunction:null}}else e[t.name]={bindingPropertyName:t.alias||t.name,classPropertyName:t.name,required:t.required||!1,isSignal:!1,transformFunction:t.transform!=null?new Le(t.transform):null};return e},{})}function Qm(n){return n.reduce((e,t)=>{let[i,r]=E_(t);return e[r]=i,e},{})}function E_(n){let[e,t]=n.split(":",2).map(i=>i.trim());return[t??e,e]}function LN(n){return{name:n.type.name,type:Zt(n.type),typeArgumentCount:0,pipeName:n.name,deps:null,pure:n.pure??!0,isStandalone:n.isStandalone??i2(n.version)}}function ON(n){return{name:n.type.name,type:Zt(n.type),providers:n.providers!==void 0&&n.providers.length>0?new Le(n.providers):null,imports:n.imports!==void 0?n.imports.map(e=>new Le(e)):[]}}function RN(n){let e=n.ng||(n.ng={});e.\u0275compilerFacade=new gg}var VH=new Jm("19.2.14");var vg=class{closedByParent=!1;implicitNamespacePrefix=null;isVoid=!1;ignoreFirstLf=!1;canSelfClose=!0;preventNamespaceInheritance=!1;requireExtraParent(e){return!1}isClosedByChild(e){return!1}getContentType(){return nr.PARSABLE_DATA}},$H=new vg;RN(Zl);var Xp=new Gt(""),Gg=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r,s){return this._findPluginFor(i).addEventListener(t,i,r,s)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new Tt(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||n)(ie(Xp),ie(Oi))};static \u0275prov=ae({token:n,factory:n.\u0275fac})}return n})(),Jc=class{_doc;constructor(e){this._doc=e}manager},Gp="ng-app-id";function C_(n){for(let e of n)e.remove()}function k_(n,e){let t=e.createElement("style");return t.textContent=n,t}function FN(n,e,t,i){let r=n.head?.querySelectorAll(`style[${Gp}="${e}"],link[${Gp}="${e}"]`);if(r)for(let s of r)s.removeAttribute(Gp),s instanceof HTMLLinkElement?i.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&t.set(s.textContent,{usage:0,elements:[s]})}function Wg(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Yg=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.isServer=Sm(s),FN(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(let r of t)this.addUsage(r,this.inline,k_);i?.forEach(r=>this.addUsage(r,this.external,Wg))}removeStyles(t,i){for(let r of t)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(t,i,r){let s=i.get(t);s?s.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,r(t,this.doc)))})}removeUsage(t,i){let r=i.get(t);r&&(r.usage--,r.usage<=0&&(C_(r.elements),i.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])C_(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(t,k_(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(t,Wg(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(Gp,this.appId),t.appendChild(i)}static \u0275fac=function(i){return new(i||n)(ie(Ln),ie(mm),ie(gm,8),ie(Ll))};static \u0275prov=ae({token:n,factory:n.\u0275fac})}return n})(),zg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Xg=/%COMP%/g;var A_="%COMP%",BN=`_nghost-${A_}`,VN=`_ngcontent-${A_}`,$N=!0,jN=new Gt("",{providedIn:"root",factory:()=>$N});function qN(n){return VN.replace(Xg,n)}function HN(n){return BN.replace(Xg,n)}function I_(n,e){return e.map(t=>t.replace(Xg,n))}var Zg=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,i,r,s,o,a,l,c=null,u=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=Sm(a),this.defaultRenderer=new eu(t,o,l,this.platformIsServer,this.tracingService)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ol.ShadowDom&&(i=_e(L({},i),{encapsulation:Ol.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof Yp?r.applyToHost(t):r instanceof tu&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,s=r.get(i.id);if(!s){let o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer,m=this.tracingService;switch(i.encapsulation){case Ol.Emulated:s=new Yp(l,c,i,this.appId,u,o,a,f,m);break;case Ol.ShadowDom:return new Qg(l,c,t,i,o,a,this.nonce,f,m);default:s=new tu(l,c,i,u,o,a,f,m);break}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||n)(ie(Gg),ie(Yg),ie(mm),ie(jN),ie(Ln),ie(Ll),ie(Oi),ie(gm),ie(S1,8))};static \u0275prov=ae({token:n,factory:n.\u0275fac})}return n})(),eu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,i,r,s){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.tracingService=s}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(zg[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(T_(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(T_(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new Tt(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let s=zg[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=zg[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Rl.DashCase|Rl.Important)?e.style.setProperty(t,i,r&Rl.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Rl.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i,r){if(typeof e=="string"&&(e=Bl().getGlobalEventTarget(this.doc,e),!e))throw new Tt(5102,!1);let s=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,t,s)),this.eventManager.addEventListener(e,t,s,r)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function T_(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Qg=class extends eu{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,i,r,s,o,a,l,c){super(e,s,o,l,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=I_(r.id,u);for(let m of u){let v=document.createElement("style");a&&v.setAttribute("nonce",a),v.textContent=m,this.shadowRoot.appendChild(v)}let f=r.getExternalStyles?.();if(f)for(let m of f){let v=Wg(m,s);a&&v.setAttribute("nonce",a),this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},tu=class extends eu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,i,r,s,o,a,l,c){super(e,s,o,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r;let u=i.styles;this.styles=c?I_(c,u):u,this.styleUrls=i.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Yp=class extends tu{contentAttr;hostAttr;constructor(e,t,i,r,s,o,a,l,c){let u=r+"-"+i.id;super(e,t,i,s,o,a,l,c,u),this.contentAttr=qN(u),this.hostAttr=HN(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}};var Zp=class n extends J1{supportsDOMEvents=!0;static makeCurrent(){K1(new n)}onAndCancel(e,t,i,r){return e.addEventListener(t,i,r),()=>{e.removeEventListener(t,i,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=zN();return t==null?null:WN(t)}resetBaseElement(){nu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ab(document.cookie,e)}},nu=null;function zN(){return nu=nu||document.head.querySelector("base"),nu?nu.getAttribute("href"):null}function WN(n){return new URL(n,document.baseURI).pathname}var QN=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ae({token:n,factory:n.\u0275fac})}return n})(),P_=(()=>{class n extends Jc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r,s){return t.addEventListener(i,r,s),()=>this.removeEventListener(t,i,r,s)}removeEventListener(t,i,r,s){return t.removeEventListener(i,r,s)}static \u0275fac=function(i){return new(i||n)(ie(Ln))};static \u0275prov=ae({token:n,factory:n.\u0275fac})}return n})(),M_=["alt","control","meta","shift"],GN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},YN={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},D_=(()=>{class n extends Jc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r,s){let o=n.parseEventName(i),a=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Bl().onAndCancel(t,o.domEventName,a,s))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let s=n._normalizeKey(i.pop()),o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),M_.forEach(c=>{let u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(t,i){let r=GN[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),M_.forEach(o=>{if(o!==r){let a=YN[o];a(t)&&(s+=o+".")}}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(i){return new(i||n)(ie(Ln))};static \u0275prov=ae({token:n,factory:n.\u0275fac})}return n})();function Kg(n,e){return X1(L({rootComponent:n},XN(e)))}function XN(n){return{appProviders:[...tL,...n?.providers??[]],platformProviders:eL}}function ZN(){Zp.makeCurrent()}function KN(){return new fm}function JN(){return _1(document),document}var eL=[{provide:Ll,useValue:lb},{provide:w1,useValue:ZN,multi:!0},{provide:Ln,useFactory:JN}];var tL=[{provide:g1,useValue:"root"},{provide:fm,useFactory:KN},{provide:Xp,useClass:P_,multi:!0,deps:[Ln]},{provide:Xp,useClass:D_,multi:!0,deps:[Ln]},Zg,Yg,Gg,{provide:L1,useExisting:Zg},{provide:cb,useClass:QN},[]];var N_=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(i){return new(i||n)(ie(Ln))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Jg=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=ae({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=ie(iL),r},providedIn:"root"})}return n})(),iL=(()=>{class n extends Jg{_doc;constructor(t){super(),this._doc=t}sanitize(t,i){if(i==null)return null;switch(t){case Qs.NONE:return i;case Qs.HTML:return Go(i,"HTML")?Qo(i):D1(this._doc,String(i)).toString();case Qs.STYLE:return Go(i,"Style")?Qo(i):i;case Qs.SCRIPT:if(Go(i,"Script"))return Qo(i);throw new Tt(5200,!1);case Qs.URL:return Go(i,"URL")?Qo(i):P1(String(i));case Qs.RESOURCE_URL:if(Go(i,"ResourceURL"))return Qo(i);throw new Tt(5201,!1);default:throw new Tt(5202,!1)}}bypassSecurityTrustHtml(t){return k1(t)}bypassSecurityTrustStyle(t){return T1(t)}bypassSecurityTrustScript(t){return A1(t)}bypassSecurityTrustUrl(t){return I1(t)}bypassSecurityTrustResourceUrl(t){return M1(t)}static \u0275fac=function(i){return new(i||n)(ie(Ln))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var wt=class n{constructor(e){this.http=e}apiUrl=ht.apiUrl+"/auth";role$=new dn(localStorage.getItem("role"));userName$=new dn(localStorage.getItem("userName"));register(e){return this.http.post(`${this.apiUrl}/register`,e)}login(e,t){return this.http.post(`${this.apiUrl}/login`,{email:e,password:t}).pipe(sn(i=>{localStorage.setItem("token",i.token),localStorage.setItem("role",i.role),localStorage.setItem("userName",i.name),localStorage.setItem("userId",i.userId),this.role$.next(i.role),this.userName$.next(i.name)}))}logout(){localStorage.removeItem("token"),localStorage.removeItem("role"),localStorage.removeItem("userName"),localStorage.removeItem("userId"),this.role$.next(null),this.userName$.next(null)}isLoggedIn(){return!!localStorage.getItem("token")}getToken(){return localStorage.getItem("token")}getUserRole(){return localStorage.getItem("role")}getRole(){return this.getUserRole()}getUserName(){return localStorage.getItem("userName")}getUserId(){return localStorage.getItem("userId")}getUserNameObservable(){return this.userName$.asObservable()}static \u0275fac=function(t){return new(t||n)(ie(_t))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})};var Kp=class n{constructor(e){this.auth=e}intercept(e,t){let i=this.auth.getToken();return i&&(e=e.clone({setHeaders:{Authorization:`Bearer ${i}`}})),t.handle(e)}static \u0275fac=function(t){return new(t||n)(ie(wt))};static \u0275prov=ae({token:n,factory:n.\u0275fac})};var De="primary",mu=Symbol("RouteTitle"),rv=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Co(n){return new rv(n)}function q_(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=n[s];if(o[0]===":")r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function rL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!hr(n[t],e[t]))return!1;return!0}function hr(n,e){let t=n?sv(n):void 0,i=e?sv(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!H_(n[r],e[r]))return!1;return!0}function sv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function H_(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}else return n===e}function U_(n){return n.length>0?n[n.length-1]:null}function ks(n){return l1(n)?n:V1(n)?In(Promise.resolve(n)):ve(n)}var sL={exact:W_,subset:Q_},z_={exact:oL,subset:aL,ignored:()=>!0};function O_(n,e,t){return sL[t.paths](n.root,e.root,t.matrixParams)&&z_[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function oL(n,e){return hr(n,e)}function W_(n,e,t){if(!So(n.segments,e.segments)||!th(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!W_(n.children[i],e.children[i],t))return!1;return!0}function aL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>H_(n[t],e[t]))}function Q_(n,e,t){return G_(n,e,e.segments,t)}function G_(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!So(r,t)||e.hasChildren()||!th(r,t,i))}else if(n.segments.length===t.length){if(!So(n.segments,t)||!th(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!Q_(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!So(n.segments,r)||!th(n.segments,r,i)||!n.children[De]?!1:G_(n.children[De],e,s,i)}}function th(n,e,t){return e.every((i,r)=>z_[t](n[r].parameters,i.parameters))}var mr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Xe([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Co(this.queryParams),this._queryParamMap}toString(){return uL.serialize(this)}},Xe=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nh(this)}},ws=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Co(this.parameters),this._parameterMap}toString(){return X_(this)}};function lL(n,e){return So(n,e)&&n.every((t,i)=>hr(t.parameters,e[i].parameters))}function So(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function cL(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===De&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==De&&(t=t.concat(e(r,i)))}),t}var ko=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=ae({token:n,factory:()=>new Ss,providedIn:"root"})}return n})(),Ss=class{parse(e){let t=new av(e);return new mr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${iu(e.root,!0)}`,i=hL(e.queryParams),r=typeof e.fragment=="string"?`#${dL(e.fragment)}`:"";return`${t}${i}${r}`}},uL=new Ss;function nh(n){return n.segments.map(e=>X_(e)).join("/")}function iu(n,e){if(!n.hasChildren())return nh(n);if(e){let t=n.children[De]?iu(n.children[De],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==De&&i.push(`${r}:${iu(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=cL(n,(i,r)=>r===De?[iu(n.children[De],!1)]:[`${r}:${iu(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[De]!=null?`${nh(n)}/${t[0]}`:`${nh(n)}/(${t.join("//")})`}}function Y_(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jp(n){return Y_(n).replace(/%3B/gi,";")}function dL(n){return encodeURI(n)}function ov(n){return Y_(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ih(n){return decodeURIComponent(n)}function R_(n){return ih(n.replace(/\+/g,"%20"))}function X_(n){return`${ov(n.path)}${pL(n.parameters)}`}function pL(n){return Object.entries(n).map(([e,t])=>`;${ov(e)}=${ov(t)}`).join("")}function hL(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Jp(t)}=${Jp(r)}`).join("&"):`${Jp(t)}=${Jp(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var fL=/^[^\/()?;#]+/;function ev(n){let e=n.match(fL);return e?e[0]:""}var mL=/^[^\/()?;=#]+/;function gL(n){let e=n.match(mL);return e?e[0]:""}var vL=/^[^=?&#]+/;function xL(n){let e=n.match(vL);return e?e[0]:""}var bL=/^[^&#]+/;function yL(n){let e=n.match(bL);return e?e[0]:""}var av=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xe([],{}):new Xe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[De]=new Xe(e,t)),i}parseSegment(){let e=ev(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Tt(4009,!1);return this.capture(e),new ws(ih(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=gL(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=ev(this.remaining);r&&(i=r,this.capture(i))}e[ih(t)]=ih(i)}parseQueryParam(e){let t=xL(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let o=yL(this.remaining);o&&(i=o,this.capture(i))}let r=R_(t),s=R_(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=ev(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Tt(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=De);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[De]:new Xe([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Tt(4011,!1)}};function Z_(n){return n.segments.length>0?new Xe([],{[De]:n}):n}function K_(n){let e={};for(let[i,r]of Object.entries(n.children)){let s=K_(r);if(i===De&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let t=new Xe(n.segments,e);return _L(t)}function _L(n){if(n.numberOfChildren===1&&n.children[De]){let e=n.children[De];return new Xe(n.segments.concat(e.segments),e.children)}return n}function Es(n){return n instanceof mr}function J_(n,e,t=null,i=null){let r=ew(n);return tw(r,e,t,i)}function ew(n){let e;function t(s){let o={};for(let l of s.children){let c=t(l);o[l.outlet]=c}let a=new Xe(s.url,o);return s===n&&(e=a),a}let i=t(n.root),r=Z_(i);return e??r}function tw(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return tv(r,r,r,t,i);let s=wL(e);if(s.toRoot())return tv(r,r,new Xe([],{}),t,i);let o=SL(s,r,n),a=o.processChildren?su(o.segmentGroup,o.index,s.commands):iw(o.segmentGroup,o.index,s.commands);return tv(r,o.segmentGroup,a,t,i)}function sh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function au(n){return typeof n=="object"&&n!=null&&n.outlets}function tv(n,e,t,i,r){let s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;n===e?o=t:o=nw(n,e,t);let a=Z_(K_(o));return new mr(a,s,r)}function nw(n,e,t){let i={};return Object.entries(n.children).forEach(([r,s])=>{s===e?i[r]=t:i[r]=nw(s,e,t)}),new Xe(n.segments,i)}var oh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&sh(i[0]))throw new Tt(4003,!1);let r=i.find(au);if(r&&r!==U_(i))throw new Tt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function wL(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new oh(!0,0,n);let e=0,t=!1,i=n.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new oh(t,e,i)}var Qa=class{segmentGroup;processChildren;index;constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function SL(n,e,t){if(n.isAbsolute)return new Qa(e,!0,0);if(!t)return new Qa(e,!1,NaN);if(t.parent===null)return new Qa(t,!0,0);let i=sh(n.commands[0])?0:1,r=t.segments.length-1+i;return EL(t,r,n.numberOfDoubleDots)}function EL(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Tt(4005,!1);r=i.segments.length}return new Qa(i,!1,r-s)}function CL(n){return au(n[0])?n[0].outlets:{[De]:n}}function iw(n,e,t){if(n??=new Xe([],{}),n.segments.length===0&&n.hasChildren())return su(n,e,t);let i=kL(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let s=new Xe(n.segments.slice(0,i.pathIndex),{});return s.children[De]=new Xe(n.segments.slice(i.pathIndex),n.children),su(s,0,r)}else return i.match&&r.length===0?new Xe(n.segments,{}):i.match&&!n.hasChildren()?lv(n,e,t):i.match?su(n,0,r):lv(n,e,t)}function su(n,e,t){if(t.length===0)return new Xe(n.segments,{});{let i=CL(t),r={};if(Object.keys(i).some(s=>s!==De)&&n.children[De]&&n.numberOfChildren===1&&n.children[De].segments.length===0){let s=su(n.children[De],e,t);return new Xe(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=iw(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new Xe(n.segments,r)}}function kL(n,e,t){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;let o=n.segments[r],a=t[i];if(au(a))break;let l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!B_(l,c,o))return s;i+=2}else{if(!B_(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function lv(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let s=t[r];if(au(s)){let l=TL(s.outlets);return new Xe(i,l)}if(r===0&&sh(t[0])){let l=n.segments[e];i.push(new ws(l.path,F_(t[0]))),r++;continue}let o=au(s)?s.outlets[De]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&sh(a)?(i.push(new ws(o,F_(a))),r+=2):(i.push(new ws(o,{})),r++)}return new Xe(i,{})}function TL(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=lv(new Xe([],{}),0,i))}),e}function F_(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function B_(n,e,t){return n==t.path&&hr(e,t.parameters)}var rh="imperative",Jt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Jt||{}),di=class{id;url;constructor(e,t){this.id=e,this.url=t}},Cs=class extends di{type=Jt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},pi=class extends di{urlAfterRedirects;type=Jt.NavigationEnd;constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Qn||{}),Ya=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Ya||{}),fr=class extends di{reason;code;type=Jt.NavigationCancel;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},gr=class extends di{reason;code;type=Jt.NavigationSkipped;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}},Xa=class extends di{error;target;type=Jt.NavigationError;constructor(e,t,i,r){super(e,t),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},lu=class extends di{urlAfterRedirects;state;type=Jt.RoutesRecognized;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ah=class extends di{urlAfterRedirects;state;type=Jt.GuardsCheckStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lh=class extends di{urlAfterRedirects;state;shouldActivate;type=Jt.GuardsCheckEnd;constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ch=class extends di{urlAfterRedirects;state;type=Jt.ResolveStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uh=class extends di{urlAfterRedirects;state;type=Jt.ResolveEnd;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dh=class{route;type=Jt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ph=class{route;type=Jt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},hh=class{snapshot;type=Jt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fh=class{snapshot;type=Jt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mh=class{snapshot;type=Jt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gh=class{snapshot;type=Jt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Za=class{routerEvent;position;anchor;type=Jt.Scroll;constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},cu=class{},Ka=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function AL(n,e){return n.providers&&!n._injector&&(n._injector=ed(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Wi(n){return n.outlet||De}function IL(n,e){let t=n.filter(i=>Wi(i)===e);return t.push(...n.filter(i=>Wi(i)!==e)),t}function gu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var vh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return gu(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new To(this.rootInjector)}},To=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new vh(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(i){return new(i||n)(ie(Wo))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=cv(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=cv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=uv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return uv(e,this._root).map(t=>t.value)}};function cv(n,e){if(n===e.value)return e;for(let t of e.children){let i=cv(n,t);if(i)return i}return null}function uv(n,e){if(n===e.value)return[e];for(let t of e.children){let i=uv(n,t);if(i.length)return i.unshift(e),i}return[]}var ui=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Wa(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var uu=class extends xh{snapshot;constructor(e,t){super(e),this.snapshot=t,xv(this,e)}toString(){return this.snapshot.toString()}};function rw(n){let e=ML(n),t=new dn([new ws("",{})]),i=new dn({}),r=new dn({}),s=new dn({}),o=new dn(""),a=new cn(t,i,s,o,r,De,n,e.root);return a.snapshot=e.root,new uu(new ui(a,[]),e)}function ML(n){let e={},t={},i={},r="",s=new Eo([],e,i,r,t,De,n,null,{});return new du("",new ui(s,[]))}var cn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,i,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(rt(c=>c[mu]))??ve(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(rt(e=>Co(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(rt(e=>Co(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function bh(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),r?.data),n._resolvedData)}:i={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},r&&ow(r)&&(i.resolve[mu]=r.title),i}var Eo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[mu]}constructor(e,t,i,r,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Co(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Co(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},du=class extends xh{url;constructor(e,t){super(t),this.url=e,xv(this,t)}toString(){return sw(this._root)}};function xv(n,e){e.value._routerState=n,e.children.forEach(t=>xv(n,t))}function sw(n){let e=n.children.length>0?` { ${n.children.map(sw).join(", ")} } `:"";return`${n.value}${e}`}function nv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,hr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),hr(e.params,t.params)||n.paramsSubject.next(t.params),rL(e.url,t.url)||n.urlSubject.next(t.url),hr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function dv(n,e){let t=hr(n.params,e.params)&&lL(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||dv(n.parent,e.parent))}function ow(n){return typeof n.title=="string"||n.title===null}var aw=new Gt(""),vu=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=De;activateEvents=new Ji;deactivateEvents=new Ji;attachEvents=new Ji;detachEvents=new Ji;routerOutletData=y1(void 0);parentContexts=se(To);location=se(R1);changeDetector=se(nd);inputBinder=se(xu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Tt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Tt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Tt(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Tt(4013,!1);this._activatedRoute=t;let r=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new pv(t,a,r.injector,this.routerOutletData);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Gs({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ws]})}return n})(),pv=class{route;childContexts;parent;outletData;constructor(e,t,i,r){this.route=e,this.childContexts=t,this.parent=i,this.outletData=r}get(e,t){return e===cn?this.route:e===To?this.childContexts:e===aw?this.outletData:this.parent.get(e,t)}},xu=new Gt(""),bv=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=qo([i.queryParams,i.params,i.data]).pipe(ei(([s,o,a],l)=>(a=L(L(L({},s),o),a),l===0?ve(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let o=Z1(i.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,r)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ae({token:n,factory:n.\u0275fac})}return n})(),yv=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=pe({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&S(0,"router-outlet")},dependencies:[vu],encapsulation:2})}return n})();function _v(n){let e=n.children&&n.children.map(_v),t=e?_e(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==De&&(t.component=yv),t}function PL(n,e,t){let i=pu(n,e._root,t?t._root:void 0);return new uu(i,e)}function pu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=DL(n,e,t);return new ui(i,r)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>pu(n,a)),o}}let i=NL(e.value),r=e.children.map(s=>pu(n,s));return new ui(i,r)}}function DL(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return pu(n,i,r);return pu(n,i)})}function NL(n){return new cn(new dn(n.url),new dn(n.params),new dn(n.queryParams),new dn(n.fragment),new dn(n.data),n.outlet,n.component,n)}var Ja=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},lw="ngNavigationCancelingError";function yh(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=Es(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=cw(!1,Qn.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function cw(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[lw]=!0,t.cancellationCode=e,t}function LL(n){return uw(n)&&Es(n.url)}function uw(n){return!!n&&n[lw]}var OL=(n,e,t,i)=>rt(r=>(new hv(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),hv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),nv(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=Wa(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Wa(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Wa(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=Wa(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new gh(s.value.snapshot))}),e.children.length&&this.forwardEvent(new fh(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(nv(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),nv(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,i)}},_h=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ga=class{component;route;constructor(e,t){this.component=e,this.route=t}};function RL(n,e,t){let i=n._root,r=e?e._root:null;return ru(i,r,t,[i.value])}function FL(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function tl(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!m1(n)?n:e.get(n):i}function ru(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=Wa(e);return n.children.forEach(o=>{BL(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ou(a,t.getContext(o),r)),r}function BL(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=VL(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new _h(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ru(n,e,a?a.children:null,i,r):ru(n,e,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ga(a.outlet.component,o))}else o&&ou(e,a,r),r.canActivateChecks.push(new _h(i)),s.component?ru(n,null,a?a.children:null,i,r):ru(n,null,t,i,r);return r}function VL(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!So(n.url,e.url);case"pathParamsOrQueryParamsChange":return!So(n.url,e.url)||!hr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dv(n,e)||!hr(n.queryParams,e.queryParams);case"paramsChange":default:return!dv(n,e)}}function ou(n,e,t){let i=Wa(n),r=n.value;Object.entries(i).forEach(([s,o])=>{r.component?e?ou(o,e.children.getContext(s),t):ou(o,null,t):ou(o,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ga(e.outlet.component,r)):t.canDeactivateChecks.push(new Ga(null,r)):t.canDeactivateChecks.push(new Ga(null,r))}function bu(n){return typeof n=="function"}function $L(n){return typeof n=="boolean"}function jL(n){return n&&bu(n.canLoad)}function qL(n){return n&&bu(n.canActivate)}function HL(n){return n&&bu(n.canActivateChild)}function UL(n){return n&&bu(n.canDeactivate)}function zL(n){return n&&bu(n.canMatch)}function dw(n){return n instanceof c1||n?.name==="EmptyError"}var eh=Symbol("INITIAL_VALUE");function el(){return ei(n=>qo(n.map(e=>e.pipe(Ho(1),zo(eh)))).pipe(rt(e=>{for(let t of e)if(t!==!0){if(t===eh)return eh;if(t===!1||WL(t))return t}return!0}),Zr(e=>e!==eh),Ho(1)))}function WL(n){return Es(n)||n instanceof Ja}function QL(n,e){return Nn(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?ve(_e(L({},t),{guardsResult:!0})):GL(o,i,r,n).pipe(Nn(a=>a&&$L(a)?YL(i,s,n,e):ve(a)),rt(a=>_e(L({},t),{guardsResult:a})))})}function GL(n,e,t,i){return In(n).pipe(Nn(r=>eO(r.component,r.route,t,e,i)),Kr(r=>r!==!0,!0))}function YL(n,e,t,i){return In(e).pipe(zs(r=>u1(ZL(r.route.parent,i),XL(r.route,i),JL(n,r.path,t),KL(n,r.route,t))),Kr(r=>r!==!0,!0))}function XL(n,e){return n!==null&&e&&e(new mh(n)),ve(!0)}function ZL(n,e){return n!==null&&e&&e(new hh(n)),ve(!0)}function KL(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return ve(!0);let r=i.map(s=>lm(()=>{let o=gu(e)??t,a=tl(s,o),l=qL(a)?a.canActivate(e,n):Ki(o,()=>a(e,n));return ks(l).pipe(Kr())}));return ve(r).pipe(el())}function JL(n,e,t){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>FL(o)).filter(o=>o!==null).map(o=>lm(()=>{let a=o.guards.map(l=>{let c=gu(o.node)??t,u=tl(l,c),f=HL(u)?u.canActivateChild(i,n):Ki(c,()=>u(i,n));return ks(f).pipe(Kr())});return ve(a).pipe(el())}));return ve(s).pipe(el())}function eO(n,e,t,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return ve(!0);let o=s.map(a=>{let l=gu(e)??r,c=tl(a,l),u=UL(c)?c.canDeactivate(n,e,t,i):Ki(l,()=>c(n,e,t,i));return ks(u).pipe(Kr())});return ve(o).pipe(el())}function tO(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return ve(!0);let s=r.map(o=>{let a=tl(o,n),l=jL(a)?a.canLoad(e,t):Ki(n,()=>a(e,t));return ks(l)});return ve(s).pipe(el(),pw(i))}function pw(n){return a1(sn(e=>{if(typeof e!="boolean")throw yh(n,e)}),rt(e=>e===!0))}function nO(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return ve(!0);let s=r.map(o=>{let a=tl(o,n),l=zL(a)?a.canMatch(e,t):Ki(n,()=>a(e,t));return ks(l)});return ve(s).pipe(el(),pw(i))}var hu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},fu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function za(n){return Ml(new hu(n))}function iO(n){return Ml(new Tt(4e3,!1))}function rO(n){return Ml(cw(!1,Qn.GuardRejected))}var fv=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return ve(i);if(r.numberOfChildren>1||!r.children[De])return iO(`${e.redirectTo}`);r=r.children[De]}}applyRedirectCommands(e,t,i,r,s){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:u,url:f,outlet:m,params:v,data:b,title:w}=r,y=Ki(s,()=>a({params:v,data:b,queryParams:l,fragment:c,routeConfig:u,url:f,outlet:m,title:w}));if(y instanceof mr)throw new fu(y);t=y}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new fu(o);return o}applyRedirectCreateUrlTree(e,t,i,r){let s=this.createSegmentGroup(e,t.root,i,r);return new mr(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){let s=this.createSegments(e,t.segments,i,r),o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,i,r)}),new Xe(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new Tt(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},mv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sO(n,e,t,i,r){let s=hw(n,e,t);return s.matched?(i=AL(e,i),nO(i,e,t,r).pipe(rt(o=>o===!0?s:L({},mv)))):ve(s)}function hw(n,e,t){if(e.path==="**")return oO(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},mv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||q_)(t,n,e);if(!r)return L({},mv);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?L(L({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function oO(n){return{matched:!0,parameters:n.length>0?U_(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function V_(n,e,t,i){return t.length>0&&cO(n,t,i)?{segmentGroup:new Xe(e,lO(i,new Xe(t,n.children))),slicedSegments:[]}:t.length===0&&uO(n,t,i)?{segmentGroup:new Xe(n.segments,aO(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Xe(n.segments,n.children),slicedSegments:t}}function aO(n,e,t,i){let r={};for(let s of t)if(Sh(n,e,s)&&!i[Wi(s)]){let o=new Xe([],{});r[Wi(s)]=o}return L(L({},i),r)}function lO(n,e){let t={};t[De]=e;for(let i of n)if(i.path===""&&Wi(i)!==De){let r=new Xe([],{});t[Wi(i)]=r}return t}function cO(n,e,t){return t.some(i=>Sh(n,e,i)&&Wi(i)!==De)}function uO(n,e,t){return t.some(i=>Sh(n,e,i))}function Sh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function dO(n,e,t){return e.length===0&&!n.children[t]}var gv=class{};function pO(n,e,t,i,r,s,o="emptyOnly"){return new vv(n,e,t,i,r,o,s).recognize()}var hO=31,vv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,i,r,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new fv(this.urlSerializer,this.urlTree)}noMatchError(e){return new Tt(4002,`'${e.segmentGroup}'`)}recognize(){let e=V_(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(rt(({children:t,rootSnapshot:i})=>{let r=new ui(i,t),s=new du("",r),o=J_(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new Eo([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),De,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,De,t).pipe(rt(i=>({children:i,rootSnapshot:t})),Ar(i=>{if(i instanceof fu)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof hu?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,s){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,s):this.processSegment(e,t,i,i.segments,r,!0,s).pipe(rt(o=>o instanceof ui?[o]:[]))}processChildren(e,t,i,r){let s=[];for(let o of Object.keys(i.children))o==="primary"?s.unshift(o):s.push(o);return In(s).pipe(zs(o=>{let a=i.children[o],l=IL(t,o);return this.processSegmentGroup(e,l,a,o,r)}),h1((o,a)=>(o.push(...a),o)),cm(null),p1(),Nn(o=>{if(o===null)return za(i);let a=fw(o);return fO(a),ve(a)}))}processSegment(e,t,i,r,s,o,a){return In(t).pipe(zs(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,i,r,s,o,a).pipe(Ar(c=>{if(c instanceof hu)return ve(null);throw c}))),Kr(l=>!!l),Ar(l=>{if(dw(l))return dO(i,r,s)?ve(new gv):za(i);throw l}))}processSegmentAgainstRoute(e,t,i,r,s,o,a,l){return Wi(i)!==o&&(o===De||!Sh(r,s,i))?za(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,o,l):za(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:f,remainingSegments:m}=hw(t,r,s);if(!l)return za(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>hO&&(this.allowRedirects=!1));let v=new Eo(s,c,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,$_(r),Wi(r),r.component??r._loadedComponent??null,r,j_(r)),b=bh(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(b.params),v.data=Object.freeze(b.data);let w=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,f,v,e);return this.applyRedirects.lineralizeSegments(r,w).pipe(Nn(y=>this.processSegment(e,i,t,y.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,t,i,r,s,o){let a=sO(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(ei(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(ei(({routes:c})=>{let u=i._loadedInjector??e,{parameters:f,consumedSegments:m,remainingSegments:v}=l,b=new Eo(m,f,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,$_(i),Wi(i),i.component??i._loadedComponent??null,i,j_(i)),w=bh(b,o,this.paramsInheritanceStrategy);b.params=Object.freeze(w.params),b.data=Object.freeze(w.data);let{segmentGroup:y,slicedSegments:k}=V_(t,m,v,c);if(k.length===0&&y.hasChildren())return this.processChildren(u,c,y,b).pipe(rt(V=>new ui(b,V)));if(c.length===0&&k.length===0)return ve(new ui(b,[]));let I=Wi(i)===s;return this.processSegment(u,c,y,k,I?De:s,!0,b).pipe(rt(V=>new ui(b,V instanceof ui?[V]:[])))}))):za(t)))}getChildConfig(e,t,i){return t.children?ve({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ve({routes:t._loadedRoutes,injector:t._loadedInjector}):tO(e,t,i,this.urlSerializer).pipe(Nn(r=>r?this.configLoader.loadChildren(e,t).pipe(sn(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):rO(t))):ve({routes:[],injector:e})}};function fO(n){n.sort((e,t)=>e.value.outlet===De?-1:t.value.outlet===De?1:e.value.outlet.localeCompare(t.value.outlet))}function mO(n){let e=n.value.routeConfig;return e&&e.path===""}function fw(n){let e=[],t=new Set;for(let i of n){if(!mO(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=fw(i.children);e.push(new ui(i.value,r))}return e.filter(i=>!t.has(i))}function $_(n){return n.data||{}}function j_(n){return n.resolve||{}}function gO(n,e,t,i,r,s){return Nn(o=>pO(n,e,t,i,o.extractedUrl,r,s).pipe(rt(({state:a,tree:l})=>_e(L({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function vO(n,e){return Nn(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ve(t);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of mw(l))o.add(c);let a=0;return In(o).pipe(zs(l=>s.has(l)?xO(l,i,n,e):(l.data=bh(l,l.parent,n).resolve,ve(void 0))),sn(()=>a++),um(1),Nn(l=>a===o.size?ve(t):Tr))})}function mw(n){let e=n.children.map(t=>mw(t)).flat();return[n,...e]}function xO(n,e,t,i){let r=n.routeConfig,s=n._resolve;return r?.title!==void 0&&!ow(r)&&(s[mu]=r.title),bO(s,n,e,i).pipe(rt(o=>(n._resolvedData=o,n.data=bh(n,n.parent,t).resolve,null)))}function bO(n,e,t,i){let r=sv(n);if(r.length===0)return ve({});let s={};return In(r).pipe(Nn(o=>yO(n[o],e,t,i).pipe(Kr(),sn(a=>{if(a instanceof Ja)throw yh(new Ss,a);s[o]=a}))),um(1),rt(()=>s),Ar(o=>dw(o)?Tr:Ml(o)))}function yO(n,e,t,i){let r=gu(e)??i,s=tl(n,r),o=s.resolve?s.resolve(e,t):Ki(r,()=>s(e,t));return ks(o)}function iv(n){return ei(e=>{let t=n(e);return t?In(t).pipe(rt(()=>e)):ve(e)})}var wv=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===De);return i}getResolvedTitleForRoute(t){return t.data[mu]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ae({token:n,factory:()=>se(gw),providedIn:"root"})}return n})(),gw=(()=>{class n extends wv{title;constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(ie(N_))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ao=new Gt("",{providedIn:"root",factory:()=>({})}),Io=new Gt(""),Eh=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=se(Y1);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ve(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=ks(t.loadComponent()).pipe(rt(xw),sn(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Uo(()=>{this.componentLoaders.delete(t)})),r=new am(i,()=>new Li).pipe(om());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ve({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=vw(i,this.compiler,t,this.onLoadEndListener).pipe(Uo(()=>{this.childrenLoaders.delete(i)})),o=new am(s,()=>new Li).pipe(om());return this.childrenLoaders.set(i,o),o}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vw(n,e,t,i){return ks(n.loadChildren()).pipe(rt(xw),Nn(r=>r instanceof F1||Array.isArray(r)?ve(r):In(e.compileModuleAsync(r))),rt(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(t).injector,o=s.get(Io,[],{optional:!0,self:!0}).flat()),{routes:o.map(_v),injector:s}}))}function _O(n){return n&&typeof n=="object"&&"default"in n}function xw(n){return _O(n)?n.default:n}var Ch=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=ae({token:n,factory:()=>se(wO),providedIn:"root"})}return n})(),wO=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sv=new Gt(""),Ev=new Gt("");function bw(n,e,t){let i=n.get(Ev),r=n.get(Ln);return n.get(Oi).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c}),a=r.startViewTransition(()=>(s(),SO(n))),{onViewTransitionCreated:l}=i;return l&&Ki(n,()=>l({transition:a,from:e,to:t})),o})}function SO(n){return new Promise(e=>{C1({read:()=>setTimeout(e)},{injector:n})})}var Cv=new Gt(""),kh=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Li;transitionAbortSubject=new Li;configLoader=se(Eh);environmentInjector=se(Wo);destroyRef=se(x1);urlSerializer=se(ko);rootContexts=se(To);location=se(Jo);inputBindingEnabled=se(xu,{optional:!0})!==null;titleStrategy=se(wv);options=se(Ao,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=se(Ch);createViewTransition=se(Sv,{optional:!0});navigationErrorHandler=se(Cv,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ve(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=r=>this.events.next(new dh(r)),i=r=>this.events.next(new ph(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(_e(L({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))}setupNavigations(t){return this.transitions=new dn(null),this.transitions.pipe(Zr(i=>i!==null),ei(i=>{let r=!1,s=!1;return ve(i).pipe(ei(o=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Qn.SupersededByNewNavigation),Tr;this.currentTransition=i,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?_e(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new gr(o.id,this.urlSerializer.serialize(o.rawUrl),c,Ya.IgnoredSameUrlNavigation)),o.resolve(!1),Tr}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ve(o).pipe(ei(c=>(this.events.next(new Cs(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Tr:Promise.resolve(c))),gO(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),sn(c=>{i.targetSnapshot=c.targetSnapshot,i.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=_e(L({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new lu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:u,source:f,restoredState:m,extras:v}=o,b=new Cs(c,this.urlSerializer.serialize(u),f,m);this.events.next(b);let w=rw(this.rootComponentType).snapshot;return this.currentTransition=i=_e(L({},o),{targetSnapshot:w,urlAfterRedirects:u,extras:_e(L({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,ve(i)}else{let c="";return this.events.next(new gr(o.id,this.urlSerializer.serialize(o.extractedUrl),c,Ya.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Tr}}),sn(o=>{let a=new ah(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),rt(o=>(this.currentTransition=i=_e(L({},o),{guards:RL(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),i)),QL(this.environmentInjector,o=>this.events.next(o)),sn(o=>{if(i.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw yh(this.urlSerializer,o.guardsResult);let a=new lh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Zr(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Qn.GuardRejected),!1)),iv(o=>{if(o.guards.canActivateChecks.length!==0)return ve(o).pipe(sn(a=>{let l=new ch(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),ei(a=>{let l=!1;return ve(a).pipe(vO(this.paramsInheritanceStrategy,this.environmentInjector),sn({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",Qn.NoDataFromResolver)}}))}),sn(a=>{let l=new uh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),iv(o=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(sn(u=>{l.component=u}),rt(()=>{})));for(let u of l.children)c.push(...a(u));return c};return qo(a(o.targetSnapshot.root)).pipe(cm(null),Ho(1))}),iv(()=>this.afterPreactivation()),ei(()=>{let{currentSnapshot:o,targetSnapshot:a}=i,l=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return l?In(l).pipe(rt(()=>i)):ve(i)}),rt(o=>{let a=PL(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=i=_e(L({},o),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,i}),sn(()=>{this.events.next(new cu)}),OL(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Ho(1),sn({next:o=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new pi(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),f1(this.transitionAbortSubject.pipe(sn(o=>{throw o}))),Uo(()=>{!r&&!s&&this.cancelNavigationTransition(i,"",Qn.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ar(o=>{if(this.destroyed)return i.resolve(!1),Tr;if(s=!0,uw(o))this.events.next(new fr(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode)),LL(o)?this.events.next(new Ka(o.url,o.navigationBehaviorOptions)):i.resolve(!1);else{let a=new Xa(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);try{let l=Ki(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof Ja){let{message:c,cancellationCode:u}=yh(this.urlSerializer,l);this.events.next(new fr(i.id,this.urlSerializer.serialize(i.extractedUrl),c,u)),this.events.next(new Ka(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(l){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(l)}}return Tr}))}))}cancelNavigationTransition(t,i,r){let s=new fr(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function EO(n){return n!==rh}var yw=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=ae({token:n,factory:()=>se(CO),providedIn:"root"})}return n})(),wh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},CO=(()=>{class n extends wh{static \u0275fac=(()=>{let t;return function(r){return(t||(t=hm(n)))(r||n)}})();static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_w=(()=>{class n{urlSerializer=se(ko);options=se(Ao,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=se(Jo);urlHandlingStrategy=se(Ch);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new mr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:i,targetBrowserUrl:r}){let s=t!==void 0?this.urlHandlingStrategy.merge(t,i):i,o=r??s;return o instanceof mr?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:t,finalUrl:i,initialUrl:r}){i&&t?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=t):this.rawUrlTree=r}routerState=rw(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ae({token:n,factory:()=>se(kO),providedIn:"root"})}return n})(),kO=(()=>{class n extends _w{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{t(i.url,i.state,"popstate")})})}handleRouterEvent(t,i){t instanceof Cs?this.updateStateMemento():t instanceof gr?this.commitTransition(i):t instanceof lu?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof cu?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof fr&&(t.code===Qn.GuardRejected||t.code===Qn.NoDataFromResolver)?this.restoreHistory(i):t instanceof Xa?this.restoreHistory(i,!0):t instanceof pi&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:i,id:r}){let{replaceUrl:s,state:o}=i;if(this.location.isCurrentPathEqualTo(t)||s){let a=this.browserPageId,l=L(L({},o),this.generateNgRouterState(r,a));this.location.replaceState(t,"",l)}else{let a=L(L({},o),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,s=this.currentPageId-r;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===t.finalUrl&&s===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=hm(n)))(r||n)}})();static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Th(n,e){n.events.pipe(Zr(t=>t instanceof pi||t instanceof fr||t instanceof Xa||t instanceof gr),rt(t=>t instanceof pi||t instanceof gr?0:(t instanceof fr?t.code===Qn.Redirect||t.code===Qn.SupersededByNewNavigation:!1)?2:1),Zr(t=>t!==2),Ho(1)).subscribe(()=>{e()})}var TO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},AO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Se=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=se(xm);stateManager=se(_w);options=se(Ao,{optional:!0})||{};pendingTasks=se(b1);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=se(kh);urlSerializer=se(ko);location=se(Jo);urlHandlingStrategy=se(Ch);_events=new Li;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=se(yw);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=se(Io,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!se(xu,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Zu;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(r!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof fr&&i.code!==Qn.Redirect&&i.code!==Qn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof pi)this.navigated=!0;else if(i instanceof Ka){let o=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=L({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||EO(r.source)},o);this.scheduleNavigation(a,rh,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}MO(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),rh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i,r)=>{this.navigateToSyncWithBrowser(t,r,i)})}navigateToSyncWithBrowser(t,i,r){let s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){let l=L({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(_v),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=L(L({},this.currentUrlTree.queryParams),s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}u!==null&&(u=this.removeEmptyProps(u));let f;try{let m=r?r.snapshot:this.routerState.snapshot.root;f=ew(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return tw(f,t,u,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=Es(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,rh,null,i)}navigate(t,i={skipLocationChange:!1}){return IO(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=L({},TO):i===!1?r=L({},AO):r=i,Es(t))return O_(this.currentUrlTree,t,r);let s=this.parseUrl(t);return O_(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,s])=>(s!=null&&(i[r]=s),i),{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((f,m)=>{a=f,l=m});let u=this.pendingTasks.add();return Th(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function IO(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Tt(4008,!1)}function MO(n){return!(n instanceof cu)&&!(n instanceof Ka)}var un=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Li;constructor(t,i,r,s,o,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a;let l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof pi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Es(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,r,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||i||r||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let i=this.href===null?null:N1(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){let r=this.renderer,s=this.el.nativeElement;i!==null?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:Es(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(U(Se),U(cn),v1("tabindex"),U(vm),U(Nl),U(Vl))};static \u0275dir=Gs({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&F("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),i&2&&td("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",id],skipLocationChange:[2,"skipLocationChange","skipLocationChange",id],replaceUrl:[2,"replaceUrl","replaceUrl",id],routerLink:"routerLink"},features:[Ws]})}return n})(),Tv=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Ji;constructor(t,i,r,s,o){this.router=t,this.element=i,this.renderer=r,this.cdr=s,this.link=o,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof pi&&this.update()})}ngAfterContentInit(){ve(this.links.changes,ve(null)).pipe(Pl()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=In(t).pipe(Pl()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){let i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let i=PO(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let s=r.urlTree;return s?t.isActive(s,i):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(i){return new(i||n)(U(Se),U(Nl),U(vm),U(nd),U(un,8))};static \u0275dir=Gs({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,s){if(i&1&&j1(s,un,5),i&2){let o;q1(o=H1())&&(r.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Ws]})}return n})();function PO(n){return!!n.paths}var yu=class{};var ww=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,i,r,s){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Zr(t=>t instanceof pi),zs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let r=[];for(let s of i){s.providers&&!s._injector&&(s._injector=ed(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return In(r).pipe(Pl())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(t,i):r=ve(null);let s=r.pipe(Nn(o=>o===null?ve(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(i.loadComponent&&!i._loadedComponent){let o=this.loader.loadComponent(i);return In([s,o]).pipe(Pl())}else return s})}static \u0275fac=function(i){return new(i||n)(ie(Se),ie(Wo),ie(yu),ie(Eh))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sw=new Gt(""),DO=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,i,r,s,o={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Cs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof pi?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof gr&&t.code===Ya.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Za&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Za(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){O1()};static \u0275prov=ae({token:n,factory:n.\u0275fac})}return n})();function Av(n,...e){return pm([{provide:Io,multi:!0,useValue:n},[],{provide:cn,useFactory:Ew,deps:[Se]},{provide:ym,multi:!0,useFactory:Cw},e.map(t=>t.\u0275providers)])}function Ew(n){return n.routerState.root}function _u(n,e){return{\u0275kind:n,\u0275providers:e}}function Cw(){let n=se(Dl);return e=>{let t=n.get(_m);if(e!==t.components[0])return;let i=n.get(Se),r=n.get(kw);n.get(Iv)===1&&i.initialNavigation(),n.get(Iw,null,dm.Optional)?.setUpPreloading(),n.get(Sw,null,dm.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var kw=new Gt("",{factory:()=>new Li}),Iv=new Gt("",{providedIn:"root",factory:()=>1});function Tw(){let n=[{provide:Iv,useValue:0},bm(()=>{let e=se(Dl);return e.get(eb,Promise.resolve()).then(()=>new Promise(i=>{let r=e.get(Se),s=e.get(kw);Th(r,()=>{i(!0)}),e.get(kh).afterPreactivation=()=>(i(!0),s.closed?ve(void 0):s),r.initialNavigation()}))})];return _u(2,n)}function Aw(){let n=[bm(()=>{se(Se).setUpLocationChangeListener()}),{provide:Iv,useValue:2}];return _u(3,n)}var Iw=new Gt("");function Mw(n){return _u(0,[{provide:Iw,useExisting:ww},{provide:yu,useExisting:n}])}function Pw(){return _u(8,[bv,{provide:xu,useExisting:bv}])}function Dw(n){E1("NgRouterViewTransitions");let e=[{provide:Sv,useValue:bw},{provide:Ev,useValue:L({skipNextTransition:!!n?.skipInitialTransition},n)}];return _u(9,e)}var Nw=[Jo,{provide:ko,useClass:Ss},Se,To,{provide:cn,useFactory:Ew,deps:[Se]},Eh,[]],Ue=(()=>{class n{constructor(){}static forRoot(t,i){return{ngModule:n,providers:[Nw,[],{provide:Io,multi:!0,useValue:t},[],i?.errorHandler?{provide:Cv,useValue:i.errorHandler}:[],{provide:Ao,useValue:i||{}},i?.useHash?LO():OO(),NO(),i?.preloadingStrategy?Mw(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?RO(i):[],i?.bindToComponentInputs?Pw().\u0275providers:[],i?.enableViewTransitions?Dw().\u0275providers:[],FO()]}}static forChild(t){return{ngModule:n,providers:[{provide:Io,multi:!0,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=es({type:n});static \u0275inj=Jr({})}return n})();function NO(){return{provide:Sw,useFactory:()=>{let n=se(ub),e=se(Oi),t=se(Ao),i=se(kh),r=se(ko);return t.scrollOffset&&n.setOffset(t.scrollOffset),new DO(r,i,n,e,t)}}}function LO(){return{provide:Vl,useClass:nb}}function OO(){return{provide:Vl,useClass:tb}}function RO(n){return[n.initialNavigation==="disabled"?Aw().\u0275providers:[],n.initialNavigation==="enabledBlocking"?Tw().\u0275providers:[]]}var kv=new Gt("");function FO(){return[{provide:kv,useFactory:Cw},{provide:ym,multi:!0,useExisting:kv}]}function BO(n,e){if(n&1){let t=de();d(0,"a",49),F("click",function(){M(t);let r=D(3);return P(r.closeDropdown())}),h(1," Review Questions "),p()}}function VO(n,e){if(n&1){let t=de();d(0,"div",44)(1,"a",45),F("click",function(){M(t);let r=D(2);return P(r.closeDropdown())}),h(2," View Questions "),p(),d(3,"a",46),F("click",function(){M(t);let r=D(2);return P(r.closeDropdown())}),h(4," Add Question "),p(),d(5,"a",47),F("click",function(){M(t);let r=D(2);return P(r.closeDropdown())}),h(6," CSV Import "),p(),O(7,BO,2,0,"a",48),p()}if(n&2){let t=D(2);g(7),_("ngIf",t.isSuperAdmin())}}function $O(n,e){if(n&1){let t=de();d(0,"div",44)(1,"a",50),F("click",function(){M(t);let r=D(2);return P(r.closeDropdown())}),h(2," View All "),p(),d(3,"a",51),F("click",function(){M(t);let r=D(2);return P(r.closeDropdown())}),h(4," Create New "),p()()}}function jO(n,e){if(n&1){let t=de();d(0,"div",44)(1,"a",52),F("click",function(){M(t);let r=D(2);return P(r.closeDropdown())}),h(2," Subjects "),p(),d(3,"a",53),F("click",function(){M(t);let r=D(2);return P(r.closeDropdown())}),h(4," Topics "),p(),d(5,"a",54),F("click",function(){M(t);let r=D(2);return P(r.closeDropdown())}),h(6," Subtopics "),p()()}}function qO(n,e){if(n&1){let t=de();d(0,"div",44)(1,"a",55),F("click",function(){M(t);let r=D(2);return P(r.closeDropdown())}),h(2," Exam Families "),p(),d(3,"a",56),F("click",function(){M(t);let r=D(2);return P(r.closeDropdown())}),h(4," Exam Streams "),p(),d(5,"a",57),F("click",function(){M(t);let r=D(2);return P(r.closeDropdown())}),h(6," Exam Papers "),p(),d(7,"a",58),F("click",function(){M(t);let r=D(2);return P(r.closeDropdown())}),h(8," Exam Shifts "),p()()}}function HO(n,e){n&1&&(d(0,"a",59),S(1,"i",60),d(2,"span"),h(3,"Users"),p()())}function UO(n,e){n&1&&(d(0,"a",61),S(1,"i",62),d(2,"span"),h(3,"Leaderboard"),p()())}function zO(n,e){n&1&&(W(),d(0,"svg",63),S(1,"path",64),p())}function WO(n,e){n&1&&(W(),d(0,"svg",63),S(1,"path",65),p())}function QO(n,e){if(n&1){let t=de();d(0,"a",87),F("click",function(){M(t);let r=D(4);return P(r.closeMobileMenu())}),h(1," Review Questions "),p()}}function GO(n,e){if(n&1){let t=de();d(0,"div",82)(1,"a",83),F("click",function(){M(t);let r=D(3);return P(r.closeMobileMenu())}),h(2," View Questions "),p(),d(3,"a",84),F("click",function(){M(t);let r=D(3);return P(r.closeMobileMenu())}),h(4," Add Question "),p(),d(5,"a",85),F("click",function(){M(t);let r=D(3);return P(r.closeMobileMenu())}),h(6," CSV Import "),p(),O(7,QO,2,0,"a",86),p()}if(n&2){let t=D(3);g(7),_("ngIf",t.isSuperAdmin())}}function YO(n,e){if(n&1){let t=de();d(0,"div",82)(1,"a",88),F("click",function(){M(t);let r=D(3);return P(r.closeMobileMenu())}),h(2," View All "),p(),d(3,"a",89),F("click",function(){M(t);let r=D(3);return P(r.closeMobileMenu())}),h(4," Create New "),p()()}}function XO(n,e){if(n&1){let t=de();d(0,"div",82)(1,"a",90),F("click",function(){M(t);let r=D(3);return P(r.closeMobileMenu())}),h(2," Subjects "),p(),d(3,"a",91),F("click",function(){M(t);let r=D(3);return P(r.closeMobileMenu())}),h(4," Topics "),p(),d(5,"a",92),F("click",function(){M(t);let r=D(3);return P(r.closeMobileMenu())}),h(6," Subtopics "),p()()}}function ZO(n,e){if(n&1){let t=de();d(0,"div",82)(1,"a",93),F("click",function(){M(t);let r=D(3);return P(r.closeMobileMenu())}),h(2," Exam Families "),p(),d(3,"a",94),F("click",function(){M(t);let r=D(3);return P(r.closeMobileMenu())}),h(4," Exam Streams "),p(),d(5,"a",95),F("click",function(){M(t);let r=D(3);return P(r.closeMobileMenu())}),h(6," Exam Papers "),p(),d(7,"a",96),F("click",function(){M(t);let r=D(3);return P(r.closeMobileMenu())}),h(8," Exam Shifts "),p()()}}function KO(n,e){if(n&1){let t=de();d(0,"a",97),F("click",function(){M(t);let r=D(3);return P(r.closeMobileMenu())}),S(1,"i",98),h(2," Users "),p()}}function JO(n,e){if(n&1){let t=de();d(0,"a",99),F("click",function(){M(t);let r=D(3);return P(r.closeMobileMenu())}),S(1,"i",100),h(2," Leaderboard "),p()}}function eR(n,e){if(n&1){let t=de();d(0,"div",66)(1,"div",67)(2,"a",68),F("click",function(){M(t);let r=D(2);return P(r.closeMobileMenu())}),S(3,"i",69),h(4," Dashboard "),p(),d(5,"div",67)(6,"button",70),F("click",function(r){return M(t),D(2).toggleDropdown("questions"),P(r.stopPropagation())}),d(7,"div",71),S(8,"i",72),h(9," Questions "),p(),S(10,"i",73),p(),O(11,GO,8,1,"div",74),p(),d(12,"div",67)(13,"button",70),F("click",function(r){return M(t),D(2).toggleDropdown("test-series"),P(r.stopPropagation())}),d(14,"div",71),S(15,"i",75),h(16," Tests "),p(),S(17,"i",73),p(),O(18,YO,5,0,"div",74),p(),d(19,"div",67)(20,"button",70),F("click",function(r){return M(t),D(2).toggleDropdown("content"),P(r.stopPropagation())}),d(21,"div",71),S(22,"i",76),h(23," Content "),p(),S(24,"i",73),p(),O(25,XO,7,0,"div",74),p(),d(26,"div",67)(27,"button",70),F("click",function(r){return M(t),D(2).toggleDropdown("exam-structure"),P(r.stopPropagation())}),d(28,"div",71),S(29,"i",77),h(30," Exams "),p(),S(31,"i",73),p(),O(32,ZO,9,0,"div",74),p(),O(33,KO,3,0,"a",78)(34,JO,3,0,"a",79),d(35,"a",80),F("click",function(){M(t);let r=D(2);return P(r.closeMobileMenu())}),S(36,"i",81),h(37," Analytics "),p()()()}if(n&2){let t=D(2);g(10),$e("rotate-180",t.activeDropdown==="questions"),g(),_("ngIf",t.activeDropdown==="questions"),g(6),$e("rotate-180",t.activeDropdown==="test-series"),g(),_("ngIf",t.activeDropdown==="test-series"),g(6),$e("rotate-180",t.activeDropdown==="content"),g(),_("ngIf",t.activeDropdown==="content"),g(6),$e("rotate-180",t.activeDropdown==="exam-structure"),g(),_("ngIf",t.activeDropdown==="exam-structure"),g(),_("ngIf",t.authService.getRole()==="superadmin"||t.authService.getRole()==="admin"),g(),_("ngIf",t.authService.getRole()==="superadmin"||t.authService.getRole()==="admin")}}function tR(n,e){if(n&1){let t=de();d(0,"header",7)(1,"nav",8)(2,"div",9)(3,"div",10)(4,"a",11)(5,"div",12)(6,"span",13),h(7,"AP"),p()(),d(8,"span",14),h(9,"AdminPanel"),p()()(),d(10,"div",15)(11,"a",16),S(12,"i",17),d(13,"span"),h(14,"Dashboard"),p()(),d(15,"div",18)(16,"button",19),F("click",function(r){return M(t),D().toggleDropdown("questions"),P(r.stopPropagation())}),S(17,"i",20),d(18,"span"),h(19,"Questions"),p(),S(20,"i",21),p(),O(21,VO,8,1,"div",22),p(),d(22,"div",18)(23,"button",19),F("click",function(r){return M(t),D().toggleDropdown("test-series"),P(r.stopPropagation())}),S(24,"i",23),d(25,"span"),h(26,"Tests"),p(),S(27,"i",21),p(),O(28,$O,5,0,"div",22),p(),d(29,"div",18)(30,"button",19),F("click",function(r){return M(t),D().toggleDropdown("content"),P(r.stopPropagation())}),S(31,"i",24),d(32,"span"),h(33,"Content"),p(),S(34,"i",21),p(),O(35,jO,7,0,"div",22),p(),d(36,"div",18)(37,"button",19),F("click",function(r){return M(t),D().toggleDropdown("exam-structure"),P(r.stopPropagation())}),S(38,"i",25),d(39,"span"),h(40,"Exams"),p(),S(41,"i",21),p(),O(42,qO,9,0,"div",22),p(),O(43,HO,4,0,"a",26)(44,UO,4,0,"a",27),d(45,"a",28),S(46,"i",29),d(47,"span"),h(48,"Analytics"),p()()(),d(49,"div",30)(50,"div",31)(51,"div",32)(52,"div",33),h(53),p(),d(54,"div",34)(55,"div",35),h(56),p(),d(57,"div",36),h(58),p()()(),d(59,"button",37),F("click",function(){M(t);let r=D();return P(r.logout())}),S(60,"i",38),d(61,"span",39),h(62,"Logout"),p()()(),d(63,"button",40),F("click",function(){M(t);let r=D();return P(r.toggleMobileMenu())}),d(64,"span",41),h(65,"Open main menu"),p(),O(66,zO,2,0,"svg",42)(67,WO,2,0,"svg",42),p()()(),O(68,eR,38,14,"div",43),p()()}if(n&2){let t,i=D();g(15),$e("bg-gray-100",i.activeDropdown==="questions"),g(5),$e("rotate-180",i.activeDropdown==="questions"),g(),_("ngIf",i.activeDropdown==="questions"),g(),$e("bg-gray-100",i.activeDropdown==="test-series"),g(5),$e("rotate-180",i.activeDropdown==="test-series"),g(),_("ngIf",i.activeDropdown==="test-series"),g(),$e("bg-gray-100",i.activeDropdown==="content"),g(5),$e("rotate-180",i.activeDropdown==="content"),g(),_("ngIf",i.activeDropdown==="content"),g(),$e("bg-gray-100",i.activeDropdown==="exam-structure"),g(5),$e("rotate-180",i.activeDropdown==="exam-structure"),g(),_("ngIf",i.activeDropdown==="exam-structure"),g(),_("ngIf",i.authService.getRole()==="superadmin"||i.authService.getRole()==="admin"),g(),_("ngIf",i.authService.getRole()==="superadmin"||i.authService.getRole()==="admin"),g(9),z(" ",(i.userName==null||(t=i.userName.charAt(0))==null?null:t.toUpperCase())||"A"," "),g(3),Q(i.userName||"Admin"),g(2),Q(i.authService.getRole()||"admin"),g(5),td("aria-expanded",i.mobileMenuOpen),g(3),_("ngIf",!i.mobileMenuOpen),g(),_("ngIf",i.mobileMenuOpen),g(),_("ngIf",i.mobileMenuOpen)}}function nR(n,e){if(n&1){let t=de();d(0,"div",101),F("click",function(){M(t);let r=D();return P(r.closeMobileMenu())}),p()}}function iR(n,e){if(n&1&&(d(0,"footer",102)(1,"div",103)(2,"div",104)(3,"p"),h(4),p()()()()),n&2){let t=D();g(4),z("\xA9 ",t.currentYear," NexPrep Admin Panel. All rights reserved.")}}var Ah=class n{constructor(e,t){this.authService=e;this.router=t}title="admin-panel";userName=null;currentYear=new Date().getFullYear();mobileMenuOpen=!1;activeDropdown=null;ngOnInit(){this.authService.getUserNameObservable().subscribe(e=>{this.userName=e}),window.addEventListener("resize",()=>{window.innerWidth>1024&&this.mobileMenuOpen&&(this.mobileMenuOpen=!1,this.activeDropdown=null)})}toggleMobileMenu(){this.mobileMenuOpen=!this.mobileMenuOpen,this.mobileMenuOpen||(this.activeDropdown=null)}closeMobileMenu(){this.mobileMenuOpen=!1,this.activeDropdown=null}isSuperAdmin(){return this.authService.getUserRole()==="superadmin"}toggleDropdown(e){this.activeDropdown===e?this.activeDropdown=null:this.activeDropdown=e}closeDropdown(){this.activeDropdown=null}logout(){this.authService.logout(),this.router.navigate(["/login"])}onDocumentClick(e){let t=e.target;t.closest(".dropdown")||t.closest(".user-dropdown")||(this.activeDropdown=null)}onEscapeKey(e){this.mobileMenuOpen?this.closeMobileMenu():this.activeDropdown&&this.closeDropdown()}onTabKey(e){}static \u0275fac=function(t){return new(t||n)(U(wt),U(Se))};static \u0275cmp=pe({type:n,selectors:[["app-root"]],hostBindings:function(t,i){t&1&&F("click",function(s){return i.onDocumentClick(s)},!1,Ju)("keydown.escape",function(s){return i.onEscapeKey(s)},!1,Ju)("keydown.tab",function(s){return i.onTabKey(s)},!1,Ju)},decls:8,vars:3,consts:[[1,"min-h-screen","bg-gray-50","flex","flex-col"],["class","bg-white shadow-soft border-b border-gray-200 sticky top-0 z-50",4,"ngIf"],["class","lg:hidden fixed inset-0 z-40 bg-gray-900 bg-opacity-50",3,"click",4,"ngIf"],[1,"flex-1","bg-gray-50"],[1,"mx-auto","max-w-7xl","px-4","sm:px-6","lg:px-8","py-6"],[1,"min-h-full"],["class","bg-white border-t border-gray-200",4,"ngIf"],[1,"bg-white","shadow-soft","border-b","border-gray-200","sticky","top-0","z-50"],[1,"mx-auto","max-w-7xl","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","items-center","h-16","min-w-0"],[1,"flex-shrink-0","flex","items-center","min-w-0","mr-4"],["routerLink","/home",1,"flex","items-center","space-x-2","hover:opacity-80","transition-opacity","duration-200","cursor-pointer"],[1,"h-8","w-8","bg-gradient-to-br","from-primary-500","to-primary-700","rounded-lg","flex","items-center","justify-center","flex-shrink-0"],[1,"text-white","font-bold","text-sm"],[1,"hidden","sm:block","text-xl","font-semibold","text-gray-900","truncate"],[1,"hidden","lg:flex","lg:items-center","lg:space-x-2","flex-1","justify-start","min-w-0","mr-4"],["routerLink","/home","routerLinkActive","bg-primary-100 text-primary-700 border-primary-500",1,"nav-item","px-2","py-2","rounded-lg","text-xs","font-medium","text-gray-700","hover:bg-gray-100","hover:text-gray-900","transition-colors","duration-200","flex","items-center","space-x-1"],[1,"fas","fa-tachometer-alt","text-xs"],[1,"relative","dropdown"],[1,"nav-item","px-2","py-2","rounded-lg","text-xs","font-medium","text-gray-700","hover:bg-gray-100","hover:text-gray-900","transition-colors","duration-200","flex","items-center","space-x-1",3,"click"],[1,"fas","fa-question-circle","text-xs"],[1,"fas","fa-chevron-down","text-xs","transition-transform","duration-200"],["class","absolute top-full left-0 mt-1 w-48 bg-white rounded-lg shadow-medium border border-gray-200 py-1 z-50",4,"ngIf"],[1,"fas","fa-clipboard-list","text-xs"],[1,"fas","fa-sitemap","text-xs"],[1,"fas","fa-graduation-cap","text-xs"],["routerLink","/user-management","routerLinkActive","bg-primary-100 text-primary-700 border-primary-500","class","nav-item px-2 py-2 rounded-lg text-xs font-medium text-gray-700 hover:bg-gray-100 hover:text-gray-900 transition-colors duration-200 flex items-center space-x-1",4,"ngIf"],["routerLink","/leaderboard","routerLinkActive","bg-primary-100 text-primary-700 border-primary-500","class","nav-item px-2 py-2 rounded-lg text-xs font-medium text-gray-700 hover:bg-gray-100 hover:text-gray-900 transition-colors duration-200 flex items-center space-x-1",4,"ngIf"],["routerLink","/analytics","routerLinkActive","bg-primary-100 text-primary-700 border-primary-500",1,"nav-item","px-2","py-2","rounded-lg","text-xs","font-medium","text-gray-700","hover:bg-gray-100","hover:text-gray-900","transition-colors","duration-200","flex","items-center","space-x-1"],[1,"fas","fa-chart-bar","text-xs"],[1,"flex","items-center","space-x-2","md:space-x-3","flex-shrink-0","min-w-0","ml-4"],[1,"flex","items-center","space-x-2","lg:space-x-3"],[1,"flex","items-center","space-x-2"],[1,"h-8","w-8","bg-gradient-to-br","from-secondary-500","to-secondary-700","rounded-full","flex","items-center","justify-center","text-white","font-medium","text-sm","flex-shrink-0"],[1,"hidden","md:block","lg:block"],[1,"text-sm","font-medium","text-gray-900","truncate","max-w-24","lg:max-w-none"],[1,"text-xs","text-gray-500","truncate"],[1,"inline-flex","items-center","px-2","py-2","lg:px-3","border","border-gray-300","rounded-lg","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","hover:text-danger-600","transition-colors","duration-200","flex-shrink-0",3,"click"],[1,"fas","fa-sign-out-alt","text-sm","lg:mr-2"],[1,"hidden","lg:inline","ml-1"],["type","button",1,"lg:hidden","inline-flex","items-center","justify-center","p-2","rounded-lg","text-gray-700","hover:bg-gray-100","hover:text-gray-900","transition-colors","duration-200","flex-shrink-0","ml-1",3,"click"],[1,"sr-only"],["class","h-6 w-6","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],["class","lg:hidden border-t border-gray-200 pt-4 pb-3 bg-white",4,"ngIf"],[1,"absolute","top-full","left-0","mt-1","w-48","bg-white","rounded-lg","shadow-medium","border","border-gray-200","py-1","z-50"],["routerLink","/questions","routerLinkActive","bg-primary-50 text-primary-700",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100","transition-colors","duration-200",3,"click"],["routerLink","/add-question","routerLinkActive","bg-primary-50 text-primary-700",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100","transition-colors","duration-200",3,"click"],["routerLink","/csv-import","routerLinkActive","bg-primary-50 text-primary-700",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100","transition-colors","duration-200",3,"click"],["routerLink","/questions/review","routerLinkActive","bg-primary-50 text-primary-700","class","block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-200",3,"click",4,"ngIf"],["routerLink","/questions/review","routerLinkActive","bg-primary-50 text-primary-700",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100","transition-colors","duration-200",3,"click"],["routerLink","/test-series","routerLinkActive","bg-primary-50 text-primary-700",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100","transition-colors","duration-200",3,"click"],["routerLink","/test-series/create","routerLinkActive","bg-primary-50 text-primary-700",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100","transition-colors","duration-200",3,"click"],["routerLink","/subjects","routerLinkActive","bg-primary-50 text-primary-700",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100","transition-colors","duration-200",3,"click"],["routerLink","/topics","routerLinkActive","bg-primary-50 text-primary-700",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100","transition-colors","duration-200",3,"click"],["routerLink","/subtopics","routerLinkActive","bg-primary-50 text-primary-700",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100","transition-colors","duration-200",3,"click"],["routerLink","/exam-families","routerLinkActive","bg-primary-50 text-primary-700",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100","transition-colors","duration-200",3,"click"],["routerLink","/exam-streams","routerLinkActive","bg-primary-50 text-primary-700",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100","transition-colors","duration-200",3,"click"],["routerLink","/exam-papers","routerLinkActive","bg-primary-50 text-primary-700",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100","transition-colors","duration-200",3,"click"],["routerLink","/exam-shifts","routerLinkActive","bg-primary-50 text-primary-700",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100","transition-colors","duration-200",3,"click"],["routerLink","/user-management","routerLinkActive","bg-primary-100 text-primary-700 border-primary-500",1,"nav-item","px-2","py-2","rounded-lg","text-xs","font-medium","text-gray-700","hover:bg-gray-100","hover:text-gray-900","transition-colors","duration-200","flex","items-center","space-x-1"],[1,"fas","fa-users","text-xs"],["routerLink","/leaderboard","routerLinkActive","bg-primary-100 text-primary-700 border-primary-500",1,"nav-item","px-2","py-2","rounded-lg","text-xs","font-medium","text-gray-700","hover:bg-gray-100","hover:text-gray-900","transition-colors","duration-200","flex","items-center","space-x-1"],[1,"fas","fa-trophy","text-xs"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"lg:hidden","border-t","border-gray-200","pt-4","pb-3","bg-white"],[1,"space-y-1"],["routerLink","/home","routerLinkActive","bg-primary-100 text-primary-700 border-l-4 border-primary-500",1,"flex","items-center","px-4","py-3","text-base","font-medium","text-gray-700","hover:bg-gray-100","hover:text-gray-900","transition-colors","duration-200",3,"click"],[1,"fas","fa-tachometer-alt","text-lg","mr-3"],[1,"w-full","flex","items-center","justify-between","px-4","py-3","text-left","text-base","font-medium","text-gray-700","hover:bg-gray-100","hover:text-gray-900","transition-colors","duration-200",3,"click"],[1,"flex","items-center"],[1,"fas","fa-question-circle","text-lg","mr-3"],[1,"fas","fa-chevron-down","text-sm","transition-transform","duration-200"],["class","pl-10 space-y-1",4,"ngIf"],[1,"fas","fa-clipboard-list","text-lg","mr-3"],[1,"fas","fa-sitemap","text-lg","mr-3"],[1,"fas","fa-graduation-cap","text-lg","mr-3"],["routerLink","/user-management","routerLinkActive","bg-primary-100 text-primary-700 border-l-4 border-primary-500","class","flex items-center px-4 py-3 text-base font-medium text-gray-700 hover:bg-gray-100 hover:text-gray-900 transition-colors duration-200",3,"click",4,"ngIf"],["routerLink","/leaderboard","routerLinkActive","bg-primary-100 text-primary-700 border-l-4 border-primary-500","class","flex items-center px-4 py-3 text-base font-medium text-gray-700 hover:bg-gray-100 hover:text-gray-900 transition-colors duration-200",3,"click",4,"ngIf"],["routerLink","/analytics","routerLinkActive","bg-primary-100 text-primary-700 border-l-4 border-primary-500",1,"flex","items-center","px-4","py-3","text-base","font-medium","text-gray-700","hover:bg-gray-100","hover:text-gray-900","transition-colors","duration-200",3,"click"],[1,"fas","fa-chart-bar","text-lg","mr-3"],[1,"pl-10","space-y-1"],["routerLink","/questions","routerLinkActive","bg-primary-50 text-primary-700",1,"block","px-4","py-2","text-sm","text-gray-600","hover:bg-gray-100","hover:text-gray-900","transition-colors","duration-200",3,"click"],["routerLink","/add-question","routerLinkActive","bg-primary-50 text-primary-700",1,"block","px-4","py-2","text-sm","text-gray-600","hover:bg-gray-100","hover:text-gray-900","transition-colors","duration-200",3,"click"],["routerLink","/csv-import","routerLinkActive","bg-primary-50 text-primary-700",1,"block","px-4","py-2","text-sm","text-gray-600","hover:bg-gray-100","hover:text-gray-900","transition-colors","duration-200",3,"click"],["routerLink","/questions/review","routerLinkActive","bg-primary-50 text-primary-700","class","block px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 hover:text-gray-900 transition-colors duration-200",3,"click",4,"ngIf"],["routerLink","/questions/review","routerLinkActive","bg-primary-50 text-primary-700",1,"block","px-4","py-2","text-sm","text-gray-600","hover:bg-gray-100","hover:text-gray-900","transition-colors","duration-200",3,"click"],["routerLink","/test-series","routerLinkActive","bg-primary-50 text-primary-700",1,"block","px-4","py-2","text-sm","text-gray-600","hover:bg-gray-100","hover:text-gray-900","transition-colors","duration-200",3,"click"],["routerLink","/test-series/create","routerLinkActive","bg-primary-50 text-primary-700",1,"block","px-4","py-2","text-sm","text-gray-600","hover:bg-gray-100","hover:text-gray-900","transition-colors","duration-200",3,"click"],["routerLink","/subjects","routerLinkActive","bg-primary-50 text-primary-700",1,"block","px-4","py-2","text-sm","text-gray-600","hover:bg-gray-100","hover:text-gray-900","transition-colors","duration-200",3,"click"],["routerLink","/topics","routerLinkActive","bg-primary-50 text-primary-700",1,"block","px-4","py-2","text-sm","text-gray-600","hover:bg-gray-100","hover:text-gray-900","transition-colors","duration-200",3,"click"],["routerLink","/subtopics","routerLinkActive","bg-primary-50 text-primary-700",1,"block","px-4","py-2","text-sm","text-gray-600","hover:bg-gray-100","hover:text-gray-900","transition-colors","duration-200",3,"click"],["routerLink","/exam-families","routerLinkActive","bg-primary-50 text-primary-700",1,"block","px-4","py-2","text-sm","text-gray-600","hover:bg-gray-100","hover:text-gray-900","transition-colors","duration-200",3,"click"],["routerLink","/exam-streams","routerLinkActive","bg-primary-50 text-primary-700",1,"block","px-4","py-2","text-sm","text-gray-600","hover:bg-gray-100","hover:text-gray-900","transition-colors","duration-200",3,"click"],["routerLink","/exam-papers","routerLinkActive","bg-primary-50 text-primary-700",1,"block","px-4","py-2","text-sm","text-gray-600","hover:bg-gray-100","hover:text-gray-900","transition-colors","duration-200",3,"click"],["routerLink","/exam-shifts","routerLinkActive","bg-primary-50 text-primary-700",1,"block","px-4","py-2","text-sm","text-gray-600","hover:bg-gray-100","hover:text-gray-900","transition-colors","duration-200",3,"click"],["routerLink","/user-management","routerLinkActive","bg-primary-100 text-primary-700 border-l-4 border-primary-500",1,"flex","items-center","px-4","py-3","text-base","font-medium","text-gray-700","hover:bg-gray-100","hover:text-gray-900","transition-colors","duration-200",3,"click"],[1,"fas","fa-users","text-lg","mr-3"],["routerLink","/leaderboard","routerLinkActive","bg-primary-100 text-primary-700 border-l-4 border-primary-500",1,"flex","items-center","px-4","py-3","text-base","font-medium","text-gray-700","hover:bg-gray-100","hover:text-gray-900","transition-colors","duration-200",3,"click"],[1,"fas","fa-trophy","text-lg","mr-3"],[1,"lg:hidden","fixed","inset-0","z-40","bg-gray-900","bg-opacity-50",3,"click"],[1,"bg-white","border-t","border-gray-200"],[1,"mx-auto","max-w-7xl","px-4","sm:px-6","lg:px-8","py-4"],[1,"text-center","text-sm","text-gray-500"]],template:function(t,i){t&1&&(d(0,"div",0),O(1,tR,69,29,"header",1)(2,nR,1,0,"div",2),d(3,"main",3)(4,"div",4)(5,"div",5),S(6,"router-outlet"),p()()(),O(7,iR,5,1,"footer",6),p()),t&2&&(g(),_("ngIf",i.authService.isLoggedIn()),g(),_("ngIf",i.mobileMenuOpen),g(5),_("ngIf",i.authService.isLoggedIn()))},dependencies:[Ue,vu,un,Tv,ge,Ee],styles:[".rotate-180[_ngcontent-%COMP%]{transform:rotate(180deg)}"]})};var Lw=(n,e)=>({"form-input":!0,"border-red-300 focus:border-red-500 focus:ring-red-500":n,"border-gray-300 focus:border-primary-500 focus:ring-primary-500":e}),rR=(n,e)=>({"btn-primary w-full py-3 text-base":!0,"opacity-50 cursor-not-allowed":n,"hover:shadow-medium":e});function sR(n,e){n&1&&(d(0,"span"),h(1,"Email address is required"),p())}function oR(n,e){n&1&&(d(0,"span"),h(1,"Please enter a valid email address"),p())}function aR(n,e){if(n&1&&(d(0,"div",32),S(1,"i",33),O(2,sR,2,0,"span",34)(3,oR,2,0,"span",34),p()),n&2){let t,i,r=D();g(2),_("ngIf",(t=r.form.get("email"))==null||t.errors==null?null:t.errors.required),g(),_("ngIf",(i=r.form.get("email"))==null||i.errors==null?null:i.errors.email)}}function lR(n,e){n&1&&(d(0,"span"),h(1,"Password is required"),p())}function cR(n,e){if(n&1&&(d(0,"div",32),S(1,"i",33),O(2,lR,2,0,"span",34),p()),n&2){let t,i=D();g(2),_("ngIf",(t=i.form.get("password"))==null||t.errors==null?null:t.errors.required)}}function uR(n,e){n&1&&(d(0,"span",35),S(1,"i",36),h(2," Sign In "),p())}function dR(n,e){n&1&&(d(0,"span",35),W(),d(1,"svg",37),S(2,"circle",38)(3,"path",39),p(),h(4," Signing in... "),p())}var Ih=class n{constructor(e,t,i){this.fb=e;this.auth=t;this.router=i}form;isLoading=!1;ngOnInit(){this.form=this.fb.group({email:["",[fe.required,fe.email]],password:["",fe.required]}),this.auth.isLoggedIn()&&this.router.navigate(["/home"])}onSubmit(){if(this.form.invalid)return;this.isLoading=!0;let{email:e,password:t}=this.form.value;this.auth.login(e,t).subscribe({next:i=>{if(i.role!=="admin"&&i.role!=="superadmin"){this.auth.logout(),alert("Access denied: Only administrators or super administrators can access this panel. Please login with appropriate credentials."),this.isLoading=!1;return}this.router.navigate(["/home"])},error:i=>{this.isLoading=!1;let r=i.error?.message||"Login failed. Please check your credentials and try again.";alert(r)}})}static \u0275fac=function(t){return new(t||n)(U(Vn),U(wt),U(Se))};static \u0275cmp=pe({type:n,selectors:[["app-login"]],decls:49,vars:18,consts:[[1,"min-h-screen","bg-gradient-to-br","from-primary-50","via-white","to-secondary-50","flex","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],[1,"text-center"],[1,"mx-auto","h-20","w-20","bg-gradient-to-br","from-primary-500","to-primary-700","rounded-3xl","flex","items-center","justify-center","shadow-xl","mb-8","transform","hover:scale-105","transition-transform","duration-200"],[1,"text-white","font-bold","text-2xl"],[1,"text-4xl","font-bold","text-gray-900","mb-3"],[1,"text-gray-600","text-lg"],[1,"bg-white","rounded-3xl","shadow-2xl","border","border-gray-100","p-10","backdrop-blur-sm"],[1,"space-y-8",3,"ngSubmit","formGroup"],[1,"form-group"],["for","email",1,"form-label","text-base"],[1,"relative"],[1,"absolute","inset-y-0","left-0","pl-4","flex","items-center","pointer-events-none"],[1,"fas","fa-envelope","text-gray-400","text-lg"],["id","email","formControlName","email","type","email","placeholder","Enter your email address",1,"form-input","pl-12","text-base","py-4",3,"ngClass"],["class","form-error text-sm",4,"ngIf"],["for","password",1,"form-label","text-base"],[1,"fas","fa-lock","text-gray-400","text-lg"],["id","password","formControlName","password","type","password","placeholder","Enter your password",1,"form-input","pl-12","text-base","py-4",3,"ngClass"],[1,"flex","items-center","justify-between"],[1,"flex","items-center"],["id","remember-me","name","remember-me","type","checkbox",1,"h-5","w-5","text-primary-600","focus:ring-primary-500","focus:ring-2","border-gray-300","rounded","transition-colors","duration-200","cursor-pointer"],["for","remember-me",1,"ml-3","block","text-base","text-gray-700","cursor-pointer","select-none"],[1,"text-sm"],["href","#",1,"text-primary-600","hover:text-primary-500","font-medium","transition-colors","duration-200"],["type","submit",1,"btn-primary","w-full","py-3","text-base","relative",3,"disabled","ngClass"],["class","flex items-center justify-center",4,"ngIf"],[1,"text-center","pt-4","border-t","border-gray-100"],[1,"text-sm","text-gray-500"],[1,"fas","fa-shield-alt","text-primary-500","mr-1"],[1,"text-xs","text-gray-400","mt-1"],[1,"text-xs","text-gray-500"],[1,"form-error","text-sm"],[1,"fas","fa-exclamation-circle","mr-2"],[4,"ngIf"],[1,"flex","items-center","justify-center"],[1,"fas","fa-sign-in-alt","mr-2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(t,i){if(t&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),h(5,"NP"),p()(),d(6,"h2",5),h(7," Admin Login "),p(),d(8,"p",6),h(9," Sign in to access the NexPrep Administration Panel "),p()(),d(10,"div",7)(11,"form",8),F("ngSubmit",function(){return i.onSubmit()}),d(12,"div",9)(13,"label",10),h(14," Email Address "),p(),d(15,"div",11)(16,"div",12),S(17,"i",13),p(),S(18,"input",14),p(),O(19,aR,4,2,"div",15),p(),d(20,"div",9)(21,"label",16),h(22," Password "),p(),d(23,"div",11)(24,"div",12),S(25,"i",17),p(),S(26,"input",18),p(),O(27,cR,3,1,"div",15),p(),d(28,"div",19)(29,"div",20),S(30,"input",21),d(31,"label",22),h(32," Remember me "),p()(),d(33,"div",23)(34,"a",24),h(35," Forgot password? "),p()()(),d(36,"div")(37,"button",25),O(38,uR,3,0,"span",26)(39,dR,5,0,"span",26),p()(),d(40,"div",27)(41,"p",28),S(42,"i",29),h(43," NexPrep Administration Panel "),p(),d(44,"p",30),h(45," Secure access for authorized personnel only "),p()()()(),d(46,"div",2)(47,"p",31),h(48," Protected by enterprise-grade security measures "),p()()()()),t&2){let r,s,o,a;g(11),_("formGroup",i.form),g(7),_("ngClass",ns(9,Lw,((r=i.form.get("email"))==null?null:r.invalid)&&((r=i.form.get("email"))==null?null:r.touched),!((r=i.form.get("email"))!=null&&r.invalid&&((r=i.form.get("email"))!=null&&r.touched)))),g(),_("ngIf",((s=i.form.get("email"))==null?null:s.invalid)&&((s=i.form.get("email"))==null?null:s.touched)),g(7),_("ngClass",ns(12,Lw,((o=i.form.get("password"))==null?null:o.invalid)&&((o=i.form.get("password"))==null?null:o.touched),!((o=i.form.get("password"))!=null&&o.invalid&&((o=i.form.get("password"))!=null&&o.touched)))),g(),_("ngIf",((a=i.form.get("password"))==null?null:a.invalid)&&((a=i.form.get("password"))==null?null:a.touched)),g(10),_("disabled",i.form.invalid)("ngClass",ns(15,rR,i.form.invalid,!i.form.invalid)),g(),_("ngIf",!i.isLoading),g(),_("ngIf",i.isLoading)}},dependencies:[ge,er,Ee,$n,dt,Je,et,ut,Rn,Fn],styles:[".form-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #6366f11a}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 10px 25px #6366f14d}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}"]})};function pR(n,e){n&1&&(d(0,"div",27),S(1,"i",28),h(2," Username is required "),p())}function hR(n,e){n&1&&(d(0,"div",27),S(1,"i",28),h(2," Valid email is required "),p())}function fR(n,e){n&1&&(d(0,"div",27),S(1,"i",28),h(2," Password is required "),p())}var Mh=class n{constructor(e,t,i){this.fb=e;this.auth=t;this.router=i}form;ngOnInit(){this.form=this.fb.group({username:["",fe.required],email:["",[fe.required,fe.email]],password:["",fe.required]})}onSubmit(){if(this.form.invalid)return;let{username:e,email:t,password:i}=this.form.value;this.auth.register({username:e,email:t,password:i}).subscribe({next:()=>{alert("Registration successful! You can now log in."),this.router.navigate(["/login"])},error:r=>{let s=r.error?.message||"Registration failed";alert(s)}})}static \u0275fac=function(t){return new(t||n)(U(Vn),U(wt),U(Se))};static \u0275cmp=pe({type:n,selectors:[["app-register"]],decls:41,vars:29,consts:[[1,"min-h-screen","bg-gradient-to-br","from-blue-50","via-indigo-50","to-purple-50","flex","items-center","justify-center","p-4"],[1,"max-w-md","w-full"],[1,"bg-white","rounded-2xl","shadow-2xl","overflow-hidden","border","border-gray-100"],[1,"bg-gradient-to-r","from-blue-600","to-indigo-600","px-8","py-6"],[1,"text-3xl","font-bold","text-white","text-center"],[1,"text-blue-100","text-center","mt-2"],[1,"p-8"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","username",1,"block","text-sm","font-semibold","text-gray-700","mb-2"],[1,"fas","fa-user","mr-2","text-blue-500"],["id","username","formControlName","username","type","text","placeholder","Enter your username",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition-colors","duration-200","placeholder-gray-400"],["class","mt-1 text-sm text-red-600",4,"ngIf"],["for","email",1,"block","text-sm","font-semibold","text-gray-700","mb-2"],[1,"fas","fa-envelope","mr-2","text-blue-500"],["id","email","formControlName","email","type","email","placeholder","Enter your email address",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition-colors","duration-200","placeholder-gray-400"],["for","password",1,"block","text-sm","font-semibold","text-gray-700","mb-2"],[1,"fas","fa-lock","mr-2","text-blue-500"],["id","password","formControlName","password","type","password","placeholder","Enter your password",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition-colors","duration-200","placeholder-gray-400"],[1,"pt-4"],["type","submit",1,"w-full","bg-gradient-to-r","from-blue-600","to-indigo-600","text-white","font-semibold","py-3","px-6","rounded-lg","hover:from-blue-700","hover:to-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","transition-all","duration-200","transform","hover:scale-[1.02]","disabled:opacity-50","disabled:cursor-not-allowed","disabled:transform-none",3,"disabled"],[1,"fas","fa-user-plus","mr-2"],[1,"text-center","pt-4"],[1,"text-sm","text-gray-600"],["href","/login",1,"text-blue-600","hover:text-blue-800","font-medium","transition-colors","duration-200"],[1,"text-center","mt-8"],[1,"text-gray-500","text-sm"],[1,"fas","fa-shield-alt","mr-1"],[1,"mt-1","text-sm","text-red-600"],[1,"fas","fa-exclamation-circle","mr-1"]],template:function(t,i){if(t&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),h(5,"Admin Sign Up"),p(),d(6,"p",5),h(7,"Create your administrator account"),p()(),d(8,"div",6)(9,"form",7),F("ngSubmit",function(){return i.onSubmit()}),d(10,"div")(11,"label",8),S(12,"i",9),h(13," Username "),p(),S(14,"input",10),O(15,pR,3,0,"div",11),p(),d(16,"div")(17,"label",12),S(18,"i",13),h(19," Email Address "),p(),S(20,"input",14),O(21,hR,3,0,"div",11),p(),d(22,"div")(23,"label",15),S(24,"i",16),h(25," Password "),p(),S(26,"input",17),O(27,fR,3,0,"div",11),p(),d(28,"div",18)(29,"button",19),S(30,"i",20),h(31," Create Account "),p()(),d(32,"div",21)(33,"p",22),h(34," Already have an account? "),d(35,"a",23),h(36," Sign in here "),p()()()()()(),d(37,"div",24)(38,"p",25),S(39,"i",26),h(40," Secure admin registration powered by NexPrep "),p()()()()),t&2){let r,s,o,a,l,c,u,f,m,v,b,w,y,k,I;g(9),_("formGroup",i.form),g(5),$e("border-red-500",((r=i.form.get("username"))==null?null:r.invalid)&&((r=i.form.get("username"))==null?null:r.touched))("focus:ring-red-500",((s=i.form.get("username"))==null?null:s.invalid)&&((s=i.form.get("username"))==null?null:s.touched))("border-green-500",((o=i.form.get("username"))==null?null:o.valid)&&((o=i.form.get("username"))==null?null:o.touched))("focus:ring-green-500",((a=i.form.get("username"))==null?null:a.valid)&&((a=i.form.get("username"))==null?null:a.touched)),g(),_("ngIf",((l=i.form.get("username"))==null?null:l.invalid)&&((l=i.form.get("username"))==null?null:l.touched)),g(5),$e("border-red-500",((c=i.form.get("email"))==null?null:c.invalid)&&((c=i.form.get("email"))==null?null:c.touched))("focus:ring-red-500",((u=i.form.get("email"))==null?null:u.invalid)&&((u=i.form.get("email"))==null?null:u.touched))("border-green-500",((f=i.form.get("email"))==null?null:f.valid)&&((f=i.form.get("email"))==null?null:f.touched))("focus:ring-green-500",((m=i.form.get("email"))==null?null:m.valid)&&((m=i.form.get("email"))==null?null:m.touched)),g(),_("ngIf",((v=i.form.get("email"))==null?null:v.invalid)&&((v=i.form.get("email"))==null?null:v.touched)),g(5),$e("border-red-500",((b=i.form.get("password"))==null?null:b.invalid)&&((b=i.form.get("password"))==null?null:b.touched))("focus:ring-red-500",((w=i.form.get("password"))==null?null:w.invalid)&&((w=i.form.get("password"))==null?null:w.touched))("border-green-500",((y=i.form.get("password"))==null?null:y.valid)&&((y=i.form.get("password"))==null?null:y.touched))("focus:ring-green-500",((k=i.form.get("password"))==null?null:k.valid)&&((k=i.form.get("password"))==null?null:k.touched)),g(),_("ngIf",((I=i.form.get("password"))==null?null:I.invalid)&&((I=i.form.get("password"))==null?null:I.touched)),g(2),_("disabled",i.form.invalid)}},dependencies:[ge,Ee,$n,dt,Je,et,ut,Rn,Fn],encapsulation:2})};var Ph=class n{constructor(e){this.auth=e}ngOnInit(){this.auth.logout()}static \u0275fac=function(t){return new(t||n)(U(wt))};static \u0275cmp=pe({type:n,selectors:[["app-logout"]],decls:0,vars:0,template:function(t,i){},encapsulation:2})};var Dh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=pe({type:n,selectors:[["app-student-dashboard"]],decls:2,vars:0,template:function(t,i){t&1&&(d(0,"p"),h(1,"student-dashboard works!"),p())},encapsulation:2})};function mR(n,e){if(n&1){let t=de();d(0,"div",4)(1,"div",5)(2,"div",6)(3,"div")(4,"h1",7),h(5),hi(6,"titlecase"),p(),d(7,"p",8),h(8),p()(),d(9,"button",9),F("click",function(){M(t);let r=D();return P(r.navigateToCreate())}),S(10,"i",10),h(11),hi(12,"titlecase"),p()()(),d(13,"div",11)(14,"div",12)(15,"div",13),S(16,"i",14),p(),d(17,"h3",15),h(18," Page Under Construction "),p(),d(19,"div",16)(20,"p",17),h(21),hi(22,"titlecase"),p(),d(23,"p",17),h(24),p()(),d(25,"div",18)(26,"div",19),S(27,"div",20),p(),d(28,"p",21),h(29,"Development Progress: 75%"),p()()()()()}if(n&2){let t=D();g(5),z(" ",Zo(6,5,t.hierarchySection)," Management "),g(3),z(" Manage and organize your ",t.hierarchySection," efficiently "),g(3),z(" Add New ",Zo(12,7,t.hierarchySection)," "),g(10),z(" The ",Zo(22,9,t.hierarchySection)," listing page is currently being developed. "),g(3),z(" In the meantime, you can add new ",t.hierarchySection," by clicking the button above. ")}}function gR(n,e){if(n&1&&(d(0,"div")(1,"h1",64),h(2),p()()),n&2){let t=D(2);g(2),z(" Welcome back, ",t.userName,"! \u{1F44B} ")}}function vR(n,e){n&1&&(d(0,"h1",64),h(1," Welcome to NexPrep Admin! \u{1F680} "),p())}function xR(n,e){if(n&1){let t=de();d(0,"div",22)(1,"div",23)(2,"div",24),O(3,gR,3,1,"div",25)(4,vR,2,0,"ng-template",null,1,wm),d(6,"p",26),h(7," Manage your educational content and monitor platform performance "),p()()(),d(8,"div",27)(9,"div",28)(10,"div",29)(11,"div")(12,"p",30),h(13,"Total Questions"),p(),d(14,"p",31),h(15,"1,247"),p(),d(16,"p",32),S(17,"i",33),h(18," +12% from last month "),p()(),d(19,"div",34),S(20,"i",35),p()()(),d(21,"div",28)(22,"div",29)(23,"div")(24,"p",30),h(25,"Active Tests"),p(),d(26,"p",31),h(27,"43"),p(),d(28,"p",32),S(29,"i",33),h(30," +5% from last month "),p()(),d(31,"div",36),S(32,"i",37),p()()(),d(33,"div",28)(34,"div",29)(35,"div")(36,"p",30),h(37,"Total Users"),p(),d(38,"p",31),h(39,"8,934"),p(),d(40,"p",32),S(41,"i",33),h(42," +18% from last month "),p()(),d(43,"div",38),S(44,"i",39),p()()(),d(45,"div",28)(46,"div",29)(47,"div")(48,"p",30),h(49,"Completion Rate"),p(),d(50,"p",31),h(51,"87%"),p(),d(52,"p",40),S(53,"i",41),h(54," -2% from last month "),p()(),d(55,"div",42),S(56,"i",43),p()()()(),d(57,"div",44)(58,"h2",45),h(59,"Quick Actions"),p(),d(60,"div",46)(61,"a",47),F("click",function(){M(t);let r=D();return P(r.navigateToAddQuestion())}),d(62,"div",48),S(63,"i",49),p(),d(64,"div")(65,"h3",50),h(66,"Add Question"),p(),d(67,"p",51),h(68,"Create new test questions"),p()()(),d(69,"a",52),F("click",function(){M(t);let r=D();return P(r.navigateToCreateTest())}),d(70,"div",53),S(71,"i",54),p(),d(72,"div")(73,"h3",55),h(74,"Create Test"),p(),d(75,"p",51),h(76,"Setup new test series"),p()()(),d(77,"a",56),F("click",function(){M(t);let r=D();return P(r.navigateToAnalytics())}),d(78,"div",57),S(79,"i",58),p(),d(80,"div")(81,"h3",59),h(82,"View Analytics"),p(),d(83,"p",51),h(84,"Monitor test series metrics"),p()()()()(),d(85,"div",60)(86,"h2",15),h(87,"Getting Started"),p(),d(88,"p",61),h(89," Use the navigation menu above to access different sections of the admin panel. Here are some common tasks to get you started: "),p(),d(90,"ol",62)(91,"li",63)(92,"strong"),h(93,"Manage Questions:"),p(),h(94," Add, edit, or review questions in the Questions section "),p(),d(95,"li",63)(96,"strong"),h(97,"Create Test Series:"),p(),h(98," Set up comprehensive test series for different exam types "),p(),d(99,"li",63)(100,"strong"),h(101,"Organize Content:"),p(),h(102," Structure your content using Subjects, Topics, and Subtopics "),p(),d(103,"li",63)(104,"strong"),h(105,"Monitor Performance:"),p(),h(106," Track user engagement and platform analytics "),p(),d(107,"li",63)(108,"strong"),h(109,"User Management:"),p(),h(110," Manage user accounts and permissions (Admin/SuperAdmin only) "),p()()()()}if(n&2){let t=Qe(5),i=D();g(3),_("ngIf",i.userName)("ngIfElse",t)}}var Mo=class n{constructor(e,t,i){this.authService=e;this.router=t;this.route=i}userName=null;hierarchySection=null;ngOnInit(){this.userName=this.authService.getUserName(),this.route.data.subscribe(e=>{this.hierarchySection=e.hierarchySection||null})}logout(){this.authService.logout(),this.router.navigate(["/login"])}navigateToCreate(){this.hierarchySection&&this.router.navigate([`/${this.hierarchySection}/new`])}navigateToAddQuestion(){this.router.navigate(["/add-question"])}navigateToCreateTest(){this.router.navigate(["/test-series/create"])}navigateToAnalytics(){this.router.navigate(["/test-series"])}static \u0275fac=function(t){return new(t||n)(U(wt),U(Se),U(cn))};static \u0275cmp=pe({type:n,selectors:[["app-home"]],decls:4,vars:2,consts:[["defaultHome",""],["genericWelcome",""],[1,"min-h-full"],["class","space-y-6",4,"ngIf","ngIfElse"],[1,"space-y-6"],[1,"bg-gradient-to-r","from-primary-600","to-primary-700","rounded-xl","shadow-medium","p-6","sm:p-8"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","gap-4"],[1,"text-2xl","sm:text-3xl","font-bold","text-white"],[1,"text-primary-100","mt-2"],[1,"inline-flex","items-center","px-6","py-3","bg-white","text-primary-700","font-semibold","rounded-lg","shadow-soft","hover:bg-gray-50","hover:shadow-medium","transition-all","duration-200","focus:outline-none","focus:ring-2","focus:ring-white","focus:ring-offset-2","focus:ring-offset-primary-600",3,"click"],[1,"fas","fa-plus","text-sm","mr-2"],[1,"bg-white","rounded-xl","shadow-soft","border","border-gray-100","p-6","sm:p-8"],[1,"text-center","py-12"],[1,"mx-auto","h-16","w-16","bg-warning-100","rounded-full","flex","items-center","justify-center","mb-6"],[1,"fas","fa-tools","text-warning-600","text-2xl"],[1,"text-xl","font-semibold","text-gray-900","mb-4"],[1,"max-w-md","mx-auto","space-y-2"],[1,"text-gray-600"],[1,"mt-8","max-w-xs","mx-auto"],[1,"bg-gray-200","rounded-full","h-2"],[1,"bg-primary-600","h-2","rounded-full","w-3/4","transition-all","duration-500"],[1,"text-sm","text-gray-500","mt-2"],[1,"space-y-8"],[1,"bg-gradient-to-r","from-primary-600","via-primary-700","to-secondary-600","rounded-xl","shadow-medium","p-6","sm:p-8"],[1,"text-center"],[4,"ngIf","ngIfElse"],[1,"text-primary-100","text-lg"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-6"],[1,"stat-card","group","hover:scale-105","transition-transform","duration-200"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-medium","text-gray-600"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-sm","text-success-600"],[1,"fas","fa-arrow-up","text-xs","mr-1"],[1,"h-12","w-12","bg-primary-100","rounded-lg","flex","items-center","justify-center","group-hover:bg-primary-200","transition-colors","duration-200"],[1,"fas","fa-question-circle","text-primary-600","text-xl"],[1,"h-12","w-12","bg-secondary-100","rounded-lg","flex","items-center","justify-center","group-hover:bg-secondary-200","transition-colors","duration-200"],[1,"fas","fa-clipboard-list","text-secondary-600","text-xl"],[1,"h-12","w-12","bg-success-100","rounded-lg","flex","items-center","justify-center","group-hover:bg-success-200","transition-colors","duration-200"],[1,"fas","fa-users","text-success-600","text-xl"],[1,"text-sm","text-warning-600"],[1,"fas","fa-arrow-down","text-xs","mr-1"],[1,"h-12","w-12","bg-warning-100","rounded-lg","flex","items-center","justify-center","group-hover:bg-warning-200","transition-colors","duration-200"],[1,"fas","fa-chart-line","text-warning-600","text-xl"],[1,"bg-white","rounded-xl","shadow-soft","border","border-gray-100","p-6"],[1,"text-xl","font-semibold","text-gray-900","mb-6"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-4"],["routerLink","/add-question",1,"group","flex","items-center","p-4","bg-gray-50","rounded-lg","hover:bg-primary-50","hover:border-primary-200","border","border-gray-200","transition-all","duration-200","cursor-pointer",3,"click"],[1,"h-10","w-10","bg-primary-100","rounded-lg","flex","items-center","justify-center","group-hover:bg-primary-200","transition-colors","duration-200","mr-3"],[1,"fas","fa-plus","text-primary-600"],[1,"font-medium","text-gray-900","group-hover:text-primary-700"],[1,"text-sm","text-gray-500"],["routerLink","/test-series/create",1,"group","flex","items-center","p-4","bg-gray-50","rounded-lg","hover:bg-secondary-50","hover:border-secondary-200","border","border-gray-200","transition-all","duration-200","cursor-pointer",3,"click"],[1,"h-10","w-10","bg-secondary-100","rounded-lg","flex","items-center","justify-center","group-hover:bg-secondary-200","transition-colors","duration-200","mr-3"],[1,"fas","fa-clipboard-list","text-secondary-600"],[1,"font-medium","text-gray-900","group-hover:text-secondary-700"],["routerLink","/test-series",1,"group","flex","items-center","p-4","bg-gray-50","rounded-lg","hover:bg-success-50","hover:border-success-200","border","border-gray-200","transition-all","duration-200","cursor-pointer",3,"click"],[1,"h-10","w-10","bg-success-100","rounded-lg","flex","items-center","justify-center","group-hover:bg-success-200","transition-colors","duration-200","mr-3"],[1,"fas","fa-chart-bar","text-success-600"],[1,"font-medium","text-gray-900","group-hover:text-success-700"],[1,"bg-gradient-to-br","from-gray-50","to-gray-100","rounded-xl","border","border-gray-200","p-6"],[1,"text-gray-600","mb-6"],[1,"serial-list","space-y-4"],[1,"text-gray-700"],[1,"text-3xl","sm:text-4xl","font-bold","text-white","mb-3"]],template:function(t,i){if(t&1&&(d(0,"div",2),O(1,mR,30,11,"div",3)(2,xR,111,2,"ng-template",null,0,wm),p()),t&2){let r=Qe(3);g(),_("ngIf",i.hierarchySection)("ngIfElse",r)}},dependencies:[ge,Ee,rd,Ue,un],encapsulation:2})};var nl=class n{constructor(e){this.http=e}base=`${ht.apiUrl}/testSeries`;getSeries(){return this.http.get(this.base)}create(e){return this.http.post(`${this.base}/create`,e)}update(e,t){return this.http.put(`${this.base}/${e}`,t)}static \u0275fac=function(t){return new(t||n)(ie(_t))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})};function bR(n,e){n&1&&(d(0,"div",7),W(),d(1,"svg",8),S(2,"path",9),p(),Z(),d(3,"h3",10),h(4,"No Test Series Found"),p(),d(5,"p",11),h(6,"Get started by creating your first test series to organize your questions."),p(),d(7,"button",12),h(8," Create Test Series "),p()())}function yR(n,e){if(n&1&&(d(0,"div",34)(1,"div",35)(2,"div",36)(3,"div",37)(4,"h3",38),h(5),p(),d(6,"p",39),h(7),p()(),d(8,"div",40)(9,"div",41),W(),d(10,"svg",42),S(11,"path",9),p()()()()(),Z(),d(12,"div",43)(13,"div",44)(14,"div",45)(15,"div",46),h(16),p(),d(17,"div",47),h(18,"Minutes"),p()(),d(19,"div",45)(20,"div",46),h(21),p(),d(22,"div",47),h(23,"Total Marks"),p()()(),d(24,"div",48)(25,"div",49)(26,"span",50),h(27,"Mode:"),p(),d(28,"span",51),h(29),p()(),d(30,"div",49)(31,"span",50),h(32,"Max Attempts:"),p(),d(33,"span",52),h(34),p()()()(),d(35,"div",53)(36,"div",54)(37,"button",55),W(),d(38,"svg",56),S(39,"path",57)(40,"path",58),p(),h(41," View "),p(),Z(),d(42,"button",59),W(),d(43,"svg",56),S(44,"path",60),p(),h(45," Edit "),p()(),Z(),d(46,"div",61)(47,"button",62),W(),d(48,"svg",63),S(49,"path",64),p()()()()()),n&2){let t=e.$implicit,i=e.index;g(5),Q(t.title),g(2),z("Test Series ",i+1,""),g(9),Q(t.duration),g(5),Q(t.totalMarks),g(7),_("ngClass",t.mode==="practice"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),g(),z(" ",t.mode," "),g(5),Q(t.maxAttempts)}}function _R(n,e){if(n&1&&(d(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18)(4,"div",19)(5,"div",20),W(),d(6,"svg",21),S(7,"path",22),p()()(),Z(),d(8,"div",23)(9,"h2",24),h(10),p(),d(11,"p",25),h(12),p()()(),d(13,"div",26)(14,"button",27),W(),d(15,"svg",28),S(16,"path",29),p(),h(17," Filter "),p(),Z(),d(18,"button",30),W(),d(19,"svg",28),S(20,"path",31),p(),h(21," Add Series "),p()()()(),Z(),d(22,"div",32),O(23,yR,50,7,"div",33),p()()),n&2){let t=e.$implicit,i=D(2);g(10),Q(t),g(2),z("",i.groupedSeries[t].length," test series available"),g(11),_("ngForOf",i.groupedSeries[t])}}function wR(n,e){if(n&1&&(d(0,"div",13),O(1,_R,24,3,"div",14),p()),n&2){let t=D();g(),_("ngForOf",t.familyGroups)}}var Nh=class n{constructor(e){this.tsSvc=e}seriesList=[];groupedSeries={};loadAllSeries(){this.tsSvc.getSeries().subscribe({next:e=>{this.seriesList=e,this.groupSeriesByFamily()},error:e=>console.error("Failed to load series",e)})}groupSeriesByFamily(){this.groupedSeries=this.seriesList.reduce((e,t)=>{let i=typeof t.family=="object"&&t.family?.name?t.family.name:"Uncategorized";return e[i]||(e[i]=[]),e[i].push(t),e},{})}get familyGroups(){return Object.keys(this.groupedSeries)}ngOnInit(){this.loadAllSeries()}static \u0275fac=function(t){return new(t||n)(U(nl))};static \u0275cmp=pe({type:n,selectors:[["app-test-series-list"]],decls:9,vars:2,consts:[[1,"min-h-screen","bg-gray-50","py-6","px-4","sm:px-6","lg:px-8"],[1,"max-w-7xl","mx-auto"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],["class","bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",4,"ngIf"],["class","space-y-8",4,"ngIf"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-200","p-12","text-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","text-gray-300","mx-auto","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"text-lg","font-semibold","text-gray-900","mb-2"],[1,"text-gray-600","mb-6"],[1,"btn-primary","px-6","py-3","bg-primary-600","text-white","rounded-lg","font-semibold","hover:bg-primary-700","focus:outline-none","focus:ring-2","focus:ring-primary-500","focus:ring-offset-2","transition-colors"],[1,"space-y-8"],["class","family-group",4,"ngFor","ngForOf"],[1,"family-group"],[1,"mb-6"],[1,"flex","items-center","justify-between"],[1,"flex","items-center"],[1,"flex-shrink-0"],[1,"w-10","h-10","bg-gradient-to-r","from-primary-500","to-secondary-500","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"],[1,"ml-4"],[1,"text-xl","font-bold","text-gray-900"],[1,"text-sm","text-gray-600"],[1,"flex","items-center","space-x-3"],[1,"inline-flex","items-center","px-3","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-primary-500","focus:ring-offset-2","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"],[1,"inline-flex","items-center","px-3","py-2","text-sm","font-medium","text-white","bg-primary-600","border","border-transparent","rounded-md","hover:bg-primary-700","focus:outline-none","focus:ring-2","focus:ring-primary-500","focus:ring-offset-2","transition-colors"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-6"],["class","test-series-card bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-md hover:border-gray-300 transition-all duration-200 overflow-hidden group",4,"ngFor","ngForOf"],[1,"test-series-card","bg-white","rounded-xl","shadow-sm","border","border-gray-200","hover:shadow-md","hover:border-gray-300","transition-all","duration-200","overflow-hidden","group"],[1,"p-6","pb-4"],[1,"flex","items-start","justify-between","mb-3"],[1,"flex-1"],[1,"text-lg","font-semibold","text-gray-900","mb-1","group-hover:text-primary-600","transition-colors"],[1,"text-sm","text-gray-500"],[1,"flex-shrink-0","ml-3"],[1,"w-8","h-8","bg-primary-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-primary-600"],[1,"px-6","pb-4"],[1,"grid","grid-cols-2","gap-3","mb-4"],[1,"text-center","p-3","bg-gray-50","rounded-lg"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"space-y-2","mb-4"],[1,"flex","items-center","justify-between","text-sm"],[1,"text-gray-500"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"font-medium","text-gray-900"],[1,"px-6","py-4","bg-gray-50","border-t","border-gray-100","flex","items-center","justify-between"],[1,"flex","items-center","space-x-2"],[1,"inline-flex","items-center","px-3","py-1.5","text-xs","font-medium","text-blue-700","bg-blue-100","rounded-md","hover:bg-blue-200","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],[1,"inline-flex","items-center","px-3","py-1.5","text-xs","font-medium","text-green-700","bg-green-100","rounded-md","hover:bg-green-200","transition-colors"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"relative"],[1,"inline-flex","items-center","p-1.5","text-gray-400","hover:text-gray-600","focus:outline-none","focus:ring-2","focus:ring-primary-500","focus:ring-offset-2","rounded-md","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"]],template:function(t,i){t&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),h(4,"Test Series Management"),p(),d(5,"p",4),h(6,"Organize and manage your test series collection"),p()(),O(7,bR,9,0,"div",5)(8,wR,2,1,"div",6),p()()),t&2&&(g(7),_("ngIf",!i.seriesList.length),g(),_("ngIf",i.seriesList.length))},dependencies:[ge,er,je,Ee,Ue],encapsulation:2})};var Lh=class n{constructor(e){this.sanitizer=e}transform(e,t){if(!t||t.trim()===""||!e)return e||"";let i=String(t).trim();if(i==="")return e;let r=new RegExp(i.replace(/[.*+?^${}()|[\]\\]/g,"\\\\$&"),"gi");if(!e.match(r))return e;let o=e.replace(r,a=>`<strong class="search-highlight">${a}</strong>`);return this.sanitizer.bypassSecurityTrustHtml(o)}static \u0275fac=function(t){return new(t||n)(U(Jg,16))};static \u0275pipe=B1({name:"highlight",type:n,pure:!0})};var Ft=class n{constructor(e){this.http=e}apiUrl=ht.apiUrl;addQuestion(e){let t=localStorage.getItem("token"),i=new ze({Authorization:`Bearer ${t}`});return this.http.post(`${this.apiUrl}/questions/add`,e,{headers:i})}getBranches(){let e=localStorage.getItem("token"),t=new ze({Authorization:`Bearer ${e}`});return this.http.get(`${this.apiUrl}/hierarchy/branch`,{headers:t})}getSubjects(e){let t=localStorage.getItem("token"),i=new ze({Authorization:`Bearer ${t}`});return this.http.get(`${this.apiUrl}/hierarchy/subject?branchId=${e}`,{headers:i})}getTopics(e){let t=localStorage.getItem("token"),i=new ze({Authorization:`Bearer ${t}`});return this.http.get(`${this.apiUrl}/hierarchy/topic?subjectId=${e}`,{headers:i})}getSubtopics(e){let t=localStorage.getItem("token"),i=new ze({Authorization:`Bearer ${t}`});return this.http.get(`${this.apiUrl}/hierarchy/subtopic?topicId=${e}`,{headers:i})}getQuestions(){let e=localStorage.getItem("token"),t=new ze({Authorization:`Bearer ${e}`});return this.http.get(`${this.apiUrl}/questions/all`,{headers:t})}deleteQuestion(e){let t=localStorage.getItem("token"),i=new ze({Authorization:`Bearer ${t}`});return this.http.delete(`${this.apiUrl}/questions/${e}`,{headers:i})}updateQuestion(e,t){let i=localStorage.getItem("token"),r=new ze({Authorization:`Bearer ${i}`});return this.http.put(`${this.apiUrl}/questions/${e}`,t,{headers:r})}getQuestionById(e){let t=localStorage.getItem("token"),i=new ze({Authorization:`Bearer ${t}`});return this.http.get(`${this.apiUrl}/questions/${e}`,{headers:i})}createSubject(e){let t=localStorage.getItem("token"),i=new ze({Authorization:`Bearer ${t}`});return this.http.post(`${this.apiUrl}/hierarchy/subject`,e,{headers:i})}createTopic(e){let t=localStorage.getItem("token"),i=new ze({Authorization:`Bearer ${t}`});return this.http.post(`${this.apiUrl}/hierarchy/topic`,e,{headers:i})}createSubtopic(e){let t=localStorage.getItem("token"),i=new ze({Authorization:`Bearer ${t}`});return this.http.post(`${this.apiUrl}/hierarchy/subtopic`,e,{headers:i})}filterQuestions(e){let t=localStorage.getItem("token"),i=new ze({Authorization:`Bearer ${t}`}),r=new Em;return e.branch&&(r=r.append("branch",e.branch)),e.subject&&(r=r.append("subject",e.subject)),e.topic&&(r=r.append("topic",e.topic)),e.subtopic&&(r=r.append("subtopic",e.subtopic)),e.difficulty&&(r=r.append("difficulty",e.difficulty)),e.type&&(r=r.append("type",e.type)),e.status&&(r=r.append("status",e.status)),e.searchTerm&&(r=r.append("searchTerm",e.searchTerm)),e.page&&(r=r.append("page",e.page.toString())),e.limit&&(r=r.append("limit",e.limit.toString())),this.http.get(`${this.apiUrl}/questions/filter`,{headers:i,params:r})}importQuestions(e){let t=localStorage.getItem("token"),i=new ze({Authorization:`Bearer ${t}`});return this.http.post(`${this.apiUrl}/questions/import-csv`,e,{headers:i})}getAll(){let e=localStorage.getItem("token"),t=new ze({Authorization:`Bearer ${e}`});return this.http.get(`${this.apiUrl}/questions/all`,{headers:t})}getExamTypes(){let e=localStorage.getItem("token"),t=new ze({Authorization:`Bearer ${e}`});return this.http.get(`${this.apiUrl}/examTypes`,{headers:t})}getQuestionsByStatus(e,t,i){let r=localStorage.getItem("token"),s=new ze({Authorization:`Bearer ${r}`}),o=new Em().set("status",e);return t&&(o=o.set("page",t.toString())),i&&(o=o.set("limit",i.toString())),this.http.get(`${this.apiUrl}/questions/filter`,{headers:s,params:o})}updateQuestionStatus(e,t){let i=localStorage.getItem("token"),r=new ze({Authorization:`Bearer ${i}`});return this.http.put(`${this.apiUrl}/questions/${e}/status`,{status:t},{headers:r})}static \u0275fac=function(t){return new(t||n)(ie(_t))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})};var Mi=class n{constructor(e){this.http=e}base=`${ht.apiUrl}/examFamilies`;getAll(){return this.http.get(this.base)}create(e){return this.http.post(this.base,e)}static \u0275fac=function(t){return new(t||n)(ie(_t))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})};var vr=class n{constructor(e){this.http=e}base=`${ht.apiUrl}/examStreams`;getAll(){return this.http.get(this.base)}getByFamily(e){return this.http.get(this.base,{params:{family:e}})}create(e){return this.http.post(this.base,e)}static \u0275fac=function(t){return new(t||n)(ie(_t))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})};var xr=class n{constructor(e){this.http=e}base=`${ht.apiUrl}/examPapers`;getAll(){return this.http.get(this.base)}getByStream(e){return this.http.get(this.base,{params:{stream:e}})}getByFamily(e){return this.http.get(this.base,{params:{family:e}})}create(e){return this.http.post(this.base,e)}static \u0275fac=function(t){return new(t||n)(ie(_t))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ts=class n{constructor(e){this.http=e}base=`${ht.apiUrl}/examShifts`;getAll(){return this.http.get(this.base)}getByPaper(e){return this.http.get(`${this.base}/by-paper`,{params:{paper:e}})}create(e){return this.http.post(this.base,e)}getOrCreateDefaultShift(e){return this.getByPaper(e).pipe(ei(t=>{if(t&&t.length>0)return ve(t[0]);{let i={paper:e,code:"main-shift",name:"Main Shift"};return this.create(i)}}),Ar(t=>{throw console.error("Error getting or creating default shift:",t),t}))}static \u0275fac=function(t){return new(t||n)(ie(_t))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})};var SR=()=>({standalone:!0});function ER(n,e){if(n&1&&(d(0,"option",96),h(1),p()),n&2){let t=e.$implicit;_("value",t._id),g(),Q(t.name)}}function CR(n,e){n&1&&(d(0,"p",97),h(1," Families not available or list is empty. "),p())}function kR(n,e){if(n&1&&(d(0,"option",96),h(1),p()),n&2){let t=e.$implicit;_("value",t._id),g(),Q(t.name)}}function TR(n,e){n&1&&(d(0,"p",97),h(1," Streams not available for the selected family or list is empty. "),p())}function AR(n,e){if(n&1&&(Yo(0),h(1),Xo()),n&2){let t=D().$implicit;g(),z(" (",t.code,")")}}function IR(n,e){if(n&1&&(d(0,"option",96),h(1),O(2,AR,2,1,"ng-container",98),p()),n&2){let t=e.$implicit;_("value",t._id),g(),z(" ",t.name,""),g(),_("ngIf",t.code)}}function MR(n,e){n&1&&(d(0,"p",97),h(1," Papers not available for the selected stream or list is empty. "),p())}function PR(n,e){if(n&1&&(d(0,"option",96),h(1),p()),n&2){let t=e.$implicit;_("value",t._id),g(),Q(t.name)}}function DR(n,e){n&1&&(d(0,"p",99),h(1,' No shifts available for this paper. A default "Main Shift" will be created automatically. '),p())}function NR(n,e){if(n&1&&(d(0,"div",47)(1,"div")(2,"label",108),h(3," Default Marks for Pooled Questions "),p(),S(4,"input",141),p(),d(5,"div")(6,"label",108),h(7," Default Negative Marks "),p(),S(8,"input",142),p()()),n&2){let t=D().index;g(2),lt("for","defaultMarksForPooledQuestion-",t,""),g(2),lt("id","defaultMarksForPooledQuestion-",t,""),g(2),lt("for","defaultNegativeMarksForPooledQuestion-",t,""),g(2),lt("id","defaultNegativeMarksForPooledQuestion-",t,"")}}function LR(n,e){if(n&1){let t=de();d(0,"div",147),S(1,"span",148),hi(2,"highlight"),d(3,"button",149),F("click",function(){let r=M(t).$implicit,s=D(2).index,o=D();return P(o.addQuestionFromSearchResults(s,r))}),h(4," Add "),p()()}if(n&2){let t=e.$implicit,i=D(2).index,r=D();g(),_("innerHTML",Ko(2,1,t.translations[0].questionText||t.questionText||"Test Question Text Missing",r.sectionSearchTerms[i]),Ri)}}function OR(n,e){if(n&1&&(d(0,"div",143)(1,"h6",144),h(2,"Search Results:"),p(),d(3,"div",145),O(4,LR,5,4,"div",146),p()()),n&2){let t=D().index,i=D();g(4),_("ngForOf",i.sectionSearchResults[t])}}function RR(n,e){n&1&&(d(0,"div",150),h(1," No questions found matching your search. "),p())}function FR(n,e){if(n&1&&(d(0,"div",169)(1,"p",170),h(2,"Question Preview:"),p(),d(3,"p",171),h(4),p()()),n&2){let t=D().index,i=D().index,r=D();g(4),Q((r.previewedQuestions[i][t]==null||r.previewedQuestions[i][t].translations[0]==null?null:r.previewedQuestions[i][t].translations[0].questionText)||(r.previewedQuestions[i][t]==null?null:r.previewedQuestions[i][t].questionText)||"Text not available")}}function BR(n,e){if(n&1){let t=de();d(0,"div",151)(1,"div",152)(2,"h6",153)(3,"span",154),h(4),p(),h(5),p(),d(6,"button",155),F("click",function(){let r=M(t).index,s=D().index,o=D();return P(o.removeQuestion(s,r))}),W(),d(7,"svg",156),S(8,"path",157),p()()(),Z(),d(9,"div",158)(10,"label",159),h(11,"Question ID"),p(),d(12,"div",160),S(13,"input",161),d(14,"button",162),F("click",function(){let r=M(t).index,s=D().index,o=D();return P(o.previewQuestion(s,r))}),W(),d(15,"svg",163),S(16,"path",45)(17,"path",164),p(),h(18," Preview "),p()()(),O(19,FR,5,1,"div",165),Z(),d(20,"div",166)(21,"div")(22,"label",159),h(23,"Marks"),p(),S(24,"input",167),p(),d(25,"div")(26,"label",159),h(27,"Negative Marks"),p(),S(28,"input",168),p()()()}if(n&2){let t=e.index,i=D().index,r=D();_("formGroupName",t),g(4),z(" ",t+1," "),g(),z(" Question ",t+1," "),g(5),ct("for","questionId-",i,"-",t,""),g(3),ct("id","questionId-",i,"-",t,""),g(6),_("ngIf",r.previewedQuestions[i]&&r.previewedQuestions[i][t]),g(3),ct("for","marks-",i,"-",t,""),g(2),ct("id","marks-",i,"-",t,""),g(2),ct("for","negativeMarks-",i,"-",t,""),g(2),ct("id","negativeMarks-",i,"-",t,"")}}function VR(n,e){if(n&1){let t=de();d(0,"div",100)(1,"div",101)(2,"h3",102)(3,"span",103),h(4),p(),h(5),p(),d(6,"button",104),F("click",function(){let r=M(t).index,s=D();return P(s.removeSection(r))}),W(),d(7,"svg",105),S(8,"path",106),p()()(),Z(),d(9,"div",107)(10,"div")(11,"label",108),h(12,"Section Title"),p(),S(13,"input",109),p(),d(14,"div")(15,"label",108),h(16,"Order"),p(),S(17,"input",110),p()(),d(18,"div",111)(19,"div",112),S(20,"input",113),d(21,"label",114),h(22," Randomize Question Order in Section "),p()()(),d(23,"div",115)(24,"h4",116),W(),d(25,"svg",117),S(26,"path",118),p(),h(27," Question Pool Configuration "),p(),Z(),d(28,"div",119)(29,"div")(30,"label",108),h(31," Questions to Select from Pool "),p(),S(32,"input",120),p()(),d(33,"div",121)(34,"label",108),h(35," Question Pool (comma-separated IDs) "),p(),S(36,"textarea",122),p(),O(37,NR,9,8,"div",123),p(),d(38,"div",124)(39,"h4",116),W(),d(40,"svg",125),S(41,"path",126),p(),h(42," Question Selection & Management "),p(),Z(),d(43,"div",127)(44,"h5",128),W(),d(45,"svg",129),S(46,"path",130),p(),h(47," Search Questions by Text "),p(),Z(),d(48,"input",131),ee("ngModelChange",function(r){let s=M(t).index,o=D();return J(o.sectionSearchTerms[s],r)||(o.sectionSearchTerms[s]=r),P(r)}),F("ngModelChange",function(){let r=M(t).index,s=D();return P(s.performSearch(r))}),p(),O(49,OR,5,1,"div",132)(50,RR,2,0,"div",133),p(),d(51,"div",134),O(52,BR,29,22,"div",135),p(),d(53,"div",136)(54,"div",137)(55,"label",138),h(56,"Import Questions from CSV:"),p(),d(57,"input",139),F("change",function(r){let s=M(t).index,o=D();return P(o.importCsv(r,s))}),p()(),d(58,"button",140),F("click",function(){let r=M(t).index,s=D();return P(s.addQuestion(r))}),W(),d(59,"svg",75),S(60,"path",76),p(),h(61," Add Question "),p()()()()}if(n&2){let t,i=e.$implicit,r=e.index,s=D();_("formGroupName",r),g(4),z(" ",r+1," "),g(),z(" Section ",r+1," "),g(),_("disabled",s.sections.length<=1),g(5),lt("for","sectionTitle-",r,""),g(2),lt("id","sectionTitle-",r,""),g(2),lt("for","sectionOrder-",r,""),g(2),lt("id","sectionOrder-",r,""),g(3),lt("id","randomizeQuestionOrderInSection-",r,""),g(),lt("for","randomizeQuestionOrderInSection-",r,""),g(9),lt("for","questionsToSelectFromPool-",r,""),g(2),lt("id","questionsToSelectFromPool-",r,""),g(2),lt("for","questionPool-",r,""),g(2),lt("id","questionPool-",r,""),g(),_("ngIf",((t=i.get("questionsToSelectFromPool"))==null?null:t.value)>0),g(11),K("ngModel",s.sectionSearchTerms[r]),_("ngModelOptions",Sn(34,SR)),g(),_("ngIf",s.sectionSearchResults[r]&&s.sectionSearchResults[r].length>0),g(),_("ngIf",s.sectionSearchTerms[r]&&s.sectionSearchTerms[r].length>2&&(!s.sectionSearchResults[r]||s.sectionSearchResults[r].length===0)),g(2),_("ngForOf",s.getQuestions(r).controls),g(3),lt("for","csvImport-",r,""),g(2),lt("id","csvImport-",r,"")}}var Su=class n{constructor(e,t,i,r,s,o,a){this.fb=e;this.tsService=t;this.qService=i;this.efService=r;this.streamService=s;this.paperService=o;this.shiftService=a}seriesForm;questionsList=[];families=[];streams=[];papers=[];shifts=[];currentYear=new Date().getFullYear();previewedQuestions=[];sectionSearchTerms=[];sectionSearchResults=[];searchDebouncers=[];searchSubscriptions=[];sectionInteractionSubscriptions=[];getQuestionIdString(e){return typeof e=="string"?e:e&&typeof e=="object"&&"$oid"in e?e.$oid:(console.warn("[getQuestionIdString] Unexpected ID format:",e),String(e))}ngOnInit(){this.seriesForm=this.fb.group({title:["",fe.required],duration:[60,fe.required],type:["Practice_Exam",fe.required],mode:["practice",fe.required],maxAttempts:[5,[fe.required,fe.min(1)]],year:[this.currentYear,fe.required],startAt:[null],endAt:[null],family:["",fe.required],stream:[{value:"",disabled:!0},fe.required],paper:[{value:"",disabled:!0},fe.required],shift:[{value:"",disabled:!0},fe.required],randomizeSectionOrder:[!1],enablePublicLeaderboard:[!1],sections:this.fb.array([])}),this.efService.getAll().subscribe(e=>{console.log("\u{1F5C2}\uFE0F Fetched families:",e),this.families=e}),this.seriesForm.get("family").valueChanges.subscribe(e=>{console.log("[BuildPaperComponent] Family selected. ID:",e),this.seriesForm.get("stream").setValue(null,{emitEvent:!1}),this.seriesForm.get("paper").setValue(null,{emitEvent:!1}),this.seriesForm.get("shift").setValue(null,{emitEvent:!1}),console.log("[BuildPaperComponent] Dependent form controls (stream, paper, shift) reset."),this.streams=[],this.papers=[],this.shifts=[],console.log("[BuildPaperComponent] Dependent data arrays (streams, papers, shifts) cleared."),this.seriesForm.get("paper")?.disable(),this.seriesForm.get("shift")?.disable(),e&&String(e).trim()!==""?(console.log(`[BuildPaperComponent] Fetching streams for familyId: "${e}"`),this.streamService.getByFamily(e).subscribe({next:t=>{console.log("[BuildPaperComponent] Raw streams data received from service:",JSON.stringify(t,null,2)),Array.isArray(t)?(this.streams=t,console.log(`[BuildPaperComponent] this.streams populated. Count: ${this.streams.length}. First item (if any):`,this.streams.length>0?this.streams[0]:"empty"),this.streams.length>0&&this.seriesForm.get("stream")?.enable()):(console.error("[BuildPaperComponent] streamsData is not an array:",t),this.streams=[])},error:t=>{console.error("[BuildPaperComponent] Error fetching streams:",t),this.streams=[]}})):console.log("[BuildPaperComponent] familyId is null or empty. Not fetching streams. Dependent dropdowns will be empty.")}),this.seriesForm.get("stream").valueChanges.subscribe(e=>{this.seriesForm.get("paper").setValue(null,{emitEvent:!1}),this.seriesForm.get("shift").setValue(null,{emitEvent:!1}),this.papers=[],this.shifts=[],this.seriesForm.get("paper")?.disable(),this.seriesForm.get("shift")?.disable(),e&&String(e).trim()!==""?(console.log(`[BuildPaperComponent] Fetching papers for streamId: "${e}"`),this.paperService.getByStream(e).subscribe({next:t=>{Array.isArray(t)?(this.papers=t,console.log(`[BuildPaperComponent] Loaded ${this.papers.length} papers for stream ${e}`),this.papers.length>0&&this.seriesForm.get("paper")?.enable()):(console.error("[BuildPaperComponent] papersData is not an array:",t),this.papers=[])},error:t=>{console.error("[BuildPaperComponent] Error fetching papers:",t),this.papers=[]}})):console.log("[BuildPaperComponent] streamId is null or empty. Not fetching papers.")}),this.seriesForm.get("paper").valueChanges.subscribe(e=>{this.seriesForm.get("shift").setValue(null,{emitEvent:!1}),this.shifts=[],this.seriesForm.get("shift")?.disable(),e&&String(e).trim()!==""?(console.log(`[BuildPaperComponent] Fetching shifts for paperId: "${e}"`),this.shiftService.getByPaper(e).subscribe({next:t=>{Array.isArray(t)?(this.shifts=t,console.log(`[BuildPaperComponent] Loaded ${this.shifts.length} shifts for paper ${e}`),this.shifts.length>0&&this.seriesForm.get("shift")?.enable()):(console.error("[BuildPaperComponent] shiftsData is not an array:",t),this.shifts=[])},error:t=>{console.error("[BuildPaperComponent] Error fetching shifts:",t),this.shifts=[]}})):console.log("[BuildPaperComponent] paperId is null or empty. Not fetching shifts.")}),this.qService.getAll().subscribe(e=>this.questionsList=e)}ngOnDestroy(){this.searchSubscriptions.forEach(e=>{e&&e.unsubscribe()}),this.searchSubscriptions=[],this.searchDebouncers.forEach(e=>{e&&e.complete()}),this.searchDebouncers=[],this.sectionInteractionSubscriptions.forEach(e=>{e&&e.unsubscribe()}),this.sectionInteractionSubscriptions=[]}setupSearchDebouncer(e){this.searchSubscriptions[e]&&this.searchSubscriptions[e].unsubscribe(),this.searchDebouncers[e]&&this.searchDebouncers[e].complete(),this.searchDebouncers[e]=new Li,this.searchSubscriptions[e]=this.searchDebouncers[e].pipe(d1(350),Ku()).subscribe(()=>{this.performSearch(e)})}setupSectionInteractionLogic(e){let t=this.sections.at(e),i=t.get("questionPool"),r=t.get("questionsToSelectFromPool"),s=t.get("questions"),o=new Zu;this.sectionInteractionSubscriptions[e]=o;let a=qo([i.valueChanges.pipe(zo(i.value)),r.valueChanges.pipe(zo(r.value))]).pipe(rt(([u,f])=>typeof u=="string"&&u.trim()!==""||typeof f=="number"&&f>0));o.add(a.subscribe(u=>{if(u){if(s.enabled){for(;s.length>0;)s.removeAt(0,{emitEvent:!1});s.disable({emitEvent:!1})}}else s.disabled&&s.length===0&&s.enable({emitEvent:!1})})),o.add(s.valueChanges.pipe(zo(s.value),rt(u=>u.length>0)).subscribe(u=>{u?(i.enabled||r.enabled)&&(i.setValue("",{emitEvent:!1}),r.setValue(0,{emitEvent:!1}),i.disable({emitEvent:!1}),r.disable({emitEvent:!1})):i.disabled&&i.value.trim()===""&&r.disabled&&r.value===0&&(i.enable({emitEvent:!1}),r.enable({emitEvent:!1}))}));let l=typeof i.value=="string"&&i.value.trim()!==""||typeof r.value=="number"&&r.value>0,c=s.length>0;if(l&&!c)s.disable({emitEvent:!1});else if(c&&!l)i.disable({emitEvent:!1}),r.disable({emitEvent:!1});else if(l&&c){for(;s.length>0;)s.removeAt(0,{emitEvent:!1});s.disable({emitEvent:!1}),i.enable({emitEvent:!1}),r.enable({emitEvent:!1})}else s.enable({emitEvent:!1}),i.enable({emitEvent:!1}),r.enable({emitEvent:!1})}get sections(){return this.seriesForm.get("sections")}addSection(){let e=this.fb.group({title:["",fe.required],order:[this.sections.length+1,fe.required],questions:this.fb.array([]),questionPool:[""],questionsToSelectFromPool:[0,fe.min(0)],defaultMarksForPooledQuestion:[1,fe.min(0)],defaultNegativeMarksForPooledQuestion:[0,fe.min(0)],randomizeQuestionOrderInSection:[!1]});this.sections.push(e);let t=this.sections.length-1;this.previewedQuestions[t]=[],this.sectionSearchTerms[t]="",this.sectionSearchResults[t]=[],this.setupSearchDebouncer(t),this.setupSectionInteractionLogic(t)}removeSection(e){this.sections.removeAt(e),this.sectionSearchTerms.splice(e,1),this.sectionSearchResults.splice(e,1),this.previewedQuestions.splice(e,1),this.searchSubscriptions[e]&&this.searchSubscriptions[e].unsubscribe(),this.searchSubscriptions.splice(e,1),this.searchDebouncers[e]&&this.searchDebouncers[e].complete(),this.searchDebouncers.splice(e,1),this.sectionInteractionSubscriptions[e]&&this.sectionInteractionSubscriptions[e].unsubscribe(),this.sectionInteractionSubscriptions.splice(e,1)}getQuestions(e){return this.sections.at(e).get("questions")}addQuestion(e){if(this.sections.at(e).get("questions")?.disabled){alert("Cannot add manual question when question pool is active or manual entry is disabled for this section.");return}let i=this.getQuestions(e),r=i.length;i.push(this.fb.group({question:["",fe.required],marks:[1,[fe.required,fe.min(0)]],negativeMarks:[0,[fe.required,fe.min(0)]]})),this.previewedQuestions[e]=this.previewedQuestions[e]||[],this.previewedQuestions[e][r]=null}removeQuestion(e,t){this.getQuestions(e).removeAt(t),this.previewedQuestions[e]&&this.previewedQuestions[e].splice(t,1)}get computedTotal(){return this.sections.controls.reduce((e,t)=>{let i=t.get("questions");return e+i.controls.reduce((r,s)=>r+(s.get("marks").value||0),0)},0)}importCsv(e,t){if(this.sections.at(t).get("questions")?.disabled){alert("Cannot import CSV when question pool is active or manual entry is disabled for this section.");return}let r=e.target.files?.[0];if(!r)return;let s=new FileReader;s.onload=()=>{s.result.split(/\r?\n/).map(a=>a.trim()).filter(a=>a&&a.length===24).forEach(a=>{this.getQuestions(t).push(this.fb.group({question:[a,fe.required],marks:[1,[fe.required,fe.min(0)]],negativeMarks:[0,[fe.required,fe.min(0)]]}))})},s.readAsText(r)}previewQuestion(e,t){let i=this.getQuestions(e).at(t).get("question")?.value;if(!i||String(i).length!==24){this.previewedQuestions[e]=this.previewedQuestions[e]||[],this.previewedQuestions[e][t]={questionText:"Invalid ID format"};return}this.qService.getQuestionById(i).subscribe({next:r=>{this.previewedQuestions[e]=this.previewedQuestions[e]||[],this.previewedQuestions[e][t]=r},error:()=>{this.previewedQuestions[e]=this.previewedQuestions[e]||[],this.previewedQuestions[e][t]={translations:[{questionText:"Not found"}]}}})}onSubmit(){if(this.seriesForm.invalid){console.error("Form is invalid!",this.seriesForm.errors);return}if(!this.validateMinimumQuestions(2)){alert("Test series must have at least 2 questions. Please add more questions before submitting.");return}let t=this.seriesForm.getRawValue(),i=t.paper;t.sections&&t.sections.forEach(r=>{typeof r.questionPool=="string"?r.questionPool=r.questionPool.split(",").map(s=>s.trim()).filter(s=>s&&s.length>0):(r.questionPool===null||r.questionPool===void 0)&&(r.questionPool=[])}),!t.shift&&i?(console.log("No shift selected, trying to get or create a default one"),this.shiftService.getOrCreateDefaultShift(i).subscribe({next:r=>{console.log("Using default shift:",r);let s=_e(L({},t),{shift:r._id});this.submitTestSeries(s)},error:r=>{console.error("Failed to get or create default shift:",r),alert("Failed to create default shift. Please try again or manually select a shift.")}})):this.submitTestSeries(t)}submitTestSeries(e){this.tsService.create(e).subscribe({next:t=>{alert("Test Series created!")},error:t=>{alert("Creation failed: "+(t.message||"Unknown error"))}})}onFamilyChange(e){console.log(`Family changed to ${e}`),!e||e===""?(this.seriesForm.get("stream").setValue("",{emitEvent:!0}),this.seriesForm.get("paper").setValue("",{emitEvent:!0}),this.seriesForm.get("shift").setValue("",{emitEvent:!0}),this.streams=[],this.papers=[],this.shifts=[]):setTimeout(()=>{this.streams.length===0&&(console.log("[BuildPaperComponent] No streams found for this family. Disabling dropdown."),this.seriesForm.get("stream")?.disable())},500)}onStreamChange(e){console.log(`Stream changed to ${e}`),(!e||e==="")&&(this.seriesForm.get("paper").setValue("",{emitEvent:!0}),this.seriesForm.get("shift").setValue("",{emitEvent:!0}),this.papers=[],this.shifts=[])}onPaperChange(e){console.log(`Paper changed to ${e}`),(!e||e==="")&&(this.seriesForm.get("shift").setValue("",{emitEvent:!0}),this.shifts=[])}onShiftChange(e){console.log(`Shift changed to ${e}`)}performSearch(e){let t=this.sectionSearchTerms[e];if(!this.questionsList||this.questionsList.length===0){this.sectionSearchResults[e]&&(this.sectionSearchResults[e]=[]);return}this.sectionSearchResults[e]||(this.sectionSearchResults[e]=[]);let i=t?t.trim().toLowerCase():"";i.length>2?this.sectionSearchResults[e]=this.questionsList.filter(r=>r.translations&&Array.isArray(r.translations)?r.translations.some(s=>{let o=s.questionText;return typeof o=="string"?o.toLowerCase().includes(i):!1}):!1):this.sectionSearchResults[e]=[]}onSearchInputChanged(e){this.sections.at(e).get("questions")?.disabled||this.searchDebouncers[e].next(this.sectionSearchTerms[e])}addQuestionFromSearchResults(e,t){if(this.sections.at(e).get("questions")?.disabled){alert("Cannot add question from search results when question pool is active or manual entry is disabled for this section.");return}let r=this.getQuestions(e),s=r.length;r.push(this.fb.group({question:[this.getQuestionIdString(t._id),fe.required],marks:[1,[fe.required,fe.min(0)]],negativeMarks:[0,[fe.required,fe.min(0)]]})),this.previewedQuestions[e]=this.previewedQuestions[e]||[],this.previewedQuestions[e][s]=t,this.sectionSearchTerms[e]="",this.sectionSearchResults[e]=[],this.searchDebouncers[e]&&this.searchDebouncers[e].next("")}validateMinimumQuestions(e){let t=0;if(this.sections.length>0)for(let i=0;i<this.sections.length;i++){let r=this.sections.at(i),s=r.get("questions");s.disabled||(t+=s.length);let o=r.get("questionPool"),a=r.get("questionsToSelectFromPool");if(o&&a&&!o.disabled&&!a.disabled){let l=o.value,c=a.value;if(typeof l=="string"&&l.trim()!==""&&typeof c=="number"&&c>0){let u=l.split(",").map(f=>f.trim()).filter(f=>f&&f.length>0);t+=Math.min(c,u.length)}}}return console.log(`Total questions in test series: ${t}, minimum required: ${e}`),t>=e}static \u0275fac=function(t){return new(t||n)(U(Vn),U(nl),U(Ft),U(Mi),U(vr),U(xr),U(Ts))};static \u0275cmp=pe({type:n,selectors:[["app-build-paper"]],decls:171,vars:13,consts:[["familySelect",""],["streamSelect",""],["paperSelect",""],["shiftSelect",""],[1,"min-h-screen","bg-gradient-to-br","from-gray-50","to-blue-50","py-8","px-4","sm:px-6","lg:px-8"],[1,"max-w-4xl","mx-auto"],[1,"text-center","mb-8"],[1,"text-4xl","font-bold","text-gray-900","mb-2"],[1,"text-lg","text-gray-600"],[1,"w-24","h-1","bg-gradient-to-r","from-primary-500","to-secondary-500","mx-auto","mt-4","rounded-full"],[1,"space-y-8",3,"ngSubmit","formGroup"],[1,"bg-white","rounded-2xl","shadow-soft","border","border-gray-100","overflow-hidden"],[1,"bg-gradient-to-r","from-primary-50","to-secondary-50","px-6","py-4","border-b","border-gray-100"],[1,"text-xl","font-semibold","text-gray-900","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","mr-2","text-primary-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"p-6","space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"md:col-span-2"],["for","title",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","title","formControlName","title","type","text","placeholder","Enter test series title",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","transition-all","duration-200","bg-white","hover:border-gray-400"],["for","duration",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","duration","formControlName","duration","type","number","min","1","placeholder","Test duration",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","transition-all","duration-200","bg-white","hover:border-gray-400"],["for","maxAttempts",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","maxAttempts","formControlName","maxAttempts","type","number","min","1","placeholder","Maximum attempts allowed",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","transition-all","duration-200","bg-white","hover:border-gray-400"],["for","type",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","type","formControlName","type",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","transition-all","duration-200","bg-white","hover:border-gray-400"],["value",""],["value","Real_Exam"],["value","Practice_Exam"],["value","Live_Exam"],["value","Quiz_Exam"],["for","mode",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","mode","formControlName","mode",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","transition-all","duration-200","bg-white","hover:border-gray-400"],["value","practice"],["value","live"],["for","year",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","year","formControlName","year","type","number","min","1900","placeholder","Exam year",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","transition-all","duration-200","bg-white","hover:border-gray-400",3,"max"],["for","startAt",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","startAt","formControlName","startAt","type","datetime-local",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","transition-all","duration-200","bg-white","hover:border-gray-400"],["for","endAt",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","endAt","formControlName","endAt","type","datetime-local",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","transition-all","duration-200","bg-white","hover:border-gray-400"],[1,"bg-gradient-to-r","from-secondary-50","to-primary-50","px-6","py-4","border-b","border-gray-100"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","mr-2","text-secondary-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"p-6","space-y-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"flex","items-center","p-4","bg-gray-50","rounded-lg","border","border-gray-200","hover:border-primary-300","transition-colors","duration-200"],["type","checkbox","id","randomizeSectionOrder","formControlName","randomizeSectionOrder",1,"h-4","w-4","text-primary-600","focus:ring-primary-500","border-gray-300","rounded"],["for","randomizeSectionOrder",1,"ml-3","text-sm","font-medium","text-gray-700"],["type","checkbox","id","enablePublicLeaderboard","formControlName","enablePublicLeaderboard",1,"h-4","w-4","text-primary-600","focus:ring-primary-500","border-gray-300","rounded"],["for","enablePublicLeaderboard",1,"ml-3","text-sm","font-medium","text-gray-700"],[1,"bg-gradient-to-r","from-warning-50","to-success-50","px-6","py-4","border-b","border-gray-100"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","mr-2","text-warning-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"],["for","family",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","family","formControlName","family",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","transition-all","duration-200","bg-white","hover:border-gray-400",3,"change"],[3,"value",4,"ngFor","ngForOf"],["class","mt-2 text-sm text-orange-600 bg-orange-50 p-3 rounded-lg",4,"ngIf"],["for","stream",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","stream","formControlName","stream",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","transition-all","duration-200","bg-white","hover:border-gray-400",3,"change"],["for","paper",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","paper","formControlName","paper",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","transition-all","duration-200","bg-white","hover:border-gray-400",3,"change"],["for","shift",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","shift","formControlName","shift",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","transition-all","duration-200","bg-white","hover:border-gray-400",3,"change"],["class","mt-2 text-sm text-blue-600 bg-blue-50 p-3 rounded-lg",4,"ngIf"],[1,"bg-gradient-to-r","from-success-50","to-primary-50","px-6","py-4","border-b","border-gray-100"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","mr-2","text-success-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"],[1,"p-6"],["formArrayName","sections",1,"space-y-6"],["class","bg-gray-50 rounded-xl p-6 border border-gray-200",3,"formGroupName",4,"ngFor","ngForOf"],[1,"mt-8","text-center"],["type","button",1,"inline-flex","items-center","px-6","py-3","bg-primary-600","text-white","rounded-lg","hover:bg-primary-700","focus:ring-2","focus:ring-primary-500","transition-colors","duration-200",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"bg-gradient-to-r","from-purple-50","to-primary-50","px-6","py-4","border-b","border-gray-100"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","mr-2","text-purple-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"bg-gradient-to-r","from-green-50","to-blue-50","rounded-xl","p-6","border","border-green-200"],[1,"text-center"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],[1,"text-4xl","font-bold","text-green-600"],[1,"text-sm","text-gray-600","mt-2"],[1,"bg-orange-50","border","border-orange-200","rounded-lg","p-4"],[1,"flex","items-start"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-orange-600","mt-0.5","mr-3","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"],[1,"font-semibold","text-orange-800"],[1,"text-sm","text-orange-700","mt-1"],[1,"pt-4"],["type","submit",1,"w-full","py-4","px-6","bg-gradient-to-r","from-primary-600","to-secondary-600","text-white","text-lg","font-semibold","rounded-xl","hover:from-primary-700","hover:to-secondary-700","focus:ring-2","focus:ring-primary-500","disabled:opacity-50","disabled:cursor-not-allowed","transition-all","duration-200","shadow-lg","hover:shadow-xl",3,"disabled"],[1,"flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[3,"value"],[1,"mt-2","text-sm","text-orange-600","bg-orange-50","p-3","rounded-lg"],[4,"ngIf"],[1,"mt-2","text-sm","text-blue-600","bg-blue-50","p-3","rounded-lg"],[1,"bg-gray-50","rounded-xl","p-6","border","border-gray-200",3,"formGroupName"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-semibold","text-gray-900","flex","items-center"],[1,"bg-primary-500","text-white","rounded-full","w-8","h-8","flex","items-center","justify-center","text-sm","font-bold","mr-3"],["type","button",1,"text-red-600","hover:text-red-800","hover:bg-red-50","rounded-lg","p-2","transition-colors","duration-200",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-2",3,"for"],["formControlName","title","type","text","placeholder","Enter section title",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","transition-all","duration-200",3,"id"],["formControlName","order","type","number","min","1","placeholder","Section order",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","transition-all","duration-200",3,"id"],[1,"mb-6"],[1,"flex","items-center","p-3","bg-white","rounded-lg","border","border-gray-200"],["type","checkbox","formControlName","randomizeQuestionOrderInSection",1,"h-4","w-4","text-primary-600","focus:ring-primary-500","border-gray-300","rounded",3,"id"],[1,"ml-3","text-sm","font-medium","text-gray-700",3,"for"],[1,"bg-white","rounded-lg","p-4","border","border-gray-200","mb-6"],[1,"text-md","font-semibold","text-gray-900","mb-4","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","text-secondary-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-4"],["type","number","formControlName","questionsToSelectFromPool","min","0","placeholder","Number of questions to select",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","transition-all","duration-200",3,"id"],[1,"mb-4"],["formControlName","questionPool","rows","3","placeholder","Enter question IDs, separated by commas",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","transition-all","duration-200",3,"id"],["class","grid grid-cols-1 md:grid-cols-2 gap-4",4,"ngIf"],["formArrayName","questions",1,"bg-white","rounded-lg","p-4","border","border-gray-200"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","text-primary-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"mb-6","p-4","bg-blue-50","border","border-blue-200","rounded-lg"],[1,"text-sm","font-semibold","text-blue-900","mb-3","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Type to search questions...",1,"w-full","px-4","py-3","border","border-blue-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition-all","duration-200","bg-white",3,"ngModelChange","ngModel","ngModelOptions"],["class","mt-4",4,"ngIf"],["class","mt-3 p-3 bg-orange-50 border border-orange-200 rounded-lg text-sm text-orange-700",4,"ngIf"],[1,"space-y-4"],["class","bg-gray-50 border border-gray-200 rounded-lg p-4",3,"formGroupName",4,"ngFor","ngForOf"],[1,"mt-6","space-y-3"],[1,"flex","items-center","space-x-3"],[1,"block","text-sm","font-medium","text-gray-700",3,"for"],["type","file","accept",".csv",1,"text-sm","text-gray-500","file:mr-4","file:py-2","file:px-4","file:rounded-lg","file:border-0","file:text-sm","file:font-medium","file:bg-blue-50","file:text-blue-700","hover:file:bg-blue-100","transition-colors","duration-200",3,"change","id"],["type","button",1,"w-full","px-4","py-3","bg-green-600","text-white","rounded-lg","hover:bg-green-700","focus:ring-2","focus:ring-green-500","transition-colors","duration-200","flex","items-center","justify-center",3,"click"],["type","number","formControlName","defaultMarksForPooledQuestion","min","0","placeholder","Default marks",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","transition-all","duration-200",3,"id"],["type","number","formControlName","defaultNegativeMarksForPooledQuestion","min","0","step","0.25","placeholder","Default negative marks",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","transition-all","duration-200",3,"id"],[1,"mt-4"],[1,"text-sm","font-medium","text-blue-900","mb-2"],[1,"space-y-2","max-h-64","overflow-y-auto"],["class","flex items-center justify-between p-3 bg-white border border-blue-200 rounded-lg hover:border-blue-300 transition-colors",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","p-3","bg-white","border","border-blue-200","rounded-lg","hover:border-blue-300","transition-colors"],[1,"text-sm","text-gray-700","flex-1","mr-3",3,"innerHTML"],["type","button",1,"px-3","py-1","text-sm","bg-green-600","text-white","rounded-md","hover:bg-green-700","focus:ring-2","focus:ring-green-500","transition-colors","duration-200",3,"click"],[1,"mt-3","p-3","bg-orange-50","border","border-orange-200","rounded-lg","text-sm","text-orange-700"],[1,"bg-gray-50","border","border-gray-200","rounded-lg","p-4",3,"formGroupName"],[1,"flex","items-start","justify-between","mb-3"],[1,"text-sm","font-semibold","text-gray-900","flex","items-center"],[1,"bg-primary-100","text-primary-800","rounded-full","w-6","h-6","flex","items-center","justify-center","text-xs","font-bold","mr-2"],["type","button",1,"text-red-600","hover:text-red-800","hover:bg-red-50","rounded-lg","p-1","transition-colors","duration-200",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"mb-3"],[1,"block","text-sm","font-medium","text-gray-700","mb-1",3,"for"],[1,"flex","space-x-2"],["type","text","formControlName","question","placeholder","Paste question _id",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","transition-all","duration-200",3,"id"],["type","button",1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","focus:ring-2","focus:ring-blue-500","transition-colors","duration-200","flex","items-center",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["class","mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-3"],["formControlName","marks","type","number","min","1","required","","placeholder","Marks",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","transition-all","duration-200",3,"id"],["formControlName","negativeMarks","type","number","min","0","step","0.25","placeholder","Negative Marks",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","transition-all","duration-200",3,"id"],[1,"mb-3","p-3","bg-blue-50","border","border-blue-200","rounded-lg"],[1,"text-sm","text-blue-900","font-medium","mb-1"],[1,"text-sm","text-blue-800"]],template:function(t,i){if(t&1){let r=de();d(0,"div",4)(1,"div",5)(2,"div",6)(3,"h1",7),h(4,"Build Paper"),p(),d(5,"p",8),h(6,"Create and configure your test series"),p(),S(7,"div",9),p(),d(8,"form",10),F("ngSubmit",function(){return M(r),P(i.onSubmit())}),d(9,"div",11)(10,"div",12)(11,"h2",13),W(),d(12,"svg",14),S(13,"path",15),p(),h(14," Basic Information "),p()(),Z(),d(15,"div",16)(16,"div",17)(17,"div",18)(18,"label",19),h(19,"Title"),p(),S(20,"input",20),p(),d(21,"div")(22,"label",21),h(23,"Duration (minutes)"),p(),S(24,"input",22),p(),d(25,"div")(26,"label",23),h(27,"Max Attempts"),p(),S(28,"input",24),p(),d(29,"div")(30,"label",25),h(31,"Test Type"),p(),d(32,"select",26)(33,"option",27),h(34,"Select test type"),p(),d(35,"option",28),h(36,"Real Exam"),p(),d(37,"option",29),h(38,"Practice Exam"),p(),d(39,"option",30),h(40,"Live Exam"),p(),d(41,"option",31),h(42,"Quiz Exam"),p()()(),d(43,"div")(44,"label",32),h(45,"Mode"),p(),d(46,"select",33)(47,"option",27),h(48,"Select mode"),p(),d(49,"option",34),h(50,"Practice"),p(),d(51,"option",35),h(52,"Live"),p()()(),d(53,"div")(54,"label",36),h(55,"Year"),p(),S(56,"input",37),p()(),d(57,"div",17)(58,"div")(59,"label",38),h(60,"Start Time"),p(),S(61,"input",39),p(),d(62,"div")(63,"label",40),h(64,"End Time"),p(),S(65,"input",41),p()()()(),d(66,"div",11)(67,"div",42)(68,"h2",13),W(),d(69,"svg",43),S(70,"path",44)(71,"path",45),p(),h(72," Configuration Options "),p()(),Z(),d(73,"div",46)(74,"div",47)(75,"div",48),S(76,"input",49),d(77,"label",50),h(78," Randomize Section Order "),p()(),d(79,"div",48),S(80,"input",51),d(81,"label",52),h(82," Enable Public Leaderboard "),p()()()()(),d(83,"div",11)(84,"div",53)(85,"h2",13),W(),d(86,"svg",54),S(87,"path",55),p(),h(88," Exam Hierarchy Selection "),p()(),Z(),d(89,"div",16)(90,"div",17)(91,"div")(92,"label",56),h(93,"Exam Family"),p(),d(94,"select",57,0),F("change",function(){M(r);let o=Qe(95);return P(i.onFamilyChange(o.value))}),d(96,"option",27),h(97,"Select Family"),p(),O(98,ER,2,2,"option",58),p(),O(99,CR,2,0,"p",59),p(),d(100,"div")(101,"label",60),h(102,"Exam Stream"),p(),d(103,"select",61,1),F("change",function(){M(r);let o=Qe(104);return P(i.onStreamChange(o.value))}),d(105,"option",27),h(106,"Select Stream"),p(),O(107,kR,2,2,"option",58),p(),O(108,TR,2,0,"p",59),p(),d(109,"div")(110,"label",62),h(111,"Exam Paper"),p(),d(112,"select",63,2),F("change",function(){M(r);let o=Qe(113);return P(i.onPaperChange(o.value))}),d(114,"option",27),h(115,"Select Paper"),p(),O(116,IR,3,3,"option",58),p(),O(117,MR,2,0,"p",59),p(),d(118,"div")(119,"label",64),h(120,"Exam Shift"),p(),d(121,"select",65,3),F("change",function(){M(r);let o=Qe(122);return P(i.onShiftChange(o.value))}),d(123,"option",27),h(124,"Select Shift"),p(),O(125,PR,2,2,"option",58),p(),O(126,DR,2,0,"p",66),p()()()(),d(127,"div",11)(128,"div",67)(129,"h2",13),W(),d(130,"svg",68),S(131,"path",69),p(),h(132," Test Sections Configuration "),p()(),Z(),d(133,"div",70)(134,"div",71),O(135,VR,62,35,"div",72),p(),d(136,"div",73)(137,"button",74),F("click",function(){return M(r),P(i.addSection())}),W(),d(138,"svg",75),S(139,"path",76),p(),h(140," Add Section "),p()()()(),Z(),d(141,"div",11)(142,"div",77)(143,"h2",13),W(),d(144,"svg",78),S(145,"path",79),p(),h(146," Test Summary & Submission "),p()(),Z(),d(147,"div",16)(148,"div",80)(149,"div",81)(150,"h3",82),h(151,"Total Test Marks"),p(),d(152,"div",83),h(153),p(),d(154,"p",84),h(155,"Calculated based on all sections and questions"),p()()(),d(156,"div",85)(157,"div",86),W(),d(158,"svg",87),S(159,"path",88),p(),Z(),d(160,"div")(161,"h4",89),h(162,"Important Requirements"),p(),d(163,"p",90),h(164,"Test series must have at least 2 questions to be valid for submission."),p()()()(),d(165,"div",91)(166,"button",92)(167,"span",93),W(),d(168,"svg",94),S(169,"path",95),p(),h(170," Create Test Series "),p()()()()()()()()}if(t&2){let r,s,o;g(8),_("formGroup",i.seriesForm),g(48),$1("max",i.currentYear),g(42),_("ngForOf",i.families),g(),_("ngIf",!i.families.length),g(8),_("ngForOf",i.streams),g(),_("ngIf",((r=i.seriesForm.get("family"))==null?null:r.value)&&!i.streams.length),g(8),_("ngForOf",i.papers),g(),_("ngIf",((s=i.seriesForm.get("stream"))==null?null:s.value)&&!i.papers.length),g(8),_("ngForOf",i.shifts),g(),_("ngIf",((o=i.seriesForm.get("paper"))==null?null:o.value)&&!i.shifts.length),g(9),_("ngForOf",i.sections.controls),g(18),Q(i.computedTotal),g(13),_("disabled",i.seriesForm.invalid)}},dependencies:[ge,je,Ee,$n,dt,qt,Ht,Je,ta,ea,jt,et,ut,Bn,od,sd,Rn,Fn,fb,mb,Ut,on,Lh],styles:["@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}.bg-white[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}.transition-all[_ngcontent-%COMP%]{transition:all .2s ease}.shadow-soft[_ngcontent-%COMP%]{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{--tw-ring-offset-width: 2px;--tw-ring-color: rgb(99 102 241 / .5)}.overflow-y-auto[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:rgba(156,163,175,.5) transparent}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#9ca3af80;border-radius:3px}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#9ca3afb3}button[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}button[_ngcontent-%COMP%]:active{transform:translateY(0)}input[type=file][_ngcontent-%COMP%]{cursor:pointer}input[type=file][_ngcontent-%COMP%]::-webkit-file-upload-button{cursor:pointer}"]})};var Ek=o1(Rw());function ku(n){return n+.5|0}var As=(n,e,t)=>Math.max(Math.min(n,t),e);function Eu(n){return As(ku(n*2.55),0,255)}function Is(n){return As(ku(n*255),0,255)}function qr(n){return As(ku(n/2.55)/100,0,1)}function Fw(n){return As(ku(n*100),0,100)}var Pi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Lv=[..."0123456789ABCDEF"],$R=n=>Lv[n&15],jR=n=>Lv[(n&240)>>4]+Lv[n&15],Fh=n=>(n&240)>>4===(n&15),qR=n=>Fh(n.r)&&Fh(n.g)&&Fh(n.b)&&Fh(n.a);function HR(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Pi[n[1]]*17,g:255&Pi[n[2]]*17,b:255&Pi[n[3]]*17,a:e===5?Pi[n[4]]*17:255}:(e===7||e===9)&&(t={r:Pi[n[1]]<<4|Pi[n[2]],g:Pi[n[3]]<<4|Pi[n[4]],b:Pi[n[5]]<<4|Pi[n[6]],a:e===9?Pi[n[7]]<<4|Pi[n[8]]:255})),t}var UR=(n,e)=>n<255?e(n):"";function zR(n){var e=qR(n)?$R:jR;return n?"#"+e(n.r)+e(n.g)+e(n.b)+UR(n.a,e):void 0}var WR=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function jw(n,e,t){let i=e*Math.min(t,1-t),r=(s,o=(s+n/30)%12)=>t-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function QR(n,e,t){let i=(r,s=(r+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function GR(n,e,t){let i=jw(n,1,.5),r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function YR(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function Ov(n){let t=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(t,i,r),o=Math.min(t,i,r),a=(s+o)/2,l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=YR(t,i,r,u,s),l=l*60+.5),[l|0,c||0,a]}function Rv(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Is)}function Fv(n,e,t){return Rv(jw,n,e,t)}function XR(n,e,t){return Rv(GR,n,e,t)}function ZR(n,e,t){return Rv(QR,n,e,t)}function qw(n){return(n%360+360)%360}function KR(n){let e=WR.exec(n),t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?Eu(+e[5]):Is(+e[5]));let r=qw(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=XR(r,s,o):e[1]==="hsv"?i=ZR(r,s,o):i=Fv(r,s,o),{r:i[0],g:i[1],b:i[2],a:t}}function JR(n,e){var t=Ov(n);t[0]=qw(t[0]+e),t=Fv(t),n.r=t[0],n.g=t[1],n.b=t[2]}function e8(n){if(!n)return;let e=Ov(n),t=e[0],i=Fw(e[1]),r=Fw(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${qr(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}var Bw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Vw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function t8(){let n={},e=Object.keys(Vw),t=Object.keys(Bw),i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<t.length;r++)s=t[r],a=a.replace(s,Bw[s]);s=parseInt(Vw[o],16),n[a]=[s>>16&255,s>>8&255,s&255]}return n}var Bh;function n8(n){Bh||(Bh=t8(),Bh.transparent=[0,0,0,0]);let e=Bh[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var i8=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function r8(n){let e=i8.exec(n),t=255,i,r,s;if(e){if(e[7]!==i){let o=+e[7];t=e[8]?Eu(o):As(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?Eu(i):As(i,0,255)),r=255&(e[4]?Eu(r):As(r,0,255)),s=255&(e[6]?Eu(s):As(s,0,255)),{r:i,g:r,b:s,a:t}}}function s8(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${qr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}var Nv=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,il=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function o8(n,e,t){let i=il(qr(n.r)),r=il(qr(n.g)),s=il(qr(n.b));return{r:Is(Nv(i+t*(il(qr(e.r))-i))),g:Is(Nv(r+t*(il(qr(e.g))-r))),b:Is(Nv(s+t*(il(qr(e.b))-s))),a:n.a+t*(e.a-n.a)}}function Vh(n,e,t){if(n){let i=Ov(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=Fv(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Hw(n,e){return n&&Object.assign(e||{},n)}function $w(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Is(n[3]))):(e=Hw(n,{r:0,g:0,b:0,a:1}),e.a=Is(e.a)),e}function a8(n){return n.charAt(0)==="r"?r8(n):KR(n)}var Cu=class n{constructor(e){if(e instanceof n)return e;let t=typeof e,i;t==="object"?i=$w(e):t==="string"&&(i=HR(e)||n8(e)||a8(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Hw(this._rgb);return e&&(e.a=qr(e.a)),e}set rgb(e){this._rgb=$w(e)}rgbString(){return this._valid?s8(this._rgb):void 0}hexString(){return this._valid?zR(this._rgb):void 0}hslString(){return this._valid?e8(this._rgb):void 0}mix(e,t){if(e){let i=this.rgb,r=e.rgb,s,o=t===s?.5:t,a=2*o-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=o8(this._rgb,e._rgb,t)),this}clone(){return new n(this.rgb)}alpha(e){return this._rgb.a=Is(e),this}clearer(e){let t=this._rgb;return t.a*=1-e,this}greyscale(){let e=this._rgb,t=ku(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){let t=this._rgb;return t.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Vh(this._rgb,2,e),this}darken(e){return Vh(this._rgb,2,-e),this}saturate(e){return Vh(this._rgb,1,e),this}desaturate(e){return Vh(this._rgb,1,-e),this}rotate(e){return JR(this._rgb,e),this}};function _r(){}var eS=(()=>{let n=0;return()=>n++})();function Re(n){return n==null}function St(n){if(Array.isArray&&Array.isArray(n))return!0;let e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ve(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Ot(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Xn(n,e){return Ot(n)?n:e}function Me(n,e){return typeof n>"u"?e:n}var tS=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,jv=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function gt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function it(n,e,t,i){let r,s,o;if(St(n))if(s=n.length,i)for(r=s-1;r>=0;r--)e.call(t,n[r],r);else for(r=0;r<s;r++)e.call(t,n[r],r);else if(Ve(n))for(o=Object.keys(n),s=o.length,r=0;r<s;r++)e.call(t,n[o[r]],o[r])}function Iu(n,e){let t,i,r,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],s=e[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Uh(n){if(St(n))return n.map(Uh);if(Ve(n)){let e=Object.create(null),t=Object.keys(n),i=t.length,r=0;for(;r<i;++r)e[t[r]]=Uh(n[t[r]]);return e}return n}function nS(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function l8(n,e,t,i){if(!nS(n))return;let r=e[n],s=t[n];Ve(r)&&Ve(s)?sl(r,s,i):e[n]=Uh(s)}function sl(n,e,t){let i=St(e)?e:[e],r=i.length;if(!Ve(n))return n;t=t||{};let s=t.merger||l8,o;for(let a=0;a<r;++a){if(o=i[a],!Ve(o))continue;let l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],n,o,t)}return n}function al(n,e){return sl(n,e,{merger:c8})}function c8(n,e,t){if(!nS(n))return;let i=e[n],r=t[n];Ve(i)&&Ve(r)?al(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Uh(r))}var Uw={"":n=>n,x:n=>n.x,y:n=>n.y};function u8(n){let e=n.split("."),t=[],i="";for(let r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function d8(n){let e=u8(n);return t=>{for(let i of e){if(i==="")break;t=t&&t[i]}return t}}function zr(n,e){return(Uw[e]||(Uw[e]=d8(e)))(n)}function Gh(n){return n.charAt(0).toUpperCase()+n.slice(1)}var ll=n=>typeof n<"u",Hr=n=>typeof n=="function",qv=(n,e)=>{if(n.size!==e.size)return!1;for(let t of n)if(!e.has(t))return!1;return!0};function iS(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}var Et=Math.PI,Ct=2*Et,p8=Ct+Et,zh=Number.POSITIVE_INFINITY,h8=Et/180,Bt=Et/2,Do=Et/4,zw=Et*2/3,Ur=Math.log10,Qi=Math.sign;function cl(n,e,t){return Math.abs(n-e)<t}function Hv(n){let e=Math.round(n);n=cl(n,e,n/1e3)?e:n;let t=Math.pow(10,Math.floor(Ur(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function rS(n){let e=[],t=Math.sqrt(n),i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,s)=>r-s).pop(),e}function f8(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Oo(n){return!f8(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function sS(n,e){let t=Math.round(n);return t-e<=n&&t+e>=n}function Uv(n,e,t){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Di(n){return n*(Et/180)}function Yh(n){return n*(180/Et)}function zv(n){if(!Ot(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function Wv(n,e){let t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i),s=Math.atan2(i,t);return s<-.5*Et&&(s+=Ct),{angle:s,distance:r}}function Wh(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function m8(n,e){return(n-e+p8)%Ct-Et}function Yn(n){return(n%Ct+Ct)%Ct}function ul(n,e,t,i){let r=Yn(n),s=Yn(e),o=Yn(t),a=Yn(s-r),l=Yn(o-r),c=Yn(r-s),u=Yn(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function en(n,e,t){return Math.max(e,Math.min(t,n))}function oS(n){return en(n,-32768,32767)}function wr(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function Xh(n,e,t){t=t||(o=>n[o]<e);let i=n.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,t(s)?r=s:i=s;return{lo:r,hi:i}}var br=(n,e,t,i)=>Xh(n,t,i?r=>{let s=n[r][e];return s<t||s===t&&n[r+1][e]===t}:r=>n[r][e]<t),aS=(n,e,t)=>Xh(n,t,i=>n[i][e]>=t);function lS(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}var cS=["push","pop","shift","splice","unshift"];function uS(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),cS.forEach(t=>{let i="_onData"+Gh(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){let o=r.apply(this,s);return n._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function Qv(n,e){let t=n._chartjs;if(!t)return;let i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(cS.forEach(s=>{delete n[s]}),delete n._chartjs)}function Gv(n){let e=new Set(n);return e.size===n.length?n:Array.from(e)}var Yv=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Xv(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,Yv.call(window,()=>{i=!1,n.apply(e,t)}))}}function dS(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}var Zh=n=>n==="start"?"left":n==="end"?"right":"center",xn=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,pS=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function Zv(n,e,t){let i=e.length,r=0,s=i;if(n._sorted){let{iScale:o,vScale:a,_parsed:l}=n,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,u=o.axis,{min:f,max:m,minDefined:v,maxDefined:b}=o.getUserBounds();if(v){if(r=Math.min(br(l,u,f).lo,t?i:br(e,u,o.getPixelForValue(f)).lo),c){let w=l.slice(0,r+1).reverse().findIndex(y=>!Re(y[a.axis]));r-=Math.max(0,w)}r=en(r,0,i-1)}if(b){let w=Math.max(br(l,o.axis,m,!0).hi+1,t?0:br(e,u,o.getPixelForValue(m),!0).hi+1);if(c){let y=l.slice(w-1).findIndex(k=>!Re(k[a.axis]));w+=Math.max(0,y)}s=en(w,r,i)-r}else s=i-r}return{start:r,count:s}}function Kv(n){let{xScale:e,yScale:t,_scaleRanges:i}=n,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=r,!0;let s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,r),s}var $h=n=>n===0||n===1,Ww=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Ct/t)),Qw=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Ct/t)+1,rl={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Bt)+1,easeOutSine:n=>Math.sin(n*Bt),easeInOutSine:n=>-.5*(Math.cos(Et*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>$h(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>$h(n)?n:Ww(n,.075,.3),easeOutElastic:n=>$h(n)?n:Qw(n,.075,.3),easeInOutElastic(n){return $h(n)?n:n<.5?.5*Ww(n*2,.1125,.45):.5+.5*Qw(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-rl.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?rl.easeInBounce(n*2)*.5:rl.easeOutBounce(n*2-1)*.5+.5};function Jv(n){if(n&&typeof n=="object"){let e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function ex(n){return Jv(n)?n:new Cu(n)}function Bv(n){return Jv(n)?n:new Cu(n).saturate(.5).darken(.1).hexString()}var g8=["x","y","borderWidth","radius","tension"],v8=["color","borderColor","backgroundColor"];function x8(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:v8},numbers:{type:"number",properties:g8}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function b8(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var Gw=new Map;function y8(n,e){e=e||{};let t=n+JSON.stringify(e),i=Gw.get(t);return i||(i=new Intl.NumberFormat(n,e),Gw.set(t,i)),i}function dl(n,e,t){return y8(e,t).format(n)}var hS={values(n){return St(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";let i=this.chart.options.locale,r,s=n;if(t.length>1){let c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=_8(n,t)}let o=Ur(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),dl(n,i,l)},logarithmic(n,e,t){if(n===0)return"0";let i=t[e].significand||n/Math.pow(10,Math.floor(Ur(n)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?hS.numeric.call(this,n,e,t):""}};function _8(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var Mu={formatters:hS};function w8(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Mu.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var Ps=Object.create(null),Kh=Object.create(null);function Tu(n,e){if(!e)return n;let t=e.split(".");for(let i=0,r=t.length;i<r;++i){let s=t[i];n=n[s]||(n[s]=Object.create(null))}return n}function Vv(n,e,t){return typeof e=="string"?sl(Tu(n,e),t):sl(Tu(n,""),e)}var $v=class{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Bv(r.backgroundColor),this.hoverBorderColor=(i,r)=>Bv(r.borderColor),this.hoverColor=(i,r)=>Bv(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Vv(this,e,t)}get(e){return Tu(this,e)}describe(e,t){return Vv(Kh,e,t)}override(e,t){return Vv(Ps,e,t)}route(e,t,i,r){let s=Tu(this,e),o=Tu(this,i),a="_"+t;Object.defineProperties(s,{[a]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){let l=this[a],c=o[r];return Ve(l)?Object.assign({},c,l):Me(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(t=>t(this))}},vt=new $v({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[x8,b8,w8]);function S8(n){return!n||Re(n.size)||Re(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Au(n,e,t,i,r){let s=e[r];return s||(s=e[r]=n.measureText(r).width,t.push(r)),s>i&&(i=s),i}function fS(n,e,t,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let o=0,a=t.length,l,c,u,f,m;for(l=0;l<a;l++)if(f=t[l],f!=null&&!St(f))o=Au(n,r,s,o,f);else if(St(f))for(c=0,u=f.length;c<u;c++)m=f[c],m!=null&&!St(m)&&(o=Au(n,r,s,o,m));n.restore();let v=s.length/2;if(v>t.length){for(l=0;l<v;l++)delete r[s[l]];s.splice(0,v)}return o}function Ds(n,e,t){let i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function tx(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Jh(n,e,t,i){nx(n,e,t,i,null)}function nx(n,e,t,i,r){let s,o,a,l,c,u,f,m,v=e.pointStyle,b=e.rotation,w=e.radius,y=(b||0)*h8;if(v&&typeof v=="object"&&(s=v.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(y),n.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),n.restore();return}if(!(isNaN(w)||w<=0)){switch(n.beginPath(),v){default:r?n.ellipse(t,i,r/2,w,0,0,Ct):n.arc(t,i,w,0,Ct),n.closePath();break;case"triangle":u=r?r/2:w,n.moveTo(t+Math.sin(y)*u,i-Math.cos(y)*w),y+=zw,n.lineTo(t+Math.sin(y)*u,i-Math.cos(y)*w),y+=zw,n.lineTo(t+Math.sin(y)*u,i-Math.cos(y)*w),n.closePath();break;case"rectRounded":c=w*.516,l=w-c,o=Math.cos(y+Do)*l,f=Math.cos(y+Do)*(r?r/2-c:l),a=Math.sin(y+Do)*l,m=Math.sin(y+Do)*(r?r/2-c:l),n.arc(t-f,i-a,c,y-Et,y-Bt),n.arc(t+m,i-o,c,y-Bt,y),n.arc(t+f,i+a,c,y,y+Bt),n.arc(t-m,i+o,c,y+Bt,y+Et),n.closePath();break;case"rect":if(!b){l=Math.SQRT1_2*w,u=r?r/2:l,n.rect(t-u,i-l,2*u,2*l);break}y+=Do;case"rectRot":f=Math.cos(y)*(r?r/2:w),o=Math.cos(y)*w,a=Math.sin(y)*w,m=Math.sin(y)*(r?r/2:w),n.moveTo(t-f,i-a),n.lineTo(t+m,i-o),n.lineTo(t+f,i+a),n.lineTo(t-m,i+o),n.closePath();break;case"crossRot":y+=Do;case"cross":f=Math.cos(y)*(r?r/2:w),o=Math.cos(y)*w,a=Math.sin(y)*w,m=Math.sin(y)*(r?r/2:w),n.moveTo(t-f,i-a),n.lineTo(t+f,i+a),n.moveTo(t+m,i-o),n.lineTo(t-m,i+o);break;case"star":f=Math.cos(y)*(r?r/2:w),o=Math.cos(y)*w,a=Math.sin(y)*w,m=Math.sin(y)*(r?r/2:w),n.moveTo(t-f,i-a),n.lineTo(t+f,i+a),n.moveTo(t+m,i-o),n.lineTo(t-m,i+o),y+=Do,f=Math.cos(y)*(r?r/2:w),o=Math.cos(y)*w,a=Math.sin(y)*w,m=Math.sin(y)*(r?r/2:w),n.moveTo(t-f,i-a),n.lineTo(t+f,i+a),n.moveTo(t+m,i-o),n.lineTo(t-m,i+o);break;case"line":o=r?r/2:Math.cos(y)*w,a=Math.sin(y)*w,n.moveTo(t-o,i-a),n.lineTo(t+o,i+a);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(y)*(r?r/2:w),i+Math.sin(y)*w);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function yr(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Pu(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Du(n){n.restore()}function mS(n,e,t,i,r){if(!e)return n.lineTo(t.x,t.y);if(r==="middle"){let s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else r==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function gS(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function E8(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Re(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function C8(n,e,t,i,r){if(r.strikethrough||r.underline){let s=n.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=t-s.actualBoundingBoxAscent,c=t+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(o,u),n.lineTo(a,u),n.stroke()}}function k8(n,e){let t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Ns(n,e,t,i,r,s={}){let o=St(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="",l,c;for(n.save(),n.font=r.string,E8(n,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&k8(n,s.backdrop),a&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Re(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(c,t,i,s.maxWidth)),n.fillText(c,t,i,s.maxWidth),C8(n,t,i,c,s),i+=Number(r.lineHeight);n.restore()}function pl(n,e){let{x:t,y:i,w:r,h:s,radius:o}=e;n.arc(t+o.topLeft,i+o.topLeft,o.topLeft,1.5*Et,Et,!0),n.lineTo(t,i+s-o.bottomLeft),n.arc(t+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Et,Bt,!0),n.lineTo(t+r-o.bottomRight,i+s),n.arc(t+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Bt,0,!0),n.lineTo(t+r,i+o.topRight),n.arc(t+r-o.topRight,i+o.topRight,o.topRight,0,-Bt,!0),n.lineTo(t+o.topLeft,i)}var T8=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,A8=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function I8(n,e){let t=(""+n).match(T8);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}var M8=n=>+n||0;function ef(n,e){let t={},i=Ve(e),r=i?Object.keys(e):e,s=Ve(n)?i?o=>Me(n[o],n[e[o]]):o=>n[o]:()=>n;for(let o of r)t[o]=M8(s(o));return t}function ix(n){return ef(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ls(n){return ef(n,["topLeft","topRight","bottomLeft","bottomRight"])}function bn(n){let e=ix(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Wt(n,e){n=n||{},e=e||vt.font;let t=Me(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=Me(n.style,e.style);i&&!(""+i).match(A8)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let r={family:Me(n.family,e.family),lineHeight:I8(Me(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:Me(n.weight,e.weight),string:""};return r.string=S8(r),r}function hl(n,e,t,i){let r=!0,s,o,a;for(s=0,o=n.length;s<o;++s)if(a=n[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),r=!1),t!==void 0&&St(a)&&(a=a[t%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function vS(n,e,t){let{min:i,max:r}=n,s=jv(e,(r-i)/2),o=(a,l)=>t&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Wr(n,e){return Object.assign(Object.create(n),e)}function tf(n,e=[""],t,i,r=()=>n[0]){let s=t||n;typeof i>"u"&&(i=yS("_fallback",n));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>tf([a,...n],e,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return xS(a,l,()=>B8(l,e,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return Xw(a).includes(l)},ownKeys(a){return Xw(a)},set(a,l,c){let u=a._storage||(a._storage=r());return a[l]=u[l]=c,delete a._keys,!0}})}function Lo(n,e,t,i){let r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:rx(n,i),setContext:s=>Lo(n,s,t,i),override:s=>Lo(n.override(s),e,t,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,a){return xS(s,o,()=>D8(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,a){return n[o]=a,delete s[o],!0}})}function rx(n,e={scriptable:!0,indexable:!0}){let{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:Hr(t)?t:()=>t,isIndexable:Hr(i)?i:()=>i}}var P8=(n,e)=>n?n+Gh(e):e,sx=(n,e)=>Ve(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function xS(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];let i=t();return n[e]=i,i}function D8(n,e,t){let{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=n,a=i[e];return Hr(a)&&o.isScriptable(e)&&(a=N8(e,a,n,t)),St(a)&&a.length&&(a=L8(e,a,n,o.isIndexable)),sx(e,a)&&(a=Lo(a,r,s&&s[e],o)),a}function N8(n,e,t,i){let{_proxy:r,_context:s,_subProxy:o,_stack:a}=t;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=e(s,o||i);return a.delete(n),sx(n,l)&&(l=ox(r._scopes,r,n,l)),l}function L8(n,e,t,i){let{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=t;if(typeof s.index<"u"&&i(n))return e[s.index%e.length];if(Ve(e[0])){let l=e,c=r._scopes.filter(u=>u!==l);e=[];for(let u of l){let f=ox(c,r,n,u);e.push(Lo(f,s,o&&o[n],a))}}return e}function bS(n,e,t){return Hr(n)?n(e,t):n}var O8=(n,e)=>n===!0?e:typeof n=="string"?zr(e,n):void 0;function R8(n,e,t,i,r){for(let s of e){let o=O8(t,s);if(o){n.add(o);let a=bS(o._fallback,t,r);if(typeof a<"u"&&a!==t&&a!==i)return a}else if(o===!1&&typeof i<"u"&&t!==i)return null}return!1}function ox(n,e,t,i){let r=e._rootScopes,s=bS(e._fallback,t,i),o=[...n,...r],a=new Set;a.add(i);let l=Yw(a,o,t,s||t,i);return l===null||typeof s<"u"&&s!==t&&(l=Yw(a,o,s,l,i),l===null)?!1:tf(Array.from(a),[""],r,s,()=>F8(e,t,i))}function Yw(n,e,t,i,r){for(;t;)t=R8(n,e,t,i,r);return t}function F8(n,e,t){let i=n._getTarget();e in i||(i[e]={});let r=i[e];return St(r)&&Ve(t)?t:r||{}}function B8(n,e,t,i){let r;for(let s of e)if(r=yS(P8(s,n),t),typeof r<"u")return sx(n,r)?ox(t,i,n,r):r}function yS(n,e){for(let t of e){if(!t)continue;let i=t[n];if(typeof i<"u")return i}}function Xw(n){let e=n._keys;return e||(e=n._keys=V8(n._scopes)),e}function V8(n){let e=new Set;for(let t of n)for(let i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function ax(n,e,t,i){let{iScale:r}=n,{key:s="r"}=this._parsing,o=new Array(i),a,l,c,u;for(a=0,l=i;a<l;++a)c=a+t,u=e[c],o[a]={r:r.parse(zr(u,s),c)};return o}var $8=Number.EPSILON||1e-14,ol=(n,e)=>e<n.length&&!n[e].skip&&n[e],_S=n=>n==="x"?"y":"x";function j8(n,e,t,i){let r=n.skip?e:n,s=e,o=t.skip?e:t,a=Wh(s,r),l=Wh(o,s),c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;let f=i*c,m=i*u;return{previous:{x:s.x-f*(o.x-r.x),y:s.y-f*(o.y-r.y)},next:{x:s.x+m*(o.x-r.x),y:s.y+m*(o.y-r.y)}}}function q8(n,e,t){let i=n.length,r,s,o,a,l,c=ol(n,0);for(let u=0;u<i-1;++u)if(l=c,c=ol(n,u+1),!(!l||!c)){if(cl(e[u],0,$8)){t[u]=t[u+1]=0;continue}r=t[u]/e[u],s=t[u+1]/e[u],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),t[u]=r*o*e[u],t[u+1]=s*o*e[u])}}function H8(n,e,t="x"){let i=_S(t),r=n.length,s,o,a,l=ol(n,0);for(let c=0;c<r;++c){if(o=a,a=l,l=ol(n,c+1),!a)continue;let u=a[t],f=a[i];o&&(s=(u-o[t])/3,a[`cp1${t}`]=u-s,a[`cp1${i}`]=f-s*e[c]),l&&(s=(l[t]-u)/3,a[`cp2${t}`]=u+s,a[`cp2${i}`]=f+s*e[c])}}function U8(n,e="x"){let t=_S(e),i=n.length,r=Array(i).fill(0),s=Array(i),o,a,l,c=ol(n,0);for(o=0;o<i;++o)if(a=l,l=c,c=ol(n,o+1),!!l){if(c){let u=c[e]-l[e];r[o]=u!==0?(c[t]-l[t])/u:0}s[o]=a?c?Qi(r[o-1])!==Qi(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}q8(n,r,s),H8(n,s,e)}function jh(n,e,t){return Math.max(Math.min(n,t),e)}function z8(n,e){let t,i,r,s,o,a=yr(n[0],e);for(t=0,i=n.length;t<i;++t)o=s,s=a,a=t<i-1&&yr(n[t+1],e),s&&(r=n[t],o&&(r.cp1x=jh(r.cp1x,e.left,e.right),r.cp1y=jh(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=jh(r.cp2x,e.left,e.right),r.cp2y=jh(r.cp2y,e.top,e.bottom)))}function wS(n,e,t,i,r){let s,o,a,l;if(e.spanGaps&&(n=n.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")U8(n,r);else{let c=i?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)a=n[s],l=j8(c,a,n[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&z8(n,t)}function nf(){return typeof window<"u"&&typeof document<"u"}function rf(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Qh(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}var sf=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function W8(n,e){return sf(n).getPropertyValue(e)}var Q8=["top","right","bottom","left"];function No(n,e,t){let i={};t=t?"-"+t:"";for(let r=0;r<4;r++){let s=Q8[r];i[s]=parseFloat(n[e+"-"+s+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var G8=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function Y8(n,e){let t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:s}=i,o=!1,a,l;if(G8(r,s,n.target))a=r,l=s;else{let c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Os(n,e){if("native"in n)return n;let{canvas:t,currentDevicePixelRatio:i}=e,r=sf(t),s=r.boxSizing==="border-box",o=No(r,"padding"),a=No(r,"border","width"),{x:l,y:c,box:u}=Y8(n,t),f=o.left+(u&&a.left),m=o.top+(u&&a.top),{width:v,height:b}=e;return s&&(v-=o.width+a.width,b-=o.height+a.height),{x:Math.round((l-f)/v*t.width/i),y:Math.round((c-m)/b*t.height/i)}}function X8(n,e,t){let i,r;if(e===void 0||t===void 0){let s=n&&rf(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{let o=s.getBoundingClientRect(),a=sf(s),l=No(a,"border","width"),c=No(a,"padding");e=o.width-c.width-l.width,t=o.height-c.height-l.height,i=Qh(a.maxWidth,s,"clientWidth"),r=Qh(a.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:i||zh,maxHeight:r||zh}}var qh=n=>Math.round(n*10)/10;function SS(n,e,t,i){let r=sf(n),s=No(r,"margin"),o=Qh(r.maxWidth,n,"clientWidth")||zh,a=Qh(r.maxHeight,n,"clientHeight")||zh,l=X8(n,e,t),{width:c,height:u}=l;if(r.boxSizing==="content-box"){let m=No(r,"border","width"),v=No(r,"padding");c-=v.width+m.width,u-=v.height+m.height}return c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=qh(Math.min(c,o,l.maxWidth)),u=qh(Math.min(u,a,l.maxHeight)),c&&!u&&(u=qh(c/2)),(e!==void 0||t!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=qh(Math.floor(u*i))),{width:c,height:u}}function lx(n,e,t){let i=e||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);let o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(n.currentDevicePixelRatio=i,o.height=r,o.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}var ES=function(){let n=!1;try{let e={get passive(){return n=!0,!1}};nf()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function cx(n,e){let t=W8(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ms(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function CS(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function kS(n,e,t,i){let r={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},o=Ms(n,r,t),a=Ms(r,s,t),l=Ms(s,e,t),c=Ms(o,a,t),u=Ms(a,l,t);return Ms(c,u,t)}var Z8=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},K8=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Ro(n,e,t){return n?Z8(e,t):K8()}function ux(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function dx(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function TS(n){return n==="angle"?{between:ul,compare:m8,normalize:Yn}:{between:wr,compare:(e,t)=>e-t,normalize:e=>e}}function Zw({start:n,end:e,count:t,loop:i,style:r}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:r}}function J8(n,e,t){let{property:i,start:r,end:s}=t,{between:o,normalize:a}=TS(i),l=e.length,{start:c,end:u,loop:f}=n,m,v;if(f){for(c+=l,u+=l,m=0,v=l;m<v&&o(a(e[c%l][i]),r,s);++m)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:f,style:n.style}}function px(n,e,t){if(!t)return[n];let{property:i,start:r,end:s}=t,o=e.length,{compare:a,between:l,normalize:c}=TS(i),{start:u,end:f,loop:m,style:v}=J8(n,e,t),b=[],w=!1,y=null,k,I,V,$=()=>l(r,V,k)&&a(r,V)!==0,B=()=>a(s,k)===0||l(s,V,k),E=()=>w||$(),T=()=>!w||B();for(let N=u,j=u;N<=f;++N)I=e[N%o],!I.skip&&(k=c(I[i]),k!==V&&(w=l(k,r,s),y===null&&E()&&(y=a(k,r)===0?N:j),y!==null&&T()&&(b.push(Zw({start:y,end:N,loop:m,count:o,style:v})),y=null),j=N,V=k));return y!==null&&b.push(Zw({start:y,end:f,loop:m,count:o,style:v})),b}function hx(n,e){let t=[],i=n.segments;for(let r=0;r<i.length;r++){let s=px(i[r],n.points,e);s.length&&t.push(...s)}return t}function e6(n,e,t,i){let r=0,s=e-1;if(t&&!i)for(;r<e&&!n[r].skip;)r++;for(;r<e&&n[r].skip;)r++;for(r%=e,t&&(s+=r);s>r&&n[s%e].skip;)s--;return s%=e,{start:r,end:s}}function t6(n,e,t,i){let r=n.length,s=[],o=e,a=n[e],l;for(l=e+1;l<=t;++l){let c=n[l%r];c.skip||c.stop?a.skip||(i=!1,s.push({start:e%r,end:(l-1)%r,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function AS(n,e){let t=n.points,i=n.options.spanGaps,r=t.length;if(!r)return[];let s=!!n._loop,{start:o,end:a}=e6(t,r,s,i);if(i===!0)return Kw(n,[{start:o,end:a,loop:s}],t,e);let l=a<o?a+r:a,c=!!n._fullLoop&&o===0&&a===r-1;return Kw(n,t6(t,o,l,c),t,e)}function Kw(n,e,t,i){return!i||!i.setContext||!t?e:n6(n,e,t,i)}function n6(n,e,t,i){let r=n._chart.getContext(),s=Jw(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,l=t.length,c=[],u=s,f=e[0].start,m=f;function v(b,w,y,k){let I=a?-1:1;if(b!==w){for(b+=l;t[b%l].skip;)b-=I;for(;t[w%l].skip;)w+=I;b%l!==w%l&&(c.push({start:b%l,end:w%l,loop:y,style:k}),u=k,f=w%l)}}for(let b of e){f=a?f:b.start;let w=t[f%l],y;for(m=f+1;m<=b.end;m++){let k=t[m%l];y=Jw(i.setContext(Wr(r,{type:"segment",p0:w,p1:k,p0DataIndex:(m-1)%l,p1DataIndex:m%l,datasetIndex:o}))),i6(y,u)&&v(f,m-1,b.loop,u),w=k,u=y}f<m-1&&v(f,m-1,b.loop,u)}return c}function Jw(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function i6(n,e){if(!e)return!1;let t=[],i=function(r,s){return Jv(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function Hh(n,e,t){return n.options.clip?n[t]:e[t]}function r6(n,e){let{xScale:t,yScale:i}=n;return t&&i?{left:Hh(t,e,"left"),right:Hh(t,e,"right"),top:Hh(i,e,"top"),bottom:Hh(i,e,"bottom")}:e}function fx(n,e){let t=e._clip;if(t.disabled)return!1;let i=r6(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}var Cx=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){let s=t.listeners[r],o=t.duration;s.forEach(a=>a({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(i-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Yv.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;let s=i.items,o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){let t=this._charts,i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){let t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;let t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){let t=this._charts.get(e);if(!t||!t.items.length)return;let i=t.items,r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},Qr=new Cx,IS="transparent",s6={boolean(n,e,t){return t>.5?e:n},color(n,e,t){let i=ex(n||IS),r=i.valid&&ex(e||IS);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}},kx=class{constructor(e,t,i,r){let s=t[i];r=hl([e.to,r,s,e.from]);let o=hl([e.from,s,r]);this._active=!0,this._fn=e.fn||s6[e.type||typeof o],this._easing=rl[e.easing]||rl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);let r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=hl([e.to,t,r,e.from]),this._from=hl([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let t=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to,l;if(this._active=s!==a&&(o||t<i),!this._active){this._target[r]=a,this._notify(!0);return}if(t<0){this._target[r]=s;return}l=t/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){let e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){let t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}},ff=class{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Ve(e))return;let t=Object.keys(vt.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{let s=e[r];if(!Ve(s))return;let o={};for(let a of t)o[a]=s[a];(St(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,t){let i=t.options,r=a6(e,i);if(!r)return[];let s=this._createAnimations(r,i);return i.$shared&&o6(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,t){let i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now(),l;for(l=o.length-1;l>=0;--l){let c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,t));continue}let u=t[c],f=s[c],m=i.get(c);if(f)if(m&&f.active()){f.update(m,u,a);continue}else f.cancel();if(!m||!m.duration){e[c]=u;continue}s[c]=f=new kx(m,e,c,u),r.push(f)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}let i=this._createAnimations(e,t);if(i.length)return Qr.add(this._chart,i),!0}};function o6(n,e){let t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){let s=n[i[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function a6(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function MS(n,e){let t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function l6(n,e,t){if(t===!1)return!1;let i=MS(n,t),r=MS(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function c6(n){let e,t,i,r;return Ve(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function IE(n,e){let t=[],i=n._getSortedDatasetMetas(e),r,s;for(r=0,s=i.length;r<s;++r)t.push(i[r].index);return t}function PS(n,e,t,i={}){let r=n.keys,s=i.mode==="single",o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===t){if(u=!0,i.all)continue;break}c=n.values[l],Ot(c)&&(s||e===0||Qi(e)===Qi(c))&&(e+=c)}return!u&&!i.all?0:e}function u6(n,e){let{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length),l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[r]:u,[s]:n[u]};return a}function mx(n,e){let t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function d6(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function p6(n){let{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function h6(n,e,t){let i=n[e]||(n[e]={});return i[t]||(i[t]={})}function DS(n,e,t,i){for(let r of e.getMatchingVisibleMetas(i).reverse()){let s=n[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function NS(n,e){let{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=d6(s,o,i),f=e.length,m;for(let v=0;v<f;++v){let b=e[v],{[l]:w,[c]:y}=b,k=b._stacks||(b._stacks={});m=k[c]=h6(r,u,w),m[a]=y,m._top=DS(m,o,!0,i.type),m._bottom=DS(m,o,!1,i.type);let I=m._visualValues||(m._visualValues={});I[a]=y}}function gx(n,e){let t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function f6(n,e){return Wr(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function m6(n,e,t){return Wr(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Nu(n,e){let t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(let r of e){let s=r._stacks;if(!s||s[i]===void 0||s[i][t]===void 0)return;delete s[i][t],s[i]._visualValues!==void 0&&s[i]._visualValues[t]!==void 0&&delete s[i]._visualValues[t]}}}var vx=n=>n==="reset"||n==="none",LS=(n,e)=>e?n:Object.assign({},n),g6=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:IE(t,!0),values:null},Fs=(()=>{class n{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=mx(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Nu(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,i=this._cachedMeta,r=this.getDataset(),s=(m,v,b,w)=>m==="x"?v:m==="r"?w:b,o=i.xAxisID=Me(r.xAxisID,gx(t,"x")),a=i.yAxisID=Me(r.yAxisID,gx(t,"y")),l=i.rAxisID=Me(r.rAxisID,gx(t,"r")),c=i.indexAxis,u=i.iAxisID=s(c,o,a,l),f=i.vAxisID=s(c,a,o,l);i.xScale=this.getScaleForId(o),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(l),i.iScale=this.getScaleForId(u),i.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&Qv(this._data,this),t._stacked&&Nu(t)}_dataCheck(){let t=this.getDataset(),i=t.data||(t.data=[]),r=this._data;if(Ve(i)){let s=this._cachedMeta;this._data=u6(i,s)}else if(r!==i){if(r){Qv(r,this);let s=this._cachedMeta;Nu(s),s._parsed=[]}i&&Object.isExtensible(i)&&uS(i,this),this._syncList=[],this._data=i}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let i=this._cachedMeta,r=this.getDataset(),s=!1;this._dataCheck();let o=i._stacked;i._stacked=mx(i.vScale,i),i.stack!==r.stack&&(s=!0,Nu(i),i.stack=r.stack),this._resyncElements(t),(s||o!==i._stacked)&&(NS(this,i._parsed),i._stacked=mx(i.vScale,i))}configure(){let t=this.chart.config,i=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){let{_cachedMeta:r,_data:s}=this,{iScale:o,_stacked:a}=r,l=o.axis,c=t===0&&i===s.length?!0:r._sorted,u=t>0&&r._parsed[t-1],f,m,v;if(this._parsing===!1)r._parsed=s,r._sorted=!0,v=s;else{St(s[t])?v=this.parseArrayData(r,s,t,i):Ve(s[t])?v=this.parseObjectData(r,s,t,i):v=this.parsePrimitiveData(r,s,t,i);let b=()=>m[l]===null||u&&m[l]<u[l];for(f=0;f<i;++f)r._parsed[f+t]=m=v[f],c&&(b()&&(c=!1),u=m);r._sorted=c}a&&NS(this,v)}parsePrimitiveData(t,i,r,s){let{iScale:o,vScale:a}=t,l=o.axis,c=a.axis,u=o.getLabels(),f=o===a,m=new Array(s),v,b,w;for(v=0,b=s;v<b;++v)w=v+r,m[v]={[l]:f||o.parse(u[w],w),[c]:a.parse(i[w],w)};return m}parseArrayData(t,i,r,s){let{xScale:o,yScale:a}=t,l=new Array(s),c,u,f,m;for(c=0,u=s;c<u;++c)f=c+r,m=i[f],l[c]={x:o.parse(m[0],f),y:a.parse(m[1],f)};return l}parseObjectData(t,i,r,s){let{xScale:o,yScale:a}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(s),f,m,v,b;for(f=0,m=s;f<m;++f)v=f+r,b=i[v],u[f]={x:o.parse(zr(b,l),v),y:a.parse(zr(b,c),v)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,r){let s=this.chart,o=this._cachedMeta,a=i[t.axis],l={keys:IE(s,!0),values:i._stacks[t.axis]._visualValues};return PS(l,a,o.index,{mode:r})}updateRangeFromParsed(t,i,r,s){let o=r[i.axis],a=o===null?NaN:o,l=s&&r._stacks[i.axis];s&&l&&(s.values=l,a=PS(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,i){let r=this._cachedMeta,s=r._parsed,o=r._sorted&&t===r.iScale,a=s.length,l=this._getOtherScale(t),c=g6(i,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:m}=p6(l),v,b;function w(){b=s[v];let y=b[l.axis];return!Ot(b[t.axis])||f>y||m<y}for(v=0;v<a&&!(!w()&&(this.updateRangeFromParsed(u,t,b,c),o));++v);if(o){for(v=a-1;v>=0;--v)if(!w()){this.updateRangeFromParsed(u,t,b,c);break}}return u}getAllParsedValues(t){let i=this._cachedMeta._parsed,r=[],s,o,a;for(s=0,o=i.length;s<o;++s)a=i[s][t.axis],Ot(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(t){let i=this._cachedMeta,r=i.iScale,s=i.vScale,o=this.getParsed(t);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){let i=this._cachedMeta;this.update(t||"default"),i._clip=c6(Me(this.options.clip,l6(i.xScale,i.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,i=this.chart,r=this._cachedMeta,s=r.data||[],o=i.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||s.length-l,u=this.options.drawActiveElementsOnTop,f;for(r.dataset&&r.dataset.draw(t,o,l,c),f=l;f<l+c;++f){let m=s[f];m.hidden||(m.active&&u?a.push(m):m.draw(t,o))}for(f=0;f<a.length;++f)a[f].draw(t,o)}getStyle(t,i){let r=i?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,i,r){let s=this.getDataset(),o;if(t>=0&&t<this._cachedMeta.data.length){let a=this._cachedMeta.data[t];o=a.$context||(a.$context=m6(this.getContext(),t,a)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=f6(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!i,o.mode=r,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",r){let s=i==="active",o=this._cachedDataOpts,a=t+"-"+i,l=o[a],c=this.enableOptionSharing&&ll(r);if(l)return LS(l,c);let u=this.chart.config,f=u.datasetElementScopeKeys(this._type,t),m=s?[`${t}Hover`,"hover",t,""]:[t,""],v=u.getOptionScopes(this.getDataset(),f),b=Object.keys(vt.elements[t]),w=()=>this.getContext(r,s,i),y=u.resolveNamedOptions(v,b,w,m);return y.$shared&&(y.$shared=c,o[a]=Object.freeze(LS(y,c))),y}_resolveAnimations(t,i,r){let s=this.chart,o=this._cachedDataOpts,a=`animation-${i}`,l=o[a];if(l)return l;let c;if(s.options.animation!==!1){let f=this.chart.config,m=f.datasetAnimationScopeKeys(this._type,i),v=f.getOptionScopes(this.getDataset(),m);c=f.createResolver(v,this.getContext(t,r,i))}let u=new ff(s,c&&c.animations);return c&&c._cacheable&&(o[a]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||vx(t)||this.chart._animationsDisabled}_getSharedOptions(t,i){let r=this.resolveDataElementOptions(t,i),s=this._sharedOptions,o=this.getSharedOptions(r),a=this.includeOptions(i,o)||o!==s;return this.updateSharedOptions(o,i,r),{sharedOptions:o,includeOptions:a}}updateElement(t,i,r,s){vx(s)?Object.assign(t,r):this._resolveAnimations(i,s).update(t,r)}updateSharedOptions(t,i,r){t&&!vx(i)&&this._resolveAnimations(void 0,i).update(t,r)}_setStyle(t,i,r,s){t.active=s;let o=this.getStyle(i,s);this._resolveAnimations(i,r,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,i,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,i,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let i=this._data,r=this._cachedMeta.data;for(let[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];let s=r.length,o=i.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,i,r=!0){let s=this._cachedMeta,o=s.data,a=t+i,l,c=u=>{for(u.length+=i,l=u.length-1;l>=a;l--)u[l]=u[l-i]};for(c(o),l=t;l<a;++l)o[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(t,i),r&&this.updateElements(o,t,i,"reset")}updateElements(t,i,r,s){}_removeElements(t,i){let r=this._cachedMeta;if(this._parsing){let s=r._parsed.splice(t,i);r._stacked&&Nu(r,s)}r.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[i,r,s]=t;this[i](r,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);let r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n})();function v6(n,e){if(!n._cache.$bar){let t=n.getMatchingVisibleMetas(e),i=[];for(let r=0,s=t.length;r<s;r++)i=i.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=Gv(i.sort((r,s)=>r-s))}return n._cache.$bar}function x6(n){let e=n.iScale,t=v6(e,n.type),i=e._length,r,s,o,a,l=()=>{o===32767||o===-32768||(ll(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=t.length;r<s;++r)o=e.getPixelForValue(t[r]),l();for(a=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),l();return i}function b6(n,e,t,i){let r=t.barThickness,s,o;return Re(r)?(s=e.min*t.categoryPercentage,o=t.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[n]-s/2}}function y6(n,e,t,i){let r=e.pixels,s=r[n],o=n>0?r[n-1]:null,a=n<r.length-1?r[n+1]:null,l=t.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);let c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:t.barPercentage,start:c}}function _6(n,e,t,i){let r=t.parse(n[0],i),s=t.parse(n[1],i),o=Math.min(r,s),a=Math.max(r,s),l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[t.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}function ME(n,e,t,i){return St(n)?_6(n,e,t,i):e[t.axis]=t.parse(n,i),e}function OS(n,e,t,i){let r=n.iScale,s=n.vScale,o=r.getLabels(),a=r===s,l=[],c,u,f,m;for(c=t,u=t+i;c<u;++c)m=e[c],f={},f[r.axis]=a||r.parse(o[c],c),l.push(ME(m,f,s,c));return l}function xx(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function w6(n,e,t){return n!==0?Qi(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function S6(n){let e,t,i,r,s;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:t,end:i,reverse:e,top:r,bottom:s}}function E6(n,e,t,i){let r=e.borderSkipped,s={};if(!r){n.borderSkipped=s;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:o,end:a,reverse:l,top:c,bottom:u}=S6(n);r==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?r=c:(t._bottom||0)===i?r=u:(s[RS(u,o,a,l)]=!0,r=c)),s[RS(r,o,a,l)]=!0,n.borderSkipped=s}function RS(n,e,t,i){return i?(n=C6(n,e,t),n=FS(n,t,e)):n=FS(n,e,t),n}function C6(n,e,t){return n===e?t:n===t?e:n}function FS(n,e,t){return n==="start"?e:n==="end"?t:n}function k6(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}var T6=(()=>{class n extends Fs{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,i,r,s){return OS(t,i,r,s)}parseArrayData(t,i,r,s){return OS(t,i,r,s)}parseObjectData(t,i,r,s){let{iScale:o,vScale:a}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=o.axis==="x"?l:c,f=a.axis==="x"?l:c,m=[],v,b,w,y;for(v=r,b=r+s;v<b;++v)y=i[v],w={},w[o.axis]=o.parse(zr(y,u),v),m.push(ME(zr(y,f),w,a,v));return m}updateRangeFromParsed(t,i,r,s){super.updateRangeFromParsed(t,i,r,s);let o=r._custom;o&&i===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let i=this._cachedMeta,{iScale:r,vScale:s}=i,o=this.getParsed(t),a=o._custom,l=xx(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,t)}updateElements(t,i,r,s){let o=s==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),f=this._getRuler(),{sharedOptions:m,includeOptions:v}=this._getSharedOptions(i,s);for(let b=i;b<i+r;b++){let w=this.getParsed(b),y=o||Re(w[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(b),k=this._calculateBarIndexPixels(b,f),I=(w._stacks||{})[l.axis],V={horizontal:u,base:y.base,enableBorderRadius:!I||xx(w._custom)||a===I._top||a===I._bottom,x:u?y.head:k.center,y:u?k.center:y.head,height:u?k.size:Math.abs(y.size),width:u?Math.abs(y.size):k.size};v&&(V.options=m||this.resolveDataElementOptions(b,t[b].active?"active":s));let $=V.options||t[b].options;E6(V,$,I,a),k6(V,$,f.ratio),this.updateElement(t[b],b,V,s)}}_getStacks(t,i){let{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),o=r.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(i),c=l&&l[r.axis],u=f=>{let m=f._parsed.find(b=>b[r.axis]===c),v=m&&m[f.vScale.axis];if(Re(v)||isNaN(v))return!0};for(let f of s)if(!(i!==void 0&&u(f))&&((o===!1||a.indexOf(f.stack)===-1||o===void 0&&f.stack===void 0)&&a.push(f.stack),f.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,i,r){let s=this._getStacks(t,r),o=i!==void 0?s.indexOf(i):-1;return o===-1?s.length-1:o}_getRuler(){let t=this.options,i=this._cachedMeta,r=i.iScale,s=[],o,a;for(o=0,a=i.data.length;o<a;++o)s.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));let l=t.barThickness;return{min:l||x6(i),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:i,_stacked:r,index:s},options:{base:o,minBarLength:a}}=this,l=o||0,c=this.getParsed(t),u=c._custom,f=xx(u),m=c[i.axis],v=0,b=r?this.applyStack(i,c,r):m,w,y;b!==m&&(v=b-m,b=m),f&&(m=u.barStart,b=u.barEnd-u.barStart,m!==0&&Qi(m)!==Qi(u.barEnd)&&(v=0),v+=m);let k=!Re(o)&&!f?o:v,I=i.getPixelForValue(k);if(this.chart.getDataVisibility(t)?w=i.getPixelForValue(v+b):w=I,y=w-I,Math.abs(y)<a){y=w6(y,i,l)*a,m===l&&(I-=y/2);let V=i.getPixelForDecimal(0),$=i.getPixelForDecimal(1),B=Math.min(V,$),E=Math.max(V,$);I=Math.max(Math.min(I,E),B),w=I+y,r&&!f&&(c._stacks[i.axis]._visualValues[s]=i.getValueForPixel(w)-i.getValueForPixel(I))}if(I===i.getPixelForValue(l)){let V=Qi(y)*i.getLineWidthForValue(l)/2;I+=V,y-=V}return{size:y,base:I,head:w,center:w+y/2}}_calculateBarIndexPixels(t,i){let r=i.scale,s=this.options,o=s.skipNull,a=Me(s.maxBarThickness,1/0),l,c;if(i.grouped){let u=o?this._getStackCount(t):i.stackCount,f=s.barThickness==="flex"?y6(t,i,s,u):b6(t,i,s,u),m=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);l=f.start+f.chunk*m+f.chunk/2,c=Math.min(a,f.chunk*f.ratio)}else l=r.getPixelForValue(this.getParsed(t)[r.axis],t),c=Math.min(a,i.min*i.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){let t=this._cachedMeta,i=t.vScale,r=t.data,s=r.length,o=0;for(;o<s;++o)this.getParsed(o)[i.axis]!==null&&!r[o].hidden&&r[o].draw(this._ctx)}}return n})(),A6=(()=>{class n extends Fs{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,i,r,s){let o=super.parsePrimitiveData(t,i,r,s);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+r).radius;return o}parseArrayData(t,i,r,s){let o=super.parseArrayData(t,i,r,s);for(let a=0;a<o.length;a++){let l=i[r+a];o[a]._custom=Me(l[2],this.resolveDataElementOptions(a+r).radius)}return o}parseObjectData(t,i,r,s){let o=super.parseObjectData(t,i,r,s);for(let a=0;a<o.length;a++){let l=i[r+a];o[a]._custom=Me(l&&l.r&&+l.r,this.resolveDataElementOptions(a+r).radius)}return o}getMaxOverflow(){let t=this._cachedMeta.data,i=0;for(let r=t.length-1;r>=0;--r)i=Math.max(i,t[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(t){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=i,a=this.getParsed(t),l=s.getLabelForValue(a.x),c=o.getLabelForValue(a.y),u=a._custom;return{label:r[t]||"",value:"("+l+", "+c+(u?", "+u:"")+")"}}update(t){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,t)}updateElements(t,i,r,s){let o=s==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(i,s),f=a.axis,m=l.axis;for(let v=i;v<i+r;v++){let b=t[v],w=!o&&this.getParsed(v),y={},k=y[f]=o?a.getPixelForDecimal(.5):a.getPixelForValue(w[f]),I=y[m]=o?l.getBasePixel():l.getPixelForValue(w[m]);y.skip=isNaN(k)||isNaN(I),u&&(y.options=c||this.resolveDataElementOptions(v,b.active?"active":s),o&&(y.options.radius=0)),this.updateElement(b,v,y,s)}}resolveDataElementOptions(t,i){let r=this.getParsed(t),s=super.resolveDataElementOptions(t,i);s.$shared&&(s=Object.assign({},s,{$shared:!1}));let o=s.radius;return i!=="active"&&(s.radius=0),s.radius+=Me(r&&r._custom,o),s}}return n})();function I6(n,e,t){let i=1,r=1,s=0,o=0;if(e<Ct){let a=n,l=a+e,c=Math.cos(a),u=Math.sin(a),f=Math.cos(l),m=Math.sin(l),v=(V,$,B)=>ul(V,a,l,!0)?1:Math.max($,$*t,B,B*t),b=(V,$,B)=>ul(V,a,l,!0)?-1:Math.min($,$*t,B,B*t),w=v(0,c,f),y=v(Bt,u,m),k=b(Et,c,f),I=b(Et+Bt,u,m);i=(w-k)/2,r=(y-I)/2,s=-(w+k)/2,o=-(y+I)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}var Wx=(()=>{class n extends Fs{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let i=t.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:s}}=t.legend.options;return i.labels.map((o,a)=>{let c=t.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}}};constructor(t,i){super(t,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,i){let r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let o=c=>+r[c];if(Ve(r[t])){let{key:c="value"}=this._parsing;o=u=>+zr(r[u],c)}let a,l;for(a=t,l=t+i;a<l;++a)s._parsed[a]=o(a)}}_getRotation(){return Di(this.options.rotation-90)}_getCircumference(){return Di(this.options.circumference)}_getRotationExtents(){let t=Ct,i=-Ct;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let s=this.chart.getDatasetMeta(r).controller,o=s._getRotation(),a=s._getCircumference();t=Math.min(t,o),i=Math.max(i,o+a)}return{rotation:t,circumference:i-t}}update(t){let i=this.chart,{chartArea:r}=i,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),c=Math.min(tS(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:f,rotation:m}=this._getRotationExtents(),{ratioX:v,ratioY:b,offsetX:w,offsetY:y}=I6(m,f,c),k=(r.width-a)/v,I=(r.height-a)/b,V=Math.max(Math.min(k,I)/2,0),$=jv(this.options.radius,V),B=Math.max($*c,0),E=($-B)/this._getVisibleDatasetWeightTotal();this.offsetX=w*$,this.offsetY=y*$,s.total=this.calculateTotal(),this.outerRadius=$-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*u,0),this.updateElements(o,0,o.length,t)}_circumference(t,i){let r=this.options,s=this._cachedMeta,o=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*o/Ct)}updateElements(t,i,r,s){let o=s==="reset",a=this.chart,l=a.chartArea,u=a.options.animation,f=(l.left+l.right)/2,m=(l.top+l.bottom)/2,v=o&&u.animateScale,b=v?0:this.innerRadius,w=v?0:this.outerRadius,{sharedOptions:y,includeOptions:k}=this._getSharedOptions(i,s),I=this._getRotation(),V;for(V=0;V<i;++V)I+=this._circumference(V,o);for(V=i;V<i+r;++V){let $=this._circumference(V,o),B=t[V],E={x:f+this.offsetX,y:m+this.offsetY,startAngle:I,endAngle:I+$,circumference:$,outerRadius:w,innerRadius:b};k&&(E.options=y||this.resolveDataElementOptions(V,B.active?"active":s)),I+=$,this.updateElement(B,V,E,s)}}calculateTotal(){let t=this._cachedMeta,i=t.data,r=0,s;for(s=0;s<i.length;s++){let o=t._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!i[s].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(t){let i=this._cachedMeta.total;return i>0&&!isNaN(t)?Ct*(Math.abs(t)/i):0}getLabelAndValue(t){let i=this._cachedMeta,r=this.chart,s=r.data.labels||[],o=dl(i._parsed[t],r.options.locale);return{label:s[t]||"",value:o}}getMaxBorderWidth(t){let i=0,r=this.chart,s,o,a,l,c;if(!t){for(s=0,o=r.data.datasets.length;s<o;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),t=a.data,l=a.controller;break}}if(!t)return 0;for(s=0,o=t.length;s<o;++s)c=l.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(i=Math.max(i,c.borderWidth||0,c.hoverBorderWidth||0));return i}getMaxOffset(t){let i=0;for(let r=0,s=t.length;r<s;++r){let o=this.resolveDataElementOptions(r);i=Math.max(i,o.offset||0,o.hoverOffset||0)}return i}_getRingWeightOffset(t){let i=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(t){return Math.max(Me(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n})(),M6=(()=>{class n extends Fs{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let i=this._cachedMeta,{dataset:r,data:s=[],_dataset:o}=i,a=this.chart._animationsDisabled,{start:l,count:c}=Zv(i,s,a);this._drawStart=l,this._drawCount=c,Kv(i)&&(l=0,c=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=s;let u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},t),this.updateElements(s,l,c,t)}updateElements(t,i,r,s){let o=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:f,includeOptions:m}=this._getSharedOptions(i,s),v=a.axis,b=l.axis,{spanGaps:w,segment:y}=this.options,k=Oo(w)?w:Number.POSITIVE_INFINITY,I=this.chart._animationsDisabled||o||s==="none",V=i+r,$=t.length,B=i>0&&this.getParsed(i-1);for(let E=0;E<$;++E){let T=t[E],N=I?T:{};if(E<i||E>=V){N.skip=!0;continue}let j=this.getParsed(E),H=Re(j[b]),G=N[v]=a.getPixelForValue(j[v],E),me=N[b]=o||H?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,j,c):j[b],E);N.skip=isNaN(G)||isNaN(me)||H,N.stop=E>0&&Math.abs(j[v]-B[v])>k,y&&(N.parsed=j,N.raw=u.data[E]),m&&(N.options=f||this.resolveDataElementOptions(E,T.active?"active":s)),I||this.updateElement(T,E,N,s),B=j}}getMaxOverflow(){let t=this._cachedMeta,i=t.dataset,r=i.options&&i.options.borderWidth||0,s=t.data||[];if(!s.length)return r;let o=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,o,a)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return n})(),PE=(()=>{class n extends Fs{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let i=t.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:s}}=t.legend.options;return i.labels.map((o,a)=>{let c=t.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,i){super(t,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let i=this._cachedMeta,r=this.chart,s=r.data.labels||[],o=dl(i._parsed[t].r,r.options.locale);return{label:s[t]||"",value:o}}parseObjectData(t,i,r,s){return ax.bind(this)(t,i,r,s)}update(t){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,t)}getMinMax(){let t=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,s)=>{let o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<i.min&&(i.min=o),o>i.max&&(i.max=o))}),i}_updateRadius(){let t=this.chart,i=t.chartArea,r=t.options,s=Math.min(i.right-i.left,i.bottom-i.top),o=Math.max(s/2,0),a=Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0),l=(o-a)/t.getVisibleDatasetCount();this.outerRadius=o-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(t,i,r,s){let o=s==="reset",a=this.chart,c=a.options.animation,u=this._cachedMeta.rScale,f=u.xCenter,m=u.yCenter,v=u.getIndexAngle(0)-.5*Et,b=v,w,y=360/this.countVisibleElements();for(w=0;w<i;++w)b+=this._computeAngle(w,s,y);for(w=i;w<i+r;w++){let k=t[w],I=b,V=b+this._computeAngle(w,s,y),$=a.getDataVisibility(w)?u.getDistanceFromCenterForValue(this.getParsed(w).r):0;b=V,o&&(c.animateScale&&($=0),c.animateRotate&&(I=V=v));let B={x:f,y:m,innerRadius:0,outerRadius:$,startAngle:I,endAngle:V,options:this.resolveDataElementOptions(w,k.active?"active":s)};this.updateElement(k,w,B,s)}}countVisibleElements(){let t=this._cachedMeta,i=0;return t.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&i++}),i}_computeAngle(t,i,r){return this.chart.getDataVisibility(t)?Di(this.resolveDataElementOptions(t,i).angle||r):0}}return n})(),P6=(()=>{class n extends Wx{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return n})(),D6=(()=>{class n extends Fs{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){let i=this._cachedMeta.vScale,r=this.getParsed(t);return{label:i.getLabels()[t],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(t,i,r,s){return ax.bind(this)(t,i,r,s)}update(t){let i=this._cachedMeta,r=i.dataset,s=i.data||[],o=i.iScale.getLabels();if(r.points=s,t!=="resize"){let a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);let l={_loop:!0,_fullLoop:o.length===s.length,options:a};this.updateElement(r,void 0,l,t)}this.updateElements(s,0,s.length,t)}updateElements(t,i,r,s){let o=this._cachedMeta.rScale,a=s==="reset";for(let l=i;l<i+r;l++){let c=t[l],u=this.resolveDataElementOptions(l,c.active?"active":s),f=o.getPointPositionForValue(l,this.getParsed(l).r),m=a?o.xCenter:f.x,v=a?o.yCenter:f.y,b={x:m,y:v,angle:f.angle,skip:isNaN(m)||isNaN(v),options:u};this.updateElement(c,l,b,s)}}}return n})(),N6=(()=>{class n extends Fs{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=i,a=this.getParsed(t),l=s.getLabelForValue(a.x),c=o.getLabelForValue(a.y);return{label:r[t]||"",value:"("+l+", "+c+")"}}update(t){let i=this._cachedMeta,{data:r=[]}=i,s=this.chart._animationsDisabled,{start:o,count:a}=Zv(i,r,s);if(this._drawStart=o,this._drawCount=a,Kv(i)&&(o=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:c}=i;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=r;let u=this.resolveDatasetElementOptions(t);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!s,options:u},t)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(r,o,a,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,i,r,s){let o=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,f=this.resolveDataElementOptions(i,s),m=this.getSharedOptions(f),v=this.includeOptions(s,m),b=a.axis,w=l.axis,{spanGaps:y,segment:k}=this.options,I=Oo(y)?y:Number.POSITIVE_INFINITY,V=this.chart._animationsDisabled||o||s==="none",$=i>0&&this.getParsed(i-1);for(let B=i;B<i+r;++B){let E=t[B],T=this.getParsed(B),N=V?E:{},j=Re(T[w]),H=N[b]=a.getPixelForValue(T[b],B),G=N[w]=o||j?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,T,c):T[w],B);N.skip=isNaN(H)||isNaN(G)||j,N.stop=B>0&&Math.abs(T[b]-$[b])>I,k&&(N.parsed=T,N.raw=u.data[B]),v&&(N.options=m||this.resolveDataElementOptions(B,E.active?"active":s)),V||this.updateElement(E,B,N,s),$=T}this.updateSharedOptions(m,s,f)}getMaxOverflow(){let t=this._cachedMeta,i=t.data||[];if(!this.options.showLine){let l=0;for(let c=i.length-1;c>=0;--c)l=Math.max(l,i[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}let r=t.dataset,s=r.options&&r.options.borderWidth||0;if(!i.length)return s;let o=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,o,a)/2}}return n})(),L6=Object.freeze({__proto__:null,BarController:T6,BubbleController:A6,DoughnutController:Wx,LineController:M6,PieController:P6,PolarAreaController:PE,RadarController:D6,ScatterController:N6});function Fo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Tx=class n{static override(e){Object.assign(n.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Fo()}parse(){return Fo()}format(){return Fo()}add(){return Fo()}diff(){return Fo()}startOf(){return Fo()}endOf(){return Fo()}},O6={_date:Tx};function R6(n,e,t,i){let{controller:r,data:s,_sorted:o}=n,a=r._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){let c=a._reversePixels?aS:br;if(i){if(r._sharedOptions){let u=s[0],f=typeof u.getRange=="function"&&u.getRange(e);if(f){let m=c(s,e,t-f),v=c(s,e,t+f);return{lo:m.lo,hi:v.hi}}}}else{let u=c(s,e,t);if(l){let{vScale:f}=r._cachedMeta,{_parsed:m}=n,v=m.slice(0,u.lo+1).reverse().findIndex(w=>!Re(w[f.axis]));u.lo-=Math.max(0,v);let b=m.slice(u.hi).findIndex(w=>!Re(w[f.axis]));u.hi+=Math.max(0,b)}return u}}return{lo:0,hi:s.length-1}}function Hu(n,e,t,i,r){let s=n.getSortedVisibleDatasetMetas(),o=t[e];for(let a=0,l=s.length;a<l;++a){let{index:c,data:u}=s[a],{lo:f,hi:m}=R6(s[a],e,o,r);for(let v=f;v<=m;++v){let b=u[v];b.skip||i(b,c,v)}}}function F6(n){let e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){let s=e?Math.abs(i.x-r.x):0,o=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function bx(n,e,t,i,r){let s=[];return!r&&!n.isPointInArea(e)||Hu(n,t,e,function(a,l,c){!r&&!yr(a,n.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function B6(n,e,t,i){let r=[];function s(o,a,l){let{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:f}=Wv(o,{x:e.x,y:e.y});ul(f,c,u)&&r.push({element:o,datasetIndex:a,index:l})}return Hu(n,t,e,s),r}function V6(n,e,t,i,r,s){let o=[],a=F6(t),l=Number.POSITIVE_INFINITY;function c(u,f,m){let v=u.inRange(e.x,e.y,r);if(i&&!v)return;let b=u.getCenterPoint(r);if(!(!!s||n.isPointInArea(b))&&!v)return;let y=a(e,b);y<l?(o=[{element:u,datasetIndex:f,index:m}],l=y):y===l&&o.push({element:u,datasetIndex:f,index:m})}return Hu(n,t,e,c),o}function yx(n,e,t,i,r,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!i?B6(n,e,t,r):V6(n,e,t,i,r,s)}function BS(n,e,t,i,r){let s=[],o=t==="x"?"inXRange":"inYRange",a=!1;return Hu(n,t,e,(l,c,u)=>{l[o]&&l[o](e[t],r)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,r))}),i&&!a?[]:s}var $6={evaluateInteractionItems:Hu,modes:{index(n,e,t,i){let r=Os(e,n),s=t.axis||"x",o=t.includeInvisible||!1,a=t.intersect?bx(n,r,s,i,o):yx(n,r,s,!1,i,o),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{let u=a[0].index,f=c.data[u];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:u})}),l):[]},dataset(n,e,t,i){let r=Os(e,n),s=t.axis||"xy",o=t.includeInvisible||!1,a=t.intersect?bx(n,r,s,i,o):yx(n,r,s,!1,i,o);if(a.length>0){let l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(n,e,t,i){let r=Os(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return bx(n,r,s,i,o)},nearest(n,e,t,i){let r=Os(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return yx(n,r,s,t.intersect,i,o)},x(n,e,t,i){let r=Os(e,n);return BS(n,r,"x",t.intersect,i)},y(n,e,t,i){let r=Os(e,n);return BS(n,r,"y",t.intersect,i)}}},DE=["left","top","right","bottom"];function Lu(n,e){return n.filter(t=>t.pos===e)}function VS(n,e){return n.filter(t=>DE.indexOf(t.pos)===-1&&t.box.axis===e)}function Ou(n,e){return n.sort((t,i)=>{let r=e?i:t,s=e?t:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function j6(n){let e=[],t,i,r,s,o,a;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function q6(n){let e={};for(let t of n){let{stack:i,pos:r,stackWeight:s}=t;if(!i||!DE.includes(r))continue;let o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function H6(n,e){let t=q6(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e,s,o,a;for(s=0,o=n.length;s<o;++s){a=n[s];let{fullSize:l}=a.box,c=t[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=u?u*r:l&&e.availableHeight)}return t}function U6(n){let e=j6(n),t=Ou(e.filter(c=>c.box.fullSize),!0),i=Ou(Lu(e,"left"),!0),r=Ou(Lu(e,"right")),s=Ou(Lu(e,"top"),!0),o=Ou(Lu(e,"bottom")),a=VS(e,"x"),l=VS(e,"y");return{fullSize:t,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:Lu(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function $S(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function NE(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function z6(n,e,t,i){let{pos:r,box:s}=t,o=n.maxPadding;if(!Ve(r)){t.size&&(n[r]-=t.size);let f=i[t.stack]||{size:0,count:1};f.size=Math.max(f.size,t.horizontal?s.height:s.width),t.size=f.size/f.count,n[r]+=t.size}s.getPadding&&NE(o,s.getPadding());let a=Math.max(0,e.outerWidth-$S(o,n,"left","right")),l=Math.max(0,e.outerHeight-$S(o,n,"top","bottom")),c=a!==n.w,u=l!==n.h;return n.w=a,n.h=l,t.horizontal?{same:c,other:u}:{same:u,other:c}}function W6(n){let e=n.maxPadding;function t(i){let r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function Q6(n,e){let t=e.maxPadding;function i(r){let s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}return i(n?["left","right"]:["top","bottom"])}function Bu(n,e,t,i){let r=[],s,o,a,l,c,u;for(s=0,o=n.length,c=0;s<o;++s){a=n[s],l=a.box,l.update(a.width||e.w,a.height||e.h,Q6(a.horizontal,e));let{same:f,other:m}=z6(e,t,a,i);c|=f&&r.length,u=u||m,l.fullSize||r.push(a)}return c&&Bu(r,e,t,i)||u}function of(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function jS(n,e,t,i){let r=t.padding,{x:s,y:o}=e;for(let a of n){let l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){let f=e.w*u,m=c.size||l.height;ll(c.start)&&(o=c.start),l.fullSize?of(l,r.left,o,t.outerWidth-r.right-r.left,m):of(l,e.left+c.placed,o,f,m),c.start=o,c.placed+=f,o=l.bottom}else{let f=e.h*u,m=c.size||l.width;ll(c.start)&&(s=c.start),l.fullSize?of(l,s,r.top,m,t.outerHeight-r.bottom-r.top):of(l,s,e.top+c.placed,m,f),c.start=s,c.placed+=f,s=l.right}}e.x=s,e.y=o}var An={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){let t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;let r=bn(n.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(t-r.height,0),a=U6(n.boxes),l=a.vertical,c=a.horizontal;it(n.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});let u=l.reduce((w,y)=>y.box.options&&y.box.options.display===!1?w:w+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),m=Object.assign({},r);NE(m,bn(i));let v=Object.assign({maxPadding:m,w:s,h:o,x:r.left,y:r.top},r),b=H6(l.concat(c),f);Bu(a.fullSize,v,f,b),Bu(l,v,f,b),Bu(c,v,f,b)&&Bu(l,v,f,b),W6(v),jS(a.leftAndTop,v,f,b),v.x+=v.w,v.y+=v.h,jS(a.rightAndBottom,v,f,b),n.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},it(a.chartArea,w=>{let y=w.box;Object.assign(y,n.chartArea),y.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}},mf=class{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}},Ax=class extends mf{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},pf="$chartjs",G6={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},qS=n=>n===null||n==="";function Y6(n,e){let t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[pf]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",qS(r)){let s=cx(n,"width");s!==void 0&&(n.width=s)}if(qS(i))if(n.style.height==="")n.height=n.width/(e||2);else{let s=cx(n,"height");s!==void 0&&(n.height=s)}return n}var LE=ES?{passive:!0}:!1;function X6(n,e,t){n&&n.addEventListener(e,t,LE)}function Z6(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,LE)}function K6(n,e){let t=G6[n.type]||n.type,{x:i,y:r}=Os(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function gf(n,e){for(let t of n)if(t===e||t.contains(e))return!0}function J6(n,e,t){let i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||gf(a.addedNodes,i),o=o&&!gf(a.removedNodes,i);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function eF(n,e,t){let i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||gf(a.removedNodes,i),o=o&&!gf(a.addedNodes,i);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}var $u=new Map,HS=0;function OE(){let n=window.devicePixelRatio;n!==HS&&(HS=n,$u.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function tF(n,e){$u.size||window.addEventListener("resize",OE),$u.set(n,e)}function nF(n){$u.delete(n),$u.size||window.removeEventListener("resize",OE)}function iF(n,e,t){let i=n.canvas,r=i&&rf(i);if(!r)return;let s=Xv((a,l)=>{let c=r.clientWidth;t(a,l),c<r.clientWidth&&t()},window),o=new ResizeObserver(a=>{let l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(r),tF(n,s),o}function _x(n,e,t){t&&t.disconnect(),e==="resize"&&nF(n)}function rF(n,e,t){let i=n.canvas,r=Xv(s=>{n.ctx!==null&&t(K6(s,n))},n);return X6(i,e,r),r}var Ix=class extends mf{acquireContext(e,t){let i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(Y6(e,t),i):null}releaseContext(e){let t=e.canvas;if(!t[pf])return!1;let i=t[pf].initial;["height","width"].forEach(s=>{let o=i[s];Re(o)?t.removeAttribute(s):t.setAttribute(s,o)});let r=i.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[pf],!0}addEventListener(e,t,i){this.removeEventListener(e,t);let r=e.$proxies||(e.$proxies={}),o={attach:J6,detach:eF,resize:iF}[t]||rF;r[t]=o(e,t,i)}removeEventListener(e,t){let i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:_x,detach:_x,resize:_x}[t]||Z6)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return SS(e,t,i,r)}isAttached(e){let t=e&&rf(e);return!!(t&&t.isConnected)}};function sF(n){return!nf()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Ax:Ix}var Gi=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Oo(this.x)&&Oo(this.y)}getProps(e,t){let i=this.$animations;if(!t||!i)return this;let r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}};function oF(n,e){let t=n.options.ticks,i=aF(n),r=Math.min(t.maxTicksLimit||i,i),s=t.major.enabled?cF(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return uF(e,c,s,o/r),c;let u=lF(s,e,r);if(o>0){let f,m,v=o>1?Math.round((l-a)/(o-1)):null;for(af(e,c,u,Re(v)?0:a-v,a),f=0,m=o-1;f<m;f++)af(e,c,u,s[f],s[f+1]);return af(e,c,u,l,Re(v)?e.length:l+v),c}return af(e,c,u),c}function aF(n){let e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function lF(n,e,t){let i=dF(n),r=e.length/t;if(!i)return Math.max(r,1);let s=rS(i);for(let o=0,a=s.length-1;o<a;o++){let l=s[o];if(l>r)return l}return Math.max(r,1)}function cF(n){let e=[],t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function uF(n,e,t,i){let r=0,s=t[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===s&&(e.push(n[o]),r++,s=t[r*i])}function af(n,e,t,i,r){let s=Me(i,0),o=Math.min(Me(r,n.length),n.length),a=0,l,c,u;for(t=Math.ceil(t),r&&(l=r-i,t=l/Math.floor(l/t)),u=s;u<0;)a++,u=Math.round(s+a*t);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(n[c]),a++,u=Math.round(s+a*t))}function dF(n){let e=n.length,t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}var pF=n=>n==="left"?"right":n==="right"?"left":n,US=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,zS=(n,e)=>Math.min(e||n,n);function WS(n,e){let t=[],i=n.length/e,r=n.length,s=0;for(;s<r;s+=i)t.push(n[Math.floor(s)]);return t}function hF(n,e,t){let i=n.ticks.length,r=Math.min(e,i-1),s=n._startPixel,o=n._endPixel,a=1e-6,l=n.getPixelForTick(r),c;if(!(t&&(i===1?c=Math.max(l-s,o-l):e===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<s-a||l>o+a)))return l}function fF(n,e){it(n,t=>{let i=t.gc,r=i.length/2,s;if(r>e){for(s=0;s<r;++s)delete t.data[i[s]];i.splice(0,r)}})}function Ru(n){return n.drawTicks?n.tickLength:0}function QS(n,e){if(!n.display)return 0;let t=Wt(n.font,e),i=bn(n.padding);return(St(n.text)?n.text.length:1)*t.lineHeight+i.height}function mF(n,e){return Wr(n,{scale:e,type:"scale"})}function gF(n,e,t){return Wr(n,{tick:t,index:e,type:"tick"})}function vF(n,e,t){let i=Zh(n);return(t&&e!=="right"||!t&&e==="right")&&(i=pF(i)),i}function xF(n,e,t,i){let{top:r,left:s,bottom:o,right:a,chart:l}=n,{chartArea:c,scales:u}=l,f=0,m,v,b,w=o-r,y=a-s;if(n.isHorizontal()){if(v=xn(i,s,a),Ve(t)){let k=Object.keys(t)[0],I=t[k];b=u[k].getPixelForValue(I)+w-e}else t==="center"?b=(c.bottom+c.top)/2+w-e:b=US(n,t,e);m=a-s}else{if(Ve(t)){let k=Object.keys(t)[0],I=t[k];v=u[k].getPixelForValue(I)-y+e}else t==="center"?v=(c.left+c.right)/2-y+e:v=US(n,t,e);b=xn(i,o,r),f=t==="left"?-Bt:Bt}return{titleX:v,titleY:b,maxWidth:m,rotation:f}}var Vo=class n extends Gi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=Xn(e,Number.POSITIVE_INFINITY),t=Xn(t,Number.NEGATIVE_INFINITY),i=Xn(i,Number.POSITIVE_INFINITY),r=Xn(r,Number.NEGATIVE_INFINITY),{min:Xn(e,i),max:Xn(t,r),minDefined:Ot(e),maxDefined:Ot(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:t,max:i};let a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),r||(t=Math.min(t,o.min)),s||(i=Math.max(i,o.max));return t=s&&t>i?i:t,i=r&&t>i?t:i,{min:Xn(t,Xn(i,t)),max:Xn(i,Xn(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){gt(this.options.beforeUpdate,[this])}update(e,t,i){let{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=vS(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?WS(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=oF(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){gt(this.options.afterUpdate,[this])}beforeSetDimensions(){gt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){gt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),gt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){gt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let t=this.options.ticks,i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=gt(t.callback,[s.value,i,e],this)}afterTickToLabelConversion(){gt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){gt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,t=e.ticks,i=zS(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation,o=r,a,l,c;if(!this._isVisible()||!t.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}let u=this._getLabelSizes(),f=u.widest.width,m=u.highest.height,v=en(this.chart.width-f,0,this.maxWidth);a=e.offset?this.maxWidth/i:v/(i-1),f+6>a&&(a=v/(i-(e.offset?.5:1)),l=this.maxHeight-Ru(e.grid)-t.padding-QS(e.title,this.chart.options.font),c=Math.sqrt(f*f+m*m),o=Yh(Math.min(Math.asin(en((u.highest.height+6)/a,-1,1)),Math.asin(en(l/c,-1,1))-Math.asin(en(m/c,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){gt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){gt(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){let l=QS(r,t.options.font);if(a?(e.width=this.maxWidth,e.height=Ru(s)+l):(e.height=this.maxHeight,e.width=Ru(s)+l),i.display&&this.ticks.length){let{first:c,last:u,widest:f,highest:m}=this._getLabelSizes(),v=i.padding*2,b=Di(this.labelRotation),w=Math.cos(b),y=Math.sin(b);if(a){let k=i.mirror?0:y*f.width+w*m.height;e.height=Math.min(this.maxHeight,e.height+k+v)}else{let k=i.mirror?0:w*f.width+y*m.height;e.width=Math.min(this.maxWidth,e.width+k+v)}this._calculatePadding(c,u,y,w)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){let{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1),m=0,v=0;l?c?(m=r*e.width,v=i*t.height):(m=i*e.height,v=r*t.width):s==="start"?v=t.width:s==="end"?m=e.width:s!=="inner"&&(m=e.width/2,v=t.width/2),this.paddingLeft=Math.max((m-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((v-f+o)*this.width/(this.width-f),0)}else{let u=t.height/2,f=e.height/2;s==="start"?(u=0,f=e.height):s==="end"&&(u=t.height,f=0),this.paddingTop=u+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){gt(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)Re(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let t=this.options.ticks.sampleSize,i=this.ticks;t<i.length&&(i=WS(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){let{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(t/zS(t,i)),c=0,u=0,f,m,v,b,w,y,k,I,V,$,B;for(f=0;f<t;f+=l){if(b=e[f].label,w=this._resolveTickFontOptions(f),r.font=y=w.string,k=s[y]=s[y]||{data:{},gc:[]},I=w.lineHeight,V=$=0,!Re(b)&&!St(b))V=Au(r,k.data,k.gc,V,b),$=I;else if(St(b))for(m=0,v=b.length;m<v;++m)B=b[m],!Re(B)&&!St(B)&&(V=Au(r,k.data,k.gc,V,B),$+=I);o.push(V),a.push($),c=Math.max(V,c),u=Math.max($,u)}fF(s,t);let E=o.indexOf(c),T=a.indexOf(u),N=j=>({width:o[j]||0,height:a[j]||0});return{first:N(0),last:N(t-1),widest:N(E),highest:N(T),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let t=this._startPixel+e*this._length;return oS(this._alignToPixels?Ds(this.chart,t,0):t)}getDecimalForPixel(e){let t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){let t=this.ticks||[];if(e>=0&&e<t.length){let i=t[e];return i.$context||(i.$context=gF(this.getContext(),e,i))}return this.$context||(this.$context=mF(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,t=Di(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let t=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,c=this.isHorizontal(),f=this.ticks.length+(l?1:0),m=Ru(s),v=[],b=a.setContext(this.getContext()),w=b.display?b.width:0,y=w/2,k=function(ye){return Ds(i,ye,w)},I,V,$,B,E,T,N,j,H,G,me,Ze;if(o==="top")I=k(this.bottom),T=this.bottom-m,j=I-y,G=k(e.top)+y,Ze=e.bottom;else if(o==="bottom")I=k(this.top),G=e.top,Ze=k(e.bottom)-y,T=I+y,j=this.top+m;else if(o==="left")I=k(this.right),E=this.right-m,N=I-y,H=k(e.left)+y,me=e.right;else if(o==="right")I=k(this.left),H=e.left,me=k(e.right)-y,E=I+y,N=this.left+m;else if(t==="x"){if(o==="center")I=k((e.top+e.bottom)/2+.5);else if(Ve(o)){let ye=Object.keys(o)[0],ne=o[ye];I=k(this.chart.scales[ye].getPixelForValue(ne))}G=e.top,Ze=e.bottom,T=I+y,j=T+m}else if(t==="y"){if(o==="center")I=k((e.left+e.right)/2);else if(Ve(o)){let ye=Object.keys(o)[0],ne=o[ye];I=k(this.chart.scales[ye].getPixelForValue(ne))}E=I-y,N=E-m,H=e.left,me=e.right}let xt=Me(r.ticks.maxTicksLimit,f),re=Math.max(1,Math.ceil(f/xt));for(V=0;V<f;V+=re){let ye=this.getContext(V),ne=s.setContext(ye),ot=a.setContext(ye),he=ne.lineWidth,Pe=ne.color,ue=ot.dash||[],bt=ot.dashOffset,yt=ne.tickWidth,kt=ne.tickColor,tn=ne.tickBorderDash||[],Te=ne.tickBorderDashOffset;$=hF(this,V,l),$!==void 0&&(B=Ds(i,$,he),c?E=N=H=me=B:T=j=G=Ze=B,v.push({tx1:E,ty1:T,tx2:N,ty2:j,x1:H,y1:G,x2:me,y2:Ze,width:he,color:Pe,borderDash:ue,borderDashOffset:bt,tickWidth:yt,tickColor:kt,tickBorderDash:tn,tickBorderDashOffset:Te}))}return this._ticksLength=f,this._borderValue=I,v}_computeLabelItems(e){let t=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:f}=s,m=Ru(i.grid),v=m+u,b=f?-u:v,w=-Di(this.labelRotation),y=[],k,I,V,$,B,E,T,N,j,H,G,me,Ze="middle";if(r==="top")E=this.bottom-b,T=this._getXAxisLabelAlignment();else if(r==="bottom")E=this.top+b,T=this._getXAxisLabelAlignment();else if(r==="left"){let re=this._getYAxisLabelAlignment(m);T=re.textAlign,B=re.x}else if(r==="right"){let re=this._getYAxisLabelAlignment(m);T=re.textAlign,B=re.x}else if(t==="x"){if(r==="center")E=(e.top+e.bottom)/2+v;else if(Ve(r)){let re=Object.keys(r)[0],ye=r[re];E=this.chart.scales[re].getPixelForValue(ye)+v}T=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")B=(e.left+e.right)/2-v;else if(Ve(r)){let re=Object.keys(r)[0],ye=r[re];B=this.chart.scales[re].getPixelForValue(ye)}T=this._getYAxisLabelAlignment(m).textAlign}t==="y"&&(l==="start"?Ze="top":l==="end"&&(Ze="bottom"));let xt=this._getLabelSizes();for(k=0,I=a.length;k<I;++k){V=a[k],$=V.label;let re=s.setContext(this.getContext(k));N=this.getPixelForTick(k)+s.labelOffset,j=this._resolveTickFontOptions(k),H=j.lineHeight,G=St($)?$.length:1;let ye=G/2,ne=re.color,ot=re.textStrokeColor,he=re.textStrokeWidth,Pe=T;o?(B=N,T==="inner"&&(k===I-1?Pe=this.options.reverse?"left":"right":k===0?Pe=this.options.reverse?"right":"left":Pe="center"),r==="top"?c==="near"||w!==0?me=-G*H+H/2:c==="center"?me=-xt.highest.height/2-ye*H+H:me=-xt.highest.height+H/2:c==="near"||w!==0?me=H/2:c==="center"?me=xt.highest.height/2-ye*H:me=xt.highest.height-G*H,f&&(me*=-1),w!==0&&!re.showLabelBackdrop&&(B+=H/2*Math.sin(w))):(E=N,me=(1-G)*H/2);let ue;if(re.showLabelBackdrop){let bt=bn(re.backdropPadding),yt=xt.heights[k],kt=xt.widths[k],tn=me-bt.top,Te=0-bt.left;switch(Ze){case"middle":tn-=yt/2;break;case"bottom":tn-=yt;break}switch(T){case"center":Te-=kt/2;break;case"right":Te-=kt;break;case"inner":k===I-1?Te-=kt:k>0&&(Te-=kt/2);break}ue={left:Te,top:tn,width:kt+bt.width,height:yt+bt.height,color:re.backdropColor}}y.push({label:$,font:j,textOffset:me,options:{rotation:w,color:ne,strokeColor:ot,strokeWidth:he,textAlign:Pe,textBaseline:Ze,translation:[B,E],backdrop:ue}})}return y}_getXAxisLabelAlignment(){let{position:e,ticks:t}=this.options;if(-Di(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){let{position:t,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width,c,u;return t==="left"?r?(u=this.right+s,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):t==="right"?r?(u=this.left+s,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:t},left:i,top:r,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let r=this.ticks.findIndex(s=>s.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){let t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),s,o,a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(t.display)for(s=0,o=r.length;s<o;++s){let l=r[s];t.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:t,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;let a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,u,f,m;this.isHorizontal()?(c=Ds(e,this.left,o)-o/2,u=Ds(e,this.right,a)+a/2,f=m=l):(f=Ds(e,this.top,o)-o/2,m=Ds(e,this.bottom,a)+a/2,c=u=l),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(c,f),t.lineTo(u,m),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;let i=this.ctx,r=this._computeLabelArea();r&&Pu(i,r);let s=this.getLabelItems(e);for(let o of s){let a=o.options,l=o.font,c=o.label,u=o.textOffset;Ns(i,c,0,u,l,a)}r&&Du(i)}drawTitle(){let{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;let s=Wt(i.font),o=bn(i.padding),a=i.align,l=s.lineHeight/2;t==="bottom"||t==="center"||Ve(t)?(l+=o.bottom,St(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;let{titleX:c,titleY:u,maxWidth:f,rotation:m}=xF(this,l,t,a);Ns(e,i.text,0,0,s,{color:i.color,maxWidth:f,rotation:m,textAlign:vF(a,t,r),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,t=e.ticks&&e.ticks.z||0,i=Me(e.grid&&e.grid.z,-1),r=Me(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==n.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){let t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[],s,o;for(s=0,o=t.length;s<o;++s){let a=t[s];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){let t=this.options.ticks.setContext(this.getContext(e));return Wt(t.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},ml=class{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let t=Object.getPrototypeOf(e),i;_F(t)&&(i=this.register(t));let r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,bF(e,o,i),this.override&&vt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){let t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in vt[r]&&(delete vt[r][i],this.override&&delete Ps[i])}};function bF(n,e,t){let i=sl(Object.create(null),[t?vt.get(t):{},vt.get(e),n.defaults]);vt.set(e,i),n.defaultRoutes&&yF(e,n.defaultRoutes),n.descriptors&&vt.describe(e,n.descriptors)}function yF(n,e){Object.keys(e).forEach(t=>{let i=t.split("."),r=i.pop(),s=[n].concat(i).join("."),o=e[t].split("."),a=o.pop(),l=o.join(".");vt.route(s,r,l,a)})}function _F(n){return"id"in n&&"defaults"in n}var Mx=class{constructor(){this.controllers=new ml(Fs,"datasets",!0),this.elements=new ml(Gi,"elements"),this.plugins=new ml(Object,"plugins"),this.scales=new ml(Vo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{let s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):it(r,o=>{let a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,t,i){let r=Gh(e);gt(i["before"+r],[],i),t[e](i),gt(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){let i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){let r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}},Er=new Mx,Px=class{constructor(){this._init=[]}notify(e,t,i,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,t,i);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,i,r){r=r||{};for(let s of e){let o=s.plugin,a=o[i],l=[t,r,s.options];if(gt(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Re(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){let i=e&&e.config,r=Me(i.options&&i.options.plugins,{}),s=wF(i);return r===!1&&!t?[]:EF(e,s,r,t)}_notifyStateChanges(e){let t=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}};function wF(n){let e={},t=[],i=Object.keys(Er.plugins.items);for(let s=0;s<i.length;s++)t.push(Er.getPlugin(i[s]));let r=n.plugins||[];for(let s=0;s<r.length;s++){let o=r[s];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function SF(n,e){return!e&&n===!1?null:n===!0?{}:n}function EF(n,{plugins:e,localIds:t},i,r){let s=[],o=n.getContext();for(let a of e){let l=a.id,c=SF(i[l],r);c!==null&&s.push({plugin:a,options:CF(n.config,{plugin:a,local:t[l]},c,o)})}return s}function CF(n,{plugin:e,local:t},i,r){let s=n.pluginScopeKeys(e),o=n.getOptionScopes(i,s);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Dx(n,e){let t=vt.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function kF(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function TF(n,e){return n===e?"_index_":"_value_"}function GS(n){if(n==="x"||n==="y"||n==="r")return n}function AF(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Nx(n,...e){if(GS(n))return n;for(let t of e){let i=t.axis||AF(t.position)||n.length>1&&GS(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function YS(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function IF(n,e){if(e.data&&e.data.datasets){let t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return YS(n,"x",t[0])||YS(n,"y",t[0])}return{}}function MF(n,e){let t=Ps[n.type]||{scales:{}},i=e.scales||{},r=Dx(n.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{let a=i[o];if(!Ve(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let l=Nx(o,a,IF(o,n),vt.scales[a.type]),c=TF(l,r),u=t.scales||{};s[o]=al(Object.create(null),[{axis:l},a,u[l],u[c]])}),n.data.datasets.forEach(o=>{let a=o.type||n.type,l=o.indexAxis||Dx(a,e),u=(Ps[a]||{}).scales||{};Object.keys(u).forEach(f=>{let m=kF(f,l),v=o[m+"AxisID"]||m;s[v]=s[v]||Object.create(null),al(s[v],[{axis:m},i[v],u[f]])})}),Object.keys(s).forEach(o=>{let a=s[o];al(a,[vt.scales[a.type],vt.scale])}),s}function RE(n){let e=n.options||(n.options={});e.plugins=Me(e.plugins,{}),e.scales=MF(n,e)}function FE(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function PF(n){return n=n||{},n.data=FE(n.data),RE(n),n}var XS=new Map,BE=new Set;function lf(n,e){let t=XS.get(n);return t||(t=e(),XS.set(n,t),BE.add(t)),t}var Fu=(n,e,t)=>{let i=zr(e,t);i!==void 0&&n.add(i)},Lx=class{constructor(e){this._config=PF(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=FE(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),RE(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return lf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return lf(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return lf(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){let t=e.id,i=this.type;return lf(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){let i=this._scopeCache,r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){let{options:r,type:s}=this,o=this._cachedScopes(e,i),a=o.get(t);if(a)return a;let l=new Set;t.forEach(u=>{e&&(l.add(e),u.forEach(f=>Fu(l,e,f))),u.forEach(f=>Fu(l,r,f)),u.forEach(f=>Fu(l,Ps[s]||{},f)),u.forEach(f=>Fu(l,vt,f)),u.forEach(f=>Fu(l,Kh,f))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),BE.has(t)&&o.set(t,c),c}chartOptionScopes(){let{options:e,type:t}=this;return[e,Ps[t]||{},vt.datasets[t]||{},{type:t},vt,Kh]}resolveNamedOptions(e,t,i,r=[""]){let s={$shared:!0},{resolver:o,subPrefixes:a}=ZS(this._resolverCache,e,r),l=o;if(NF(o,t)){s.$shared=!1,i=Hr(i)?i():i;let c=this.createResolver(e,i,a);l=Lo(o,i,c)}for(let c of t)s[c]=l[c];return s}createResolver(e,t,i=[""],r){let{resolver:s}=ZS(this._resolverCache,e,i);return Ve(t)?Lo(s,t,void 0,r):s}};function ZS(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));let r=t.join(),s=i.get(r);return s||(s={resolver:tf(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}var DF=n=>Ve(n)&&Object.getOwnPropertyNames(n).some(e=>Hr(n[e]));function NF(n,e){let{isScriptable:t,isIndexable:i}=rx(n);for(let r of e){let s=t(r),o=i(r),a=(o||s)&&n[r];if(s&&(Hr(a)||DF(a))||o&&St(a))return!0}return!1}var LF="4.4.9",OF=["top","bottom","left","right","chartArea"];function KS(n,e){return n==="top"||n==="bottom"||OF.indexOf(n)===-1&&e==="x"}function JS(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function eE(n){let e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),gt(t&&t.onComplete,[n],e)}function RF(n){let e=n.chart,t=e.options.animation;gt(t&&t.onProgress,[n],e)}function VE(n){return nf()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}var hf={},tE=n=>{let e=VE(n);return Object.values(hf).filter(t=>t.canvas===e).pop()};function FF(n,e,t){let i=Object.keys(n);for(let r of i){let s=+r;if(s>=e){let o=n[r];delete n[r],(t>0||s>e)&&(n[s+t]=o)}}}function BF(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}var Uu=(()=>{class n{static defaults=vt;static instances=hf;static overrides=Ps;static registry=Er;static version=LF;static getChart=tE;static register(...t){Er.add(...t),nE()}static unregister(...t){Er.remove(...t),nE()}constructor(t,i){let r=this.config=new Lx(i),s=VE(t),o=tE(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");let a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||sF(s)),this.platform.updateConfig(r);let l=this.platform.acquireContext(s,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,f=c&&c.width;if(this.id=eS(),this.ctx=l,this.canvas=c,this.width=f,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Px,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=dS(m=>this.update(m),a.resizeDelay||0),this._dataChanges=[],hf[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Qr.listen(this,"complete",eE),Qr.listen(this,"progress",RF),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:i},width:r,height:s,_aspectRatio:o}=this;return Re(t)?i&&o?o:s?r/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Er}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():lx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return tx(this.canvas,this.ctx),this}stop(){return Qr.stop(this),this}resize(t,i){Qr.running(this)?this._resizeBeforeDraw={width:t,height:i}:this._resize(t,i)}_resize(t,i){let r=this.options,s=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,t,i,o),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,lx(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),gt(r.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};it(i,(r,s)=>{r.id=s})}buildOrUpdateScales(){let t=this.options,i=t.scales,r=this.scales,s=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{}),o=[];i&&(o=o.concat(Object.keys(i).map(a=>{let l=i[a],c=Nx(a,l),u=c==="r",f=c==="x";return{options:l,dposition:u?"chartArea":f?"bottom":"left",dtype:u?"radialLinear":f?"category":"linear"}}))),it(o,a=>{let l=a.options,c=l.id,u=Nx(c,l),f=Me(l.type,a.dtype);(l.position===void 0||KS(l.position,u)!==KS(a.dposition))&&(l.position=a.dposition),s[c]=!0;let m=null;if(c in r&&r[c].type===f)m=r[c];else{let v=Er.getScale(f);m=new v({id:c,type:f,ctx:this.ctx,chart:this}),r[m.id]=m}m.init(l,t)}),it(s,(a,l)=>{a||delete r[l]}),it(r,a=>{An.configure(this,a,a.options),An.addBox(this,a)})}_updateMetasets(){let t=this._metasets,i=this.data.datasets.length,r=t.length;if(t.sort((s,o)=>s.index-o.index),r>i){for(let s=i;s<r;++s)this._destroyDatasetMeta(s);t.splice(i,r-i)}this._sortedMetasets=t.slice(0).sort(JS("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:i}}=this;t.length>i.length&&delete this._stacks,t.forEach((r,s)=>{i.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){let t=[],i=this.data.datasets,r,s;for(this._removeUnreferencedMetasets(),r=0,s=i.length;r<s;r++){let o=i[r],a=this.getDatasetMeta(r),l=o.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=o.indexAxis||Dx(l,this.options),a.order=o.order||0,a.index=r,a.label=""+o.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{let c=Er.getController(l),{datasetElementType:u,dataElementType:f}=vt.datasets[l];Object.assign(c,{dataElementType:Er.getElement(f),datasetElementType:u&&Er.getElement(u)}),a.controller=new c(this,r),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){it(this.data.datasets,(t,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let i=this.config;i.update();let r=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,f=this.data.datasets.length;u<f;u++){let{controller:m}=this.getDatasetMeta(u),v=!s&&o.indexOf(m)===-1;m.buildOrUpdateElements(v),a=Math.max(+m.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||it(o,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(JS("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){it(this.scales,t=>{An.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,i=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!qv(i,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,i=this._getUniformDataChanges()||[];for(let{method:r,start:s,count:o}of i){let a=r==="_removeElements"?-o:o;FF(t,s,a)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let i=this.data.datasets.length,r=o=>new Set(t.filter(a=>a[0]===o).map((a,l)=>l+","+a.splice(1).join(","))),s=r(0);for(let o=1;o<i;o++)if(!qv(s,r(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;An.update(this,this.width,this.height,t);let i=this.chartArea,r=i.width<=0||i.height<=0;this._layers=[],it(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let i=0,r=this.data.datasets.length;i<r;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,Hr(t)?t({datasetIndex:i}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,i){let r=this.getDatasetMeta(t),s={meta:r,index:t,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(i),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Qr.has(this)?this.attached&&!Qr.running(this)&&Qr.start(this):(this.draw(),eE({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(t=0;t<i.length&&i[t].z<=0;++t)i[t].draw(this.chartArea);for(this._drawDatasets();t<i.length;++t)i[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let i=this._sortedMetasets,r=[],s,o;for(s=0,o=i.length;s<o;++s){let a=i[s];(!t||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let i=t.length-1;i>=0;--i)this._drawDataset(t[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let i=this.ctx,r={meta:t,index:t.index,cancelable:!0},s=fx(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&Pu(i,s),t.controller.draw(),s&&Du(i),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return yr(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,i,r,s){let o=$6.modes[i];return typeof o=="function"?o(this,t,r,s):[]}getDatasetMeta(t){let i=this.data.datasets[t],r=this._metasets,s=r.filter(o=>o&&o._dataset===i).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:t,_dataset:i,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Wr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let i=this.data.datasets[t];if(!i)return!1;let r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!i.hidden}setDatasetVisibility(t,i){let r=this.getDatasetMeta(t);r.hidden=!i}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,i,r){let s=r?"show":"hide",o=this.getDatasetMeta(t),a=o.controller._resolveAnimations(void 0,s);ll(i)?(o.data[i].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),a.update(o,{visible:r}),this.update(l=>l.datasetIndex===t?s:void 0))}hide(t,i){this._updateVisibility(t,i,!1)}show(t,i){this._updateVisibility(t,i,!0)}_destroyDatasetMeta(t){let i=this._metasets[t];i&&i.controller&&i.controller._destroy(),delete this._metasets[t]}_stop(){let t,i;for(this.stop(),Qr.remove(this),t=0,i=this.data.datasets.length;t<i;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:i}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),tx(t,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete hf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,i=this.platform,r=(o,a)=>{i.addEventListener(this,o,a),t[o]=a},s=(o,a,l)=>{o.offsetX=a,o.offsetY=l,this._eventHandler(o)};it(this.options.events,o=>r(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,i=this.platform,r=(c,u)=>{i.addEventListener(this,c,u),t[c]=u},s=(c,u)=>{t[c]&&(i.removeEventListener(this,c,u),delete t[c])},o=(c,u)=>{this.canvas&&this.resize(c,u)},a,l=()=>{s("attach",l),this.attached=!0,this.resize(),r("resize",o),r("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),r("attach",l)},i.isAttached(this.canvas)?l():a()}unbindEvents(){it(this._listeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._listeners={},it(this._responsiveListeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,i,r){let s=r?"set":"remove",o,a,l,c;for(i==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=t.length;l<c;++l){a=t[l];let u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let i=this._active||[],r=t.map(({datasetIndex:o,index:a})=>{let l=this.getDatasetMeta(o);if(!l)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:l.data[a],index:a}});!Iu(r,i)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,i))}notifyPlugins(t,i,r){return this._plugins.notify(this,t,i,r)}isPluginEnabled(t){return this._plugins._cache.filter(i=>i.plugin.id===t).length===1}_updateHoverStyles(t,i,r){let s=this.options.hover,o=(c,u)=>c.filter(f=>!u.some(m=>f.datasetIndex===m.datasetIndex&&f.index===m.index)),a=o(i,t),l=r?t:o(t,i);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(t,i){let r={event:t,replay:i,cancelable:!0,inChartArea:this.isPointInArea(t)},s=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;let o=this._handleEvent(t,i,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(o||r.changed)&&this.render(),this}_handleEvent(t,i,r){let{_active:s=[],options:o}=this,a=i,l=this._getActiveElements(t,s,r,a),c=iS(t),u=BF(t,this._lastEvent,r,c);r&&(this._lastEvent=null,gt(o.onHover,[t,l,this],this),c&&gt(o.onClick,[t,l,this],this));let f=!Iu(l,s);return(f||i)&&(this._active=l,this._updateHoverStyles(l,s,i)),this._lastEvent=u,f}_getActiveElements(t,i,r,s){if(t.type==="mouseout")return[];if(!r)return i;let o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,s)}}return n})();function nE(){return it(Uu.instances,n=>n._plugins.invalidate())}function VF(n,e,t){let{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=e,c=r/a;n.beginPath(),n.arc(s,o,a,i-c,t+c),l>r?(c=r/l,n.arc(s,o,l,t+c,i-c,!0)):n.arc(s,o,r,t+Bt,i-Bt),n.closePath(),n.clip()}function $F(n){return ef(n,["outerStart","outerEnd","innerStart","innerEnd"])}function jF(n,e,t,i){let r=$F(n.options.borderRadius),s=(t-e)/2,o=Math.min(s,i*e/2),a=l=>{let c=(t-Math.min(s,l))*i/2;return en(l,0,Math.min(s,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:en(r.innerStart,0,o),innerEnd:en(r.innerEnd,0,o)}}function fl(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function vf(n,e,t,i,r,s){let{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,f=Math.max(e.outerRadius+i+t-c,0),m=u>0?u+i+t+c:0,v=0,b=r-l;if(i){let re=u>0?u-i:0,ye=f>0?f-i:0,ne=(re+ye)/2,ot=ne!==0?b*ne/(ne+i):b;v=(b-ot)/2}let w=Math.max(.001,b*f-t/Et)/f,y=(b-w)/2,k=l+y+v,I=r-y-v,{outerStart:V,outerEnd:$,innerStart:B,innerEnd:E}=jF(e,m,f,I-k),T=f-V,N=f-$,j=k+V/T,H=I-$/N,G=m+B,me=m+E,Ze=k+B/G,xt=I-E/me;if(n.beginPath(),s){let re=(j+H)/2;if(n.arc(o,a,f,j,re),n.arc(o,a,f,re,H),$>0){let he=fl(N,H,o,a);n.arc(he.x,he.y,$,H,I+Bt)}let ye=fl(me,I,o,a);if(n.lineTo(ye.x,ye.y),E>0){let he=fl(me,xt,o,a);n.arc(he.x,he.y,E,I+Bt,xt+Math.PI)}let ne=(I-E/m+(k+B/m))/2;if(n.arc(o,a,m,I-E/m,ne,!0),n.arc(o,a,m,ne,k+B/m,!0),B>0){let he=fl(G,Ze,o,a);n.arc(he.x,he.y,B,Ze+Math.PI,k-Bt)}let ot=fl(T,k,o,a);if(n.lineTo(ot.x,ot.y),V>0){let he=fl(T,j,o,a);n.arc(he.x,he.y,V,k-Bt,j)}}else{n.moveTo(o,a);let re=Math.cos(j)*f+o,ye=Math.sin(j)*f+a;n.lineTo(re,ye);let ne=Math.cos(H)*f+o,ot=Math.sin(H)*f+a;n.lineTo(ne,ot)}n.closePath()}function qF(n,e,t,i,r){let{fullCircles:s,startAngle:o,circumference:a}=e,l=e.endAngle;if(s){vf(n,e,t,i,l,r);for(let c=0;c<s;++c)n.fill();isNaN(a)||(l=o+(a%Ct||Ct))}return vf(n,e,t,i,l,r),n.fill(),l}function HF(n,e,t,i,r){let{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:f,borderDashOffset:m}=l,v=l.borderAlign==="inner";if(!c)return;n.setLineDash(f||[]),n.lineDashOffset=m,v?(n.lineWidth=c*2,n.lineJoin=u||"round"):(n.lineWidth=c,n.lineJoin=u||"bevel");let b=e.endAngle;if(s){vf(n,e,t,i,b,r);for(let w=0;w<s;++w)n.stroke();isNaN(a)||(b=o+(a%Ct||Ct))}v&&VF(n,e,b),s||(vf(n,e,t,i,b,r),n.stroke())}var Ox=class extends Gi{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){let r=this.getProps(["x","y"],i),{angle:s,distance:o}=Wv(r,{x:e,y:t}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),m=(this.options.spacing+this.options.borderWidth)/2,v=Me(f,l-a),b=ul(s,a,l)&&a!==l,w=v>=Ct||b,y=wr(o,c+m,u+m);return w&&y}getCenterPoint(e){let{x:t,y:i,startAngle:r,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:c}=this.options,u=(r+s)/2,f=(o+a+c+l)/2;return{x:t+Math.cos(u)*f,y:i+Math.sin(u)*f}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:t,circumference:i}=this,r=(t.offset||0)/4,s=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=i>Ct?Math.floor(i/Ct):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);let l=1-Math.sin(Math.min(Et,i||0)),c=r*l;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,qF(e,this,c,s,o),HF(e,this,c,s,o),e.restore()}};function $E(n,e,t=e){n.lineCap=Me(t.borderCapStyle,e.borderCapStyle),n.setLineDash(Me(t.borderDash,e.borderDash)),n.lineDashOffset=Me(t.borderDashOffset,e.borderDashOffset),n.lineJoin=Me(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Me(t.borderWidth,e.borderWidth),n.strokeStyle=Me(t.borderColor,e.borderColor)}function UF(n,e,t){n.lineTo(t.x,t.y)}function zF(n){return n.stepped?mS:n.tension||n.cubicInterpolationMode==="monotone"?gS:UF}function jE(n,e,t={}){let i=n.length,{start:r=0,end:s=i-1}=t,{start:o,end:a}=e,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function WF(n,e,t,i){let{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:c}=jE(r,t,i),u=zF(s),{move:f=!0,reverse:m}=i||{},v,b,w;for(v=0;v<=c;++v)b=r[(a+(m?c-v:v))%o],!b.skip&&(f?(n.moveTo(b.x,b.y),f=!1):u(n,w,b,m,s.stepped),w=b);return l&&(b=r[(a+(m?c:0))%o],u(n,w,b,m,s.stepped)),!!l}function QF(n,e,t,i){let r=e.points,{count:s,start:o,ilen:a}=jE(r,t,i),{move:l=!0,reverse:c}=i||{},u=0,f=0,m,v,b,w,y,k,I=$=>(o+(c?a-$:$))%s,V=()=>{w!==y&&(n.lineTo(u,y),n.lineTo(u,w),n.lineTo(u,k))};for(l&&(v=r[I(0)],n.moveTo(v.x,v.y)),m=0;m<=a;++m){if(v=r[I(m)],v.skip)continue;let $=v.x,B=v.y,E=$|0;E===b?(B<w?w=B:B>y&&(y=B),u=(f*u+$)/++f):(V(),n.lineTo($,B),b=E,f=0,w=y=B),k=B}V()}function Rx(n){let e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?QF:WF}function GF(n){return n.stepped?CS:n.tension||n.cubicInterpolationMode==="monotone"?kS:Ms}function YF(n,e,t,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,i)&&r.closePath()),$E(n,e.options),n.stroke(r)}function XF(n,e,t,i){let{segments:r,options:s}=e,o=Rx(e);for(let a of r)$E(n,s,a.style),n.beginPath(),o(n,e,a,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}var ZF=typeof Path2D=="function";function KF(n,e,t,i){ZF&&!e.options.segment?YF(n,e,t,i):XF(n,e,t,i)}var yf=(()=>{class n extends Gi{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,i){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let s=r.spanGaps?this._loop:this._fullLoop;wS(this._points,r,t,s,i),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=AS(this,this.options.segment))}first(){let t=this.segments,i=this.points;return t.length&&i[t[0].start]}last(){let t=this.segments,i=this.points,r=t.length;return r&&i[t[r-1].end]}interpolate(t,i){let r=this.options,s=t[i],o=this.points,a=hx(this,{property:i,start:s,end:s});if(!a.length)return;let l=[],c=GF(r),u,f;for(u=0,f=a.length;u<f;++u){let{start:m,end:v}=a[u],b=o[m],w=o[v];if(b===w){l.push(b);continue}let y=Math.abs((s-b[i])/(w[i]-b[i])),k=c(b,w,y,r.stepped);k[i]=t[i],l.push(k)}return l.length===1?l[0]:l}pathSegment(t,i,r){return Rx(this)(t,this,i,r)}path(t,i,r){let s=this.segments,o=Rx(this),a=this._loop;i=i||0,r=r||this.points.length-i;for(let l of s)a&=o(t,this,l,{start:i,end:i+r-1});return!!a}draw(t,i,r,s){let o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),KF(t,this,r,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n})();function iE(n,e,t,i){let r=n.options,{[t]:s}=n.getProps([t],i);return Math.abs(e-s)<r.radius+r.hitRadius}var JF=(()=>{class n extends Gi{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,r){let s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(t-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,i){return iE(this,t,"x",i)}inYRange(t,i){return iE(this,t,"y",i)}getCenterPoint(t){let{x:i,y:r}=this.getProps(["x","y"],t);return{x:i,y:r}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);let r=i&&t.borderWidth||0;return(i+r)*2}draw(t,i){let r=this.options;this.skip||r.radius<.1||!yr(this,i,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,Jh(t,r,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}}return n})();function qE(n,e){let{x:t,y:i,base:r,width:s,height:o}=n.getProps(["x","y","base","width","height"],e),a,l,c,u,f;return n.horizontal?(f=o/2,a=Math.min(t,r),l=Math.max(t,r),c=i-f,u=i+f):(f=s/2,a=t-f,l=t+f,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function Rs(n,e,t,i){return n?0:en(e,t,i)}function eB(n,e,t){let i=n.options.borderWidth,r=n.borderSkipped,s=ix(i);return{t:Rs(r.top,s.top,0,t),r:Rs(r.right,s.right,0,e),b:Rs(r.bottom,s.bottom,0,t),l:Rs(r.left,s.left,0,e)}}function tB(n,e,t){let{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=Ls(r),o=Math.min(e,t),a=n.borderSkipped,l=i||Ve(r);return{topLeft:Rs(!l||a.top||a.left,s.topLeft,0,o),topRight:Rs(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Rs(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Rs(!l||a.bottom||a.right,s.bottomRight,0,o)}}function nB(n){let e=qE(n),t=e.right-e.left,i=e.bottom-e.top,r=eB(n,t/2,i/2),s=tB(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function wx(n,e,t,i){let r=e===null,s=t===null,a=n&&!(r&&s)&&qE(n,i);return a&&(r||wr(e,a.left,a.right))&&(s||wr(t,a.top,a.bottom))}function iB(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function rB(n,e){n.rect(e.x,e.y,e.w,e.h)}function Sx(n,e,t={}){let i=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0,s=(n.x+n.w!==t.x+t.w?e:0)-i,o=(n.y+n.h!==t.y+t.h?e:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+s,h:n.h+o,radius:n.radius}}var Fx=class extends Gi{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=nB(this),a=iB(o.radius)?pl:rB;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,Sx(o,t,s)),e.clip(),a(e,Sx(s,-t,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,Sx(s,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return wx(this,e,t,i)}inXRange(e,t){return wx(this,e,null,t)}inYRange(e,t){return wx(this,null,e,t)}getCenterPoint(e){let{x:t,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+r)/2:t,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}},sB=Object.freeze({__proto__:null,ArcElement:Ox,BarElement:Fx,LineElement:yf,PointElement:JF}),Bx=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],rE=Bx.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function HE(n){return Bx[n%Bx.length]}function UE(n){return rE[n%rE.length]}function oB(n,e){return n.borderColor=HE(e),n.backgroundColor=UE(e),++e}function aB(n,e){return n.backgroundColor=n.data.map(()=>HE(e++)),e}function lB(n,e){return n.backgroundColor=n.data.map(()=>UE(e++)),e}function cB(n){let e=0;return(t,i)=>{let r=n.getDatasetMeta(i).controller;r instanceof Wx?e=aB(t,e):r instanceof PE?e=lB(t,e):r&&(e=oB(t,e))}}function sE(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function uB(n){return n&&(n.borderColor||n.backgroundColor)}function dB(){return vt.borderColor!=="rgba(0,0,0,0.1)"||vt.backgroundColor!=="rgba(0,0,0,0.1)"}var pB={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;let{data:{datasets:i},options:r}=n.config,{elements:s}=r,o=sE(i)||uB(r)||s&&sE(s)||dB();if(!t.forceOverride&&o)return;let a=cB(n);i.forEach(a)}};function hB(n,e,t,i,r){let s=r.samples||i;if(s>=t)return n.slice(e,e+t);let o=[],a=(t-2)/(s-2),l=0,c=e+t-1,u=e,f,m,v,b,w;for(o[l++]=n[u],f=0;f<s-2;f++){let y=0,k=0,I,V=Math.floor((f+1)*a)+1+e,$=Math.min(Math.floor((f+2)*a)+1,t)+e,B=$-V;for(I=V;I<$;I++)y+=n[I].x,k+=n[I].y;y/=B,k/=B;let E=Math.floor(f*a)+1+e,T=Math.min(Math.floor((f+1)*a)+1,t)+e,{x:N,y:j}=n[u];for(v=b=-1,I=E;I<T;I++)b=.5*Math.abs((N-y)*(n[I].y-j)-(N-n[I].x)*(k-j)),b>v&&(v=b,m=n[I],w=I);o[l++]=m,u=w}return o[l++]=n[c],o}function fB(n,e,t,i){let r=0,s=0,o,a,l,c,u,f,m,v,b,w,y=[],k=e+t-1,I=n[e].x,$=n[k].x-I;for(o=e;o<e+t;++o){a=n[o],l=(a.x-I)/$*i,c=a.y;let B=l|0;if(B===u)c<b?(b=c,f=o):c>w&&(w=c,m=o),r=(s*r+a.x)/++s;else{let E=o-1;if(!Re(f)&&!Re(m)){let T=Math.min(f,m),N=Math.max(f,m);T!==v&&T!==E&&y.push(_e(L({},n[T]),{x:r})),N!==v&&N!==E&&y.push(_e(L({},n[N]),{x:r}))}o>0&&E!==v&&y.push(n[E]),y.push(a),u=B,s=0,b=w=c,f=m=v=o}}return y}function zE(n){if(n._decimated){let e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function oE(n){n.data.datasets.forEach(e=>{zE(e)})}function mB(n,e){let t=e.length,i=0,r,{iScale:s}=n,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(i=en(br(e,s.axis,o).lo,0,t-1)),c?r=en(br(e,s.axis,a).hi+1,i,t)-i:r=t-i,{start:i,count:r}}var gB={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){oE(n);return}let i=n.width;n.data.datasets.forEach((r,s)=>{let{_data:o,indexAxis:a}=r,l=n.getDatasetMeta(s),c=o||r.data;if(hl([a,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let u=n.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||n.options.parsing)return;let{start:f,count:m}=mB(l,c),v=t.threshold||4*i;if(m<=v){zE(r);return}Re(o)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(w){this._data=w}}));let b;switch(t.algorithm){case"lttb":b=hB(c,f,m,i,t);break;case"min-max":b=fB(c,f,m,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}r._decimated=b})},destroy(n){oE(n)}};function vB(n,e,t){let i=n.segments,r=n.points,s=e.points,o=[];for(let a of i){let{start:l,end:c}=a;c=Qx(l,c,r);let u=Vx(t,r[l],r[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:r[l],end:r[c]});continue}let f=hx(e,u);for(let m of f){let v=Vx(t,s[m.start],s[m.end],m.loop),b=px(a,r,v);for(let w of b)o.push({source:w,target:m,start:{[t]:aE(u,v,"start",Math.max)},end:{[t]:aE(u,v,"end",Math.min)}})}}return o}function Vx(n,e,t,i){if(i)return;let r=e[n],s=t[n];return n==="angle"&&(r=Yn(r),s=Yn(s)),{property:n,start:r,end:s}}function xB(n,e){let{x:t=null,y:i=null}=n||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=Qx(o,a,r);let l=r[o],c=r[a];i!==null?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):t!==null&&(s.push({x:t,y:l.y}),s.push({x:t,y:c.y}))}),s}function Qx(n,e,t){for(;e>n;e--){let i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function aE(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function WE(n,e){let t=[],i=!1;return St(n)?(i=!0,t=n):t=xB(n,e),t.length?new yf({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function lE(n){return n&&n.fill!==!1}function bB(n,e,t){let r=n[e].fill,s=[e],o;if(!t)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!Ot(r))return r;if(o=n[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function yB(n,e,t){let i=EB(n);if(Ve(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Ot(r)&&Math.floor(r)===r?_B(i[0],e,r,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function _B(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function wB(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:Ve(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function SB(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:Ve(n)?i=n.value:i=e.getBaseValue(),i}function EB(n){let e=n.options,t=e.fill,i=Me(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function CB(n){let{scale:e,index:t,line:i}=n,r=[],s=i.segments,o=i.points,a=kB(e,t);a.push(WE({x:null,y:e.bottom},i));for(let l=0;l<s.length;l++){let c=s[l];for(let u=c.start;u<=c.end;u++)TB(r,o[u],a)}return new yf({points:r,options:{}})}function kB(n,e){let t=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){let s=i[r];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}function TB(n,e,t){let i=[];for(let r=0;r<t.length;r++){let s=t[r],{first:o,last:a,point:l}=AB(s,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(n.push(l),!a)break}}n.push(...i)}function AB(n,e,t){let i=n.interpolate(e,t);if(!i)return{};let r=i[t],s=n.segments,o=n.points,a=!1,l=!1;for(let c=0;c<s.length;c++){let u=s[c],f=o[u.start][t],m=o[u.end][t];if(wr(r,f,m)){a=r===f,l=r===m;break}}return{first:a,last:l,point:i}}var xf=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){let{x:r,y:s,radius:o}=this;return t=t||{start:0,end:Ct},e.arc(r,s,o,t.end,t.start,!0),!i.bounds}interpolate(e){let{x:t,y:i,radius:r}=this,s=e.angle;return{x:t+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}};function IB(n){let{chart:e,fill:t,line:i}=n;if(Ot(t))return MB(e,t);if(t==="stack")return CB(n);if(t==="shape")return!0;let r=PB(n);return r instanceof xf?r:WE(r,i)}function MB(n,e){let t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function PB(n){return(n.scale||{}).getPointPositionForValue?NB(n):DB(n)}function DB(n){let{scale:e={},fill:t}=n,i=wB(t,e);if(Ot(i)){let r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function NB(n){let{scale:e,fill:t}=n,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=SB(t,e,s),a=[];if(i.grid.circular){let l=e.getPointPositionForValue(0,s);return new xf({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,o));return a}function Ex(n,e,t){let i=IB(e),{chart:r,index:s,line:o,scale:a,axis:l}=e,c=o.options,u=c.fill,f=c.backgroundColor,{above:m=f,below:v=f}=u||{},b=r.getDatasetMeta(s),w=fx(r,b);i&&o.points.length&&(Pu(n,t),LB(n,{line:o,target:i,above:m,below:v,area:t,scale:a,axis:l,clip:w}),Du(n))}function LB(n,e){let{line:t,target:i,above:r,below:s,area:o,scale:a,clip:l}=e,c=t._loop?"angle":e.axis;n.save(),c==="x"&&s!==r&&(cE(n,i,o.top),uE(n,{line:t,target:i,color:r,scale:a,property:c,clip:l}),n.restore(),n.save(),cE(n,i,o.bottom)),uE(n,{line:t,target:i,color:s,scale:a,property:c,clip:l}),n.restore()}function cE(n,e,t){let{segments:i,points:r}=e,s=!0,o=!1;n.beginPath();for(let a of i){let{start:l,end:c}=a,u=r[l],f=r[Qx(l,c,r)];s?(n.moveTo(u.x,u.y),s=!1):(n.lineTo(u.x,t),n.lineTo(u.x,u.y)),o=!!e.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(f.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function uE(n,e){let{line:t,target:i,property:r,color:s,scale:o,clip:a}=e,l=vB(t,i,r);for(let{source:c,target:u,start:f,end:m}of l){let{style:{backgroundColor:v=s}={}}=c,b=i!==!0;n.save(),n.fillStyle=v,OB(n,o,a,b&&Vx(r,f,m)),n.beginPath();let w=!!t.pathSegment(n,c),y;if(b){w?n.closePath():dE(n,i,m,r);let k=!!i.pathSegment(n,u,{move:w,reverse:!0});y=w&&k,y||dE(n,i,f,r)}n.closePath(),n.fill(y?"evenodd":"nonzero"),n.restore()}}function OB(n,e,t,i){let r=e.chart.chartArea,{property:s,start:o,end:a}=i||{};if(s==="x"||s==="y"){let l,c,u,f;s==="x"?(l=o,c=r.top,u=a,f=r.bottom):(l=r.left,c=o,u=r.right,f=a),n.beginPath(),t&&(l=Math.max(l,t.left),u=Math.min(u,t.right),c=Math.max(c,t.top),f=Math.min(f,t.bottom)),n.rect(l,c,u-l,f-c),n.clip()}}function dE(n,e,t,i){let r=e.interpolate(t,i);r&&n.lineTo(r.x,r.y)}var RB={id:"filler",afterDatasetsUpdate(n,e,t){let i=(n.data.datasets||[]).length,r=[],s,o,a,l;for(o=0;o<i;++o)s=n.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof yf&&(l={visible:n.isDatasetVisible(o),index:o,fill:yB(a,o,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=bB(r,o,t.propagate))},beforeDraw(n,e,t){let i=t.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=r.length-1;o>=0;--o){let a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&Ex(n.ctx,a,s))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;let i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){let s=i[r].$filler;lE(s)&&Ex(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){let i=e.meta.$filler;!lE(i)||t.drawTime!=="beforeDatasetDraw"||Ex(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},pE=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},FB=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index,bf=class extends Gi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},t=gt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}let i=e.labels,r=Wt(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=pE(i,s),c,u;t.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){let{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a,f=e;s.textAlign="left",s.textBaseline="middle";let m=-1,v=-u;return this.legendItems.forEach((b,w)=>{let y=i+t/2+s.measureText(b.text).width;(w===0||c[c.length-1]+y+2*a>o)&&(f+=u,c[c.length-(w>0?0:1)]=0,v+=u,m++),l[w]={left:0,top:v,row:m,width:y,height:r},c[c.length-1]+=y+a}),f}_fitCols(e,t,i,r){let{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e,f=a,m=0,v=0,b=0,w=0;return this.legendItems.forEach((y,k)=>{let{itemWidth:I,itemHeight:V}=BB(i,t,s,y,r);k>0&&v+V+2*a>u&&(f+=m+a,c.push({width:m,height:v}),b+=m+a,w++,m=v=0),l[k]={left:b,top:v,col:w,width:I,height:V},m=Math.max(m,I),v+=V+a}),f+=m,c.push({width:m,height:v}),f}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:s}}=this,o=Ro(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=xn(i,this.left+r,this.right-this.lineWidths[a]);for(let c of t)a!==c.row&&(a=c.row,l=xn(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=xn(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(let c of t)c.col!==a&&(a=c.col,l=xn(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;Pu(e,this),this._draw(),Du(e)}}_draw(){let{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,a=vt.color,l=Ro(e.rtl,this.left,this.width),c=Wt(o.font),{padding:u}=o,f=c.size,m=f/2,v;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;let{boxWidth:b,boxHeight:w,itemHeight:y}=pE(o,f),k=function(E,T,N){if(isNaN(b)||b<=0||isNaN(w)||w<0)return;r.save();let j=Me(N.lineWidth,1);if(r.fillStyle=Me(N.fillStyle,a),r.lineCap=Me(N.lineCap,"butt"),r.lineDashOffset=Me(N.lineDashOffset,0),r.lineJoin=Me(N.lineJoin,"miter"),r.lineWidth=j,r.strokeStyle=Me(N.strokeStyle,a),r.setLineDash(Me(N.lineDash,[])),o.usePointStyle){let H={radius:w*Math.SQRT2/2,pointStyle:N.pointStyle,rotation:N.rotation,borderWidth:j},G=l.xPlus(E,b/2),me=T+m;nx(r,H,G,me,o.pointStyleWidth&&b)}else{let H=T+Math.max((f-w)/2,0),G=l.leftForLtr(E,b),me=Ls(N.borderRadius);r.beginPath(),Object.values(me).some(Ze=>Ze!==0)?pl(r,{x:G,y:H,w:b,h:w,radius:me}):r.rect(G,H,b,w),r.fill(),j!==0&&r.stroke()}r.restore()},I=function(E,T,N){Ns(r,N.text,E,T+y/2,c,{strikethrough:N.hidden,textAlign:l.textAlign(N.textAlign)})},V=this.isHorizontal(),$=this._computeTitleHeight();V?v={x:xn(s,this.left+u,this.right-i[0]),y:this.top+u+$,line:0}:v={x:this.left+u,y:xn(s,this.top+$+u,this.bottom-t[0].height),line:0},ux(this.ctx,e.textDirection);let B=y+u;this.legendItems.forEach((E,T)=>{r.strokeStyle=E.fontColor,r.fillStyle=E.fontColor;let N=r.measureText(E.text).width,j=l.textAlign(E.textAlign||(E.textAlign=o.textAlign)),H=b+m+N,G=v.x,me=v.y;l.setWidth(this.width),V?T>0&&G+H+u>this.right&&(me=v.y+=B,v.line++,G=v.x=xn(s,this.left+u,this.right-i[v.line])):T>0&&me+B>this.bottom&&(G=v.x=G+t[v.line].width+u,v.line++,me=v.y=xn(s,this.top+$+u,this.bottom-t[v.line].height));let Ze=l.x(G);if(k(Ze,me,E),G=pS(j,G+b+m,V?G+H:this.right,e.rtl),I(l.x(G),me,E),V)v.x+=H+u;else if(typeof E.text!="string"){let xt=c.lineHeight;v.y+=QE(E,xt)+u}else v.y+=B}),dx(this.ctx,e.textDirection)}drawTitle(){let e=this.options,t=e.title,i=Wt(t.font),r=bn(t.padding);if(!t.display)return;let s=Ro(e.rtl,this.left,this.width),o=this.ctx,a=t.position,l=i.size/2,c=r.top+l,u,f=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),u=this.top+c,f=xn(e.align,f,this.right-m);else{let b=this.columnSizes.reduce((w,y)=>Math.max(w,y.height),0);u=c+xn(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}let v=xn(a,f,f+m);o.textAlign=s.textAlign(Zh(a)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=i.string,Ns(o,t.text,v,u,i)}_computeTitleHeight(){let e=this.options.title,t=Wt(e.font),i=bn(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,s;if(wr(e,this.left,this.right)&&wr(t,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],wr(e,r.left,r.left+r.width)&&wr(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){let t=this.options;if(!jB(e.type,t))return;let i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let r=this._hoveredItem,s=FB(r,i);r&&!s&&gt(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&gt(t.onHover,[e,i,this],this)}else i&&gt(t.onClick,[e,i,this],this)}};function BB(n,e,t,i,r){let s=VB(i,n,e,t),o=$B(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function VB(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+i.measureText(r).width}function $B(n,e,t){let i=n;return typeof e.text!="string"&&(i=QE(e,t)),i}function QE(n,e){let t=n.text?n.text.length:0;return e*t}function jB(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var qB={id:"legend",_element:bf,start(n,e,t){let i=n.legend=new bf({ctx:n.ctx,options:t,chart:n});An.configure(n,i,t),An.addBox(n,i)},stop(n){An.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){let i=n.legend;An.configure(n,i,t),i.options=t},afterUpdate(n){let e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){let i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){let e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{let c=l.controller.getStyle(t?0:void 0),u=bn(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}},ju=class extends Gi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;let r=St(i.text)?i.text.length:1;this._padding=bn(i.padding);let s=r*Wt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:t,left:i,bottom:r,right:s,options:o}=this,a=o.align,l=0,c,u,f;return this.isHorizontal()?(u=xn(a,i,s),f=t+e,c=s-i):(o.position==="left"?(u=i+e,f=xn(a,r,t),l=Et*-.5):(u=s-e,f=xn(a,t,r),l=Et*.5),c=r-t),{titleX:u,titleY:f,maxWidth:c,rotation:l}}draw(){let e=this.ctx,t=this.options;if(!t.display)return;let i=Wt(t.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Ns(e,t.text,0,0,i,{color:t.color,maxWidth:l,rotation:c,textAlign:Zh(t.align),textBaseline:"middle",translation:[o,a]})}};function HB(n,e){let t=new ju({ctx:n.ctx,options:e,chart:n});An.configure(n,t,e),An.addBox(n,t),n.titleBlock=t}var UB={id:"title",_element:ju,start(n,e,t){HB(n,t)},stop(n){let e=n.titleBlock;An.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){let i=n.titleBlock;An.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},cf=new WeakMap,zB={id:"subtitle",start(n,e,t){let i=new ju({ctx:n.ctx,options:t,chart:n});An.configure(n,i,t),An.addBox(n,i),cf.set(n,i)},stop(n){An.removeBox(n,cf.get(n)),cf.delete(n)},beforeUpdate(n,e,t){let i=cf.get(n);An.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Vu={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,s=0;for(e=0,t=n.length;e<t;++e){let a=n[e].element;if(a&&a.hasValue()){let l=a.tooltipPosition();i.add(l.x),r+=l.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=n.length;s<o;++s){let l=n[s].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),u=Wh(e,c);u<r&&(r=u,a=l)}}if(a){let l=a.tooltipPosition();t=l.x,i=l.y}return{x:t,y:i}}};function Sr(n,e){return e&&(St(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Gr(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function WB(n,e){let{element:t,datasetIndex:i,index:r}=e,s=n.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:n,label:o,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function hE(n,e){let t=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:o,boxHeight:a}=e,l=Wt(e.bodyFont),c=Wt(e.titleFont),u=Wt(e.footerFont),f=s.length,m=r.length,v=i.length,b=bn(e.padding),w=b.height,y=0,k=i.reduce(($,B)=>$+B.before.length+B.lines.length+B.after.length,0);if(k+=n.beforeBody.length+n.afterBody.length,f&&(w+=f*c.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),k){let $=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;w+=v*$+(k-v)*l.lineHeight+(k-1)*e.bodySpacing}m&&(w+=e.footerMarginTop+m*u.lineHeight+(m-1)*e.footerSpacing);let I=0,V=function($){y=Math.max(y,t.measureText($).width+I)};return t.save(),t.font=c.string,it(n.title,V),t.font=l.string,it(n.beforeBody.concat(n.afterBody),V),I=e.displayColors?o+2+e.boxPadding:0,it(i,$=>{it($.before,V),it($.lines,V),it($.after,V)}),I=0,t.font=u.string,it(n.footer,V),t.restore(),y+=b.width,{width:y,height:w}}function QB(n,e){let{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function GB(n,e,t,i){let{x:r,width:s}=i,o=t.caretSize+t.caretPadding;if(n==="left"&&r+s+o>e.width||n==="right"&&r-s-o<0)return!0}function YB(n,e,t,i){let{x:r,width:s}=t,{width:o,chartArea:{left:a,right:l}}=n,c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),GB(c,n,e,t)&&(c="center"),c}function fE(n,e,t){let i=t.yAlign||e.yAlign||QB(n,t);return{xAlign:t.xAlign||e.xAlign||YB(n,e,t,i),yAlign:i}}function XB(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function ZB(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function mE(n,e,t,i){let{caretSize:r,caretPadding:s,cornerRadius:o}=n,{xAlign:a,yAlign:l}=t,c=r+s,{topLeft:u,topRight:f,bottomLeft:m,bottomRight:v}=Ls(o),b=XB(e,a),w=ZB(e,l,c);return l==="center"?a==="left"?b+=c:a==="right"&&(b-=c):a==="left"?b-=Math.max(u,m)+r:a==="right"&&(b+=Math.max(f,v)+r),{x:en(b,0,i.width-e.width),y:en(w,0,i.height-e.height)}}function uf(n,e,t){let i=bn(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function gE(n){return Sr([],Gr(n))}function KB(n,e,t){return Wr(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function vE(n,e){let t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}var GE={beforeTitle:_r,title(n){if(n.length>0){let e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:_r,beforeBody:_r,beforeLabel:_r,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");let t=n.formattedValue;return Re(t)||(e+=t),e},labelColor(n){let t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){let t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:_r,afterBody:_r,beforeFooter:_r,footer:_r,afterFooter:_r};function Zn(n,e,t,i){let r=n[e].call(t,i);return typeof r>"u"?GE[e].call(t,i):r}var xE=(()=>{class n extends Gi{static positioners=Vu;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let i=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&i.options.animation&&r.animations,o=new ff(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=KB(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,i){let{callbacks:r}=i,s=Zn(r,"beforeTitle",this,t),o=Zn(r,"title",this,t),a=Zn(r,"afterTitle",this,t),l=[];return l=Sr(l,Gr(s)),l=Sr(l,Gr(o)),l=Sr(l,Gr(a)),l}getBeforeBody(t,i){return gE(Zn(i.callbacks,"beforeBody",this,t))}getBody(t,i){let{callbacks:r}=i,s=[];return it(t,o=>{let a={before:[],lines:[],after:[]},l=vE(r,o);Sr(a.before,Gr(Zn(l,"beforeLabel",this,o))),Sr(a.lines,Zn(l,"label",this,o)),Sr(a.after,Gr(Zn(l,"afterLabel",this,o))),s.push(a)}),s}getAfterBody(t,i){return gE(Zn(i.callbacks,"afterBody",this,t))}getFooter(t,i){let{callbacks:r}=i,s=Zn(r,"beforeFooter",this,t),o=Zn(r,"footer",this,t),a=Zn(r,"afterFooter",this,t),l=[];return l=Sr(l,Gr(s)),l=Sr(l,Gr(o)),l=Sr(l,Gr(a)),l}_createItems(t){let i=this._active,r=this.chart.data,s=[],o=[],a=[],l=[],c,u;for(c=0,u=i.length;c<u;++c)l.push(WB(this.chart,i[c]));return t.filter&&(l=l.filter((f,m,v)=>t.filter(f,m,v,r))),t.itemSort&&(l=l.sort((f,m)=>t.itemSort(f,m,r))),it(l,f=>{let m=vE(t.callbacks,f);s.push(Zn(m,"labelColor",this,f)),o.push(Zn(m,"labelPointStyle",this,f)),a.push(Zn(m,"labelTextColor",this,f))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=l,l}update(t,i){let r=this.options.setContext(this.getContext()),s=this._active,o,a=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{let l=Vu[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);let c=this._size=hE(this,r),u=Object.assign({},l,c),f=fE(this.chart,r,u),m=mE(r,u,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,o={opacity:1,x:m.x,y:m.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(t,i,r,s){let o=this.getCaretPosition(t,r,s);i.lineTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineTo(o.x3,o.y3)}getCaretPosition(t,i,r){let{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:c,topRight:u,bottomLeft:f,bottomRight:m}=Ls(l),{x:v,y:b}=t,{width:w,height:y}=i,k,I,V,$,B,E;return o==="center"?(B=b+y/2,s==="left"?(k=v,I=k-a,$=B+a,E=B-a):(k=v+w,I=k+a,$=B-a,E=B+a),V=k):(s==="left"?I=v+Math.max(c,f)+a:s==="right"?I=v+w-Math.max(u,m)-a:I=this.caretX,o==="top"?($=b,B=$-a,k=I-a,V=I+a):($=b+y,B=$+a,k=I+a,V=I-a),E=$),{x1:k,x2:I,x3:V,y1:$,y2:B,y3:E}}drawTitle(t,i,r){let s=this.title,o=s.length,a,l,c;if(o){let u=Ro(r.rtl,this.x,this.width);for(t.x=uf(this,r.titleAlign,r),i.textAlign=u.textAlign(r.titleAlign),i.textBaseline="middle",a=Wt(r.titleFont),l=r.titleSpacing,i.fillStyle=r.titleColor,i.font=a.string,c=0;c<o;++c)i.fillText(s[c],u.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+l,c+1===o&&(t.y+=r.titleMarginBottom-l)}}_drawColorBox(t,i,r,s,o){let a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:u}=o,f=Wt(o.bodyFont),m=uf(this,"left",o),v=s.x(m),b=c<f.lineHeight?(f.lineHeight-c)/2:0,w=i.y+b;if(o.usePointStyle){let y={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},k=s.leftForLtr(v,u)+u/2,I=w+c/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Jh(t,y,k,I),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,Jh(t,y,k,I)}else{t.lineWidth=Ve(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;let y=s.leftForLtr(v,u),k=s.leftForLtr(s.xPlus(v,1),u-2),I=Ls(a.borderRadius);Object.values(I).some(V=>V!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,pl(t,{x:y,y:w,w:u,h:c,radius:I}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),pl(t,{x:k,y:w+1,w:u-2,h:c-2,radius:I}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(y,w,u,c),t.strokeRect(y,w,u,c),t.fillStyle=a.backgroundColor,t.fillRect(k,w+1,u-2,c-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,i,r){let{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:f}=r,m=Wt(r.bodyFont),v=m.lineHeight,b=0,w=Ro(r.rtl,this.x,this.width),y=function(j){i.fillText(j,w.x(t.x+b),t.y+v/2),t.y+=v+o},k=w.textAlign(a),I,V,$,B,E,T,N;for(i.textAlign=a,i.textBaseline="middle",i.font=m.string,t.x=uf(this,k,r),i.fillStyle=r.bodyColor,it(this.beforeBody,y),b=l&&k!=="right"?a==="center"?u/2+f:u+2+f:0,B=0,T=s.length;B<T;++B){for(I=s[B],V=this.labelTextColors[B],i.fillStyle=V,it(I.before,y),$=I.lines,l&&$.length&&(this._drawColorBox(i,t,B,w,r),v=Math.max(m.lineHeight,c)),E=0,N=$.length;E<N;++E)y($[E]),v=m.lineHeight;it(I.after,y)}b=0,v=m.lineHeight,it(this.afterBody,y),t.y-=o}drawFooter(t,i,r){let s=this.footer,o=s.length,a,l;if(o){let c=Ro(r.rtl,this.x,this.width);for(t.x=uf(this,r.footerAlign,r),t.y+=r.footerMarginTop,i.textAlign=c.textAlign(r.footerAlign),i.textBaseline="middle",a=Wt(r.footerFont),i.fillStyle=r.footerColor,i.font=a.string,l=0;l<o;++l)i.fillText(s[l],c.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+r.footerSpacing}}drawBackground(t,i,r,s){let{xAlign:o,yAlign:a}=this,{x:l,y:c}=t,{width:u,height:f}=r,{topLeft:m,topRight:v,bottomLeft:b,bottomRight:w}=Ls(s.cornerRadius);i.fillStyle=s.backgroundColor,i.strokeStyle=s.borderColor,i.lineWidth=s.borderWidth,i.beginPath(),i.moveTo(l+m,c),a==="top"&&this.drawCaret(t,i,r,s),i.lineTo(l+u-v,c),i.quadraticCurveTo(l+u,c,l+u,c+v),a==="center"&&o==="right"&&this.drawCaret(t,i,r,s),i.lineTo(l+u,c+f-w),i.quadraticCurveTo(l+u,c+f,l+u-w,c+f),a==="bottom"&&this.drawCaret(t,i,r,s),i.lineTo(l+b,c+f),i.quadraticCurveTo(l,c+f,l,c+f-b),a==="center"&&o==="left"&&this.drawCaret(t,i,r,s),i.lineTo(l,c+m),i.quadraticCurveTo(l,c,l+m,c),i.closePath(),i.fill(),s.borderWidth>0&&i.stroke()}_updateAnimationTarget(t){let i=this.chart,r=this.$animations,s=r&&r.x,o=r&&r.y;if(s||o){let a=Vu[t.position].call(this,this._active,this._eventPosition);if(!a)return;let l=this._size=hE(this,t),c=Object.assign({},a,this._size),u=fE(i,t,c),f=mE(t,c,u,i);(s._to!==f.x||o._to!==f.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(t){let i=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(i);let s={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let a=bn(i.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&l&&(t.save(),t.globalAlpha=r,this.drawBackground(o,t,s,i),ux(t,i.textDirection),o.y+=a.top,this.drawTitle(o,t,i),this.drawBody(o,t,i),this.drawFooter(o,t,i),dx(t,i.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,i){let r=this._active,s=t.map(({datasetIndex:l,index:c})=>{let u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),o=!Iu(r,s),a=this._positionChanged(s,i);(o||a)&&(this._active=s,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let s=this.options,o=this._active||[],a=this._getActiveElements(t,o,i,r),l=this._positionChanged(a,t),c=i||!Iu(a,o)||l;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,i))),c}_getActiveElements(t,i,r,s){let o=this.options;if(t.type==="mouseout")return[];if(!s)return i.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let a=this.chart.getElementsAtEventForMode(t,o.mode,o,r);return o.reverse&&a.reverse(),a}_positionChanged(t,i){let{caretX:r,caretY:s,options:o}=this,a=Vu[o.position].call(this,t,i);return a!==!1&&(r!==a.x||s!==a.y)}}return n})(),JB={id:"tooltip",_element:xE,positioners:Vu,afterInit(n,e,t){t&&(n.tooltip=new xE({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){let e=n.tooltip;if(e&&e._willRender()){let t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",_e(L({},t),{cancelable:!0}))===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){let t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:GE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},e7=Object.freeze({__proto__:null,Colors:pB,Decimation:gB,Filler:RB,Legend:qB,SubTitle:zB,Title:UB,Tooltip:JB}),t7=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function n7(n,e,t,i){let r=n.indexOf(e);if(r===-1)return t7(n,e,t,i);let s=n.lastIndexOf(e);return r!==s?t:r}var i7=(n,e)=>n===null?null:en(Math.round(n),0,e);function bE(n){let e=this.getLabels();return n>=0&&n<e.length?e[n]:n}var r7=(()=>{class n extends Vo{static id="category";static defaults={ticks:{callback:bE}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let i=this._addedLabels;if(i.length){let r=this.getLabels();for(let{index:s,label:o}of i)r[s]===o&&r.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,i){if(Re(t))return null;let r=this.getLabels();return i=isFinite(i)&&r[i]===t?i:n7(r,t,Me(i,t),this._addedLabels),i7(i,r.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:i}=this.getUserBounds(),{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),i||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){let t=this.min,i=this.max,r=this.options.offset,s=[],o=this.getLabels();o=t===0&&i===o.length-1?o:o.slice(t,i+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=t;a<=i;a++)s.push({value:a});return s}getLabelForValue(t){return bE.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}return n})();function s7(n,e){let t=[],{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:f,includeBounds:m}=n,v=s||1,b=u-1,{min:w,max:y}=e,k=!Re(o),I=!Re(a),V=!Re(c),$=(y-w)/(f+1),B=Hv((y-w)/b/v)*v,E,T,N,j;if(B<1e-14&&!k&&!I)return[{value:w},{value:y}];j=Math.ceil(y/B)-Math.floor(w/B),j>b&&(B=Hv(j*B/b/v)*v),Re(l)||(E=Math.pow(10,l),B=Math.ceil(B*E)/E),r==="ticks"?(T=Math.floor(w/B)*B,N=Math.ceil(y/B)*B):(T=w,N=y),k&&I&&s&&sS((a-o)/s,B/1e3)?(j=Math.round(Math.min((a-o)/B,u)),B=(a-o)/j,T=o,N=a):V?(T=k?o:T,N=I?a:N,j=c-1,B=(N-T)/j):(j=(N-T)/B,cl(j,Math.round(j),B/1e3)?j=Math.round(j):j=Math.ceil(j));let H=Math.max(zv(B),zv(T));E=Math.pow(10,Re(l)?H:l),T=Math.round(T*E)/E,N=Math.round(N*E)/E;let G=0;for(k&&(m&&T!==o?(t.push({value:o}),T<o&&G++,cl(Math.round((T+G*B)*E)/E,o,yE(o,$,n))&&G++):T<o&&G++);G<j;++G){let me=Math.round((T+G*B)*E)/E;if(I&&me>a)break;t.push({value:me})}return I&&m&&N!==a?t.length&&cl(t[t.length-1].value,a,yE(a,$,n))?t[t.length-1].value=a:t.push({value:a}):(!I||N===a)&&t.push({value:N}),t}function yE(n,e,{horizontal:t,minRotation:i}){let r=Di(i),s=(t?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+n).length;return Math.min(e/s,o)}var gl=class extends Vo{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Re(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds(),{min:r,max:s}=this,o=l=>r=t?r:l,a=l=>s=i?s:l;if(e){let l=Qi(r),c=Qi(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(r-l)}this.min=r,this.max=s}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:t,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,t=e.ticks,i=this.getTickLimit();i=Math.max(2,i);let r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,o=s7(r,s);return e.bounds==="ticks"&&Uv(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let e=this.ticks,t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){let r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return dl(e,this.chart.options.locale,this.options.ticks.format)}},$x=class extends gl{static id="linear";static defaults={ticks:{callback:Mu.formatters.numeric}};determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=Ot(e)?e:0,this.max=Ot(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),t=e?this.width:this.height,i=Di(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},qu=n=>Math.floor(Ur(n)),Bo=(n,e)=>Math.pow(10,qu(n)+e);function _E(n){return n/Math.pow(10,qu(n))===1}function wE(n,e,t){let i=Math.pow(10,t),r=Math.floor(n/i);return Math.ceil(e/i)-r}function o7(n,e){let t=e-n,i=qu(t);for(;wE(n,e,i)>10;)i++;for(;wE(n,e,i)<10;)i--;return Math.min(i,qu(n))}function a7(n,{min:e,max:t}){e=Xn(n.min,e);let i=[],r=qu(e),s=o7(e,t),o=s<0?Math.pow(10,Math.abs(s)):1,a=Math.pow(10,s),l=r>s?Math.pow(10,r):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10,f=Math.floor((c-u)/Math.pow(10,s)),m=Xn(n.min,Math.round((l+u+f*Math.pow(10,s))*o)/o);for(;m<t;)i.push({value:m,major:_E(m),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(s++,f=2,o=s>=0?1:o),m=Math.round((l+u+f*Math.pow(10,s))*o)/o;let v=Xn(n.max,m);return i.push({value:v,major:_E(v),significand:f}),i}var jx=class extends Vo{static id="logarithmic";static defaults={ticks:{callback:Mu.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){let i=gl.prototype.parse.apply(this,[e,t]);if(i===0){this._zero=!0;return}return Ot(i)&&i>0?i:null}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=Ot(e)?Math.max(0,e):null,this.max=Ot(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ot(this._userMin)&&(this.min=e===Bo(this.min,0)?Bo(this.min,-1):Bo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),i=this.min,r=this.max,s=a=>i=e?i:a,o=a=>r=t?r:a;i===r&&(i<=0?(s(1),o(10)):(s(Bo(i,-1)),o(Bo(r,1)))),i<=0&&s(Bo(r,-1)),r<=0&&o(Bo(i,1)),this.min=i,this.max=r}buildTicks(){let e=this.options,t={min:this._userMin,max:this._userMax},i=a7(t,this);return e.bounds==="ticks"&&Uv(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":dl(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=Ur(e),this._valueRange=Ur(this.max)-Ur(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ur(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}};function qx(n){let e=n.ticks;if(e.display&&n.display){let t=bn(e.backdropPadding);return Me(e.font&&e.font.size,vt.font.size)+t.height}return 0}function l7(n,e,t){return t=St(t)?t:[t],{w:fS(n,e.string,t),h:t.length*e.lineHeight}}function SE(n,e,t,i,r){return n===i||n===r?{start:e-t/2,end:e+t/2}:n<i||n>r?{start:e-t,end:e}:{start:e,end:e+t}}function c7(n){let e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],r=[],s=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?Et/s:0;for(let l=0;l<s;l++){let c=o.setContext(n.getPointLabelContext(l));r[l]=c.padding;let u=n.getPointPosition(l,n.drawingArea+r[l],a),f=Wt(c.font),m=l7(n.ctx,f,n._pointLabels[l]);i[l]=m;let v=Yn(n.getIndexAngle(l)+a),b=Math.round(Yh(v)),w=SE(b,u.x,m.w,0,180),y=SE(b,u.y,m.h,90,270);u7(t,e,v,w,y)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=h7(n,i,r)}function u7(n,e,t,i,r){let s=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t)),a=0,l=0;i.start<e.l?(a=(e.l-i.start)/s,n.l=Math.min(n.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/s,n.r=Math.max(n.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/o,n.t=Math.min(n.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/o,n.b=Math.max(n.b,e.b+l))}function d7(n,e,t){let i=n.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=t,l=n.getPointPosition(e,i+r+o,s),c=Math.round(Yh(Yn(l.angle+Bt))),u=g7(l.y,a.h,c),f=f7(c),m=m7(l.x,a.w,f);return{visible:!0,x:l.x,y:u,textAlign:f,left:m,top:u,right:m+a.w,bottom:u+a.h}}function p7(n,e){if(!e)return!0;let{left:t,top:i,right:r,bottom:s}=n;return!(yr({x:t,y:i},e)||yr({x:t,y:s},e)||yr({x:r,y:i},e)||yr({x:r,y:s},e))}function h7(n,e,t){let i=[],r=n._pointLabels.length,s=n.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:qx(s)/2,additionalAngle:o?Et/r:0},c;for(let u=0;u<r;u++){l.padding=t[u],l.size=e[u];let f=d7(n,u,l);i.push(f),a==="auto"&&(f.visible=p7(f,c),f.visible&&(c=f))}return i}function f7(n){return n===0||n===180?"center":n<180?"left":"right"}function m7(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function g7(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function v7(n,e,t){let{left:i,top:r,right:s,bottom:o}=t,{backdropColor:a}=e;if(!Re(a)){let l=Ls(e.borderRadius),c=bn(e.backdropPadding);n.fillStyle=a;let u=i-c.left,f=r-c.top,m=s-i+c.width,v=o-r+c.height;Object.values(l).some(b=>b!==0)?(n.beginPath(),pl(n,{x:u,y:f,w:m,h:v,radius:l}),n.fill()):n.fillRect(u,f,m,v)}}function x7(n,e){let{ctx:t,options:{pointLabels:i}}=n;for(let r=e-1;r>=0;r--){let s=n._pointLabelItems[r];if(!s.visible)continue;let o=i.setContext(n.getPointLabelContext(r));v7(t,o,s);let a=Wt(o.font),{x:l,y:c,textAlign:u}=s;Ns(t,n._pointLabels[r],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function YE(n,e,t,i){let{ctx:r}=n;if(t)r.arc(n.xCenter,n.yCenter,e,0,Ct);else{let s=n.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=n.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function b7(n,e,t,i,r){let s=n.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||t<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),YE(n,t,o,i),s.closePath(),s.stroke(),s.restore())}function y7(n,e,t){return Wr(n,{label:t,index:e,type:"pointLabel"})}var Hx=class extends gl{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Mu.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=bn(qx(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!1);this.min=Ot(e)&&!isNaN(e)?e:0,this.max=Ot(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/qx(this.options))}generateTickLabels(e){gl.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{let r=gt(this.options.pointLabels.callback,[t,i],this);return r||r===0?r:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){let e=this.options;e.display&&e.pointLabels.display?c7(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,r))}getIndexAngle(e){let t=Ct/(this._pointLabels.length||1),i=this.options.startAngle||0;return Yn(e*t+Di(i))}getDistanceFromCenterForValue(e){if(Re(e))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Re(e))return NaN;let t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){let t=this._pointLabels||[];if(e>=0&&e<t.length){let i=t[e];return y7(this.getContext(),e,i)}}getPointPosition(e,t,i=0){let r=this.getIndexAngle(e)-Bt+i;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:t,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:t,top:i,right:r,bottom:s}}drawBackground(){let{backgroundColor:e,grid:{circular:t}}=this.options;if(e){let i=this.ctx;i.save(),i.beginPath(),YE(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){let e=this.ctx,t=this.options,{angleLines:i,grid:r,border:s}=t,o=this._pointLabels.length,a,l,c;if(t.pointLabels.display&&x7(this,o),r.display&&this.ticks.forEach((u,f)=>{if(f!==0||f===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);let m=this.getContext(f),v=r.setContext(m),b=s.setContext(m);b7(this,v,l,o,b)}}),i.display){for(e.save(),a=o-1;a>=0;a--){let u=i.setContext(this.getPointLabelContext(a)),{color:f,lineWidth:m}=u;!m||!f||(e.lineWidth=m,e.strokeStyle=f,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;let r=this.getIndexAngle(0),s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!t.reverse)return;let c=i.setContext(this.getContext(l)),u=Wt(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;let f=bn(c.backdropPadding);e.fillRect(-o/2-f.left,-s-u.size/2-f.top,o+f.width,u.size+f.height)}Ns(e,a.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}},_f={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Kn=Object.keys(_f);function EE(n,e){return n-e}function CE(n,e){if(Re(e))return null;let t=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts,o=e;return typeof i=="function"&&(o=i(o)),Ot(o)||(o=typeof i=="string"?t.parse(o,i):t.parse(o)),o===null?null:(r&&(o=r==="week"&&(Oo(s)||s===!0)?t.startOf(o,"isoWeek",s):t.startOf(o,r)),+o)}function kE(n,e,t,i){let r=Kn.length;for(let s=Kn.indexOf(n);s<r-1;++s){let o=_f[Kn[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(a*o.size))<=i)return Kn[s]}return Kn[r-1]}function _7(n,e,t,i,r){for(let s=Kn.length-1;s>=Kn.indexOf(t);s--){let o=Kn[s];if(_f[o].common&&n._adapter.diff(r,i,o)>=e-1)return o}return Kn[t?Kn.indexOf(t):0]}function w7(n){for(let e=Kn.indexOf(n)+1,t=Kn.length;e<t;++e)if(_f[Kn[e]].common)return Kn[e]}function TE(n,e,t){if(!t)n[e]=!0;else if(t.length){let{lo:i,hi:r}=Xh(t,e),s=t[i]>=e?t[i]:t[r];n[s]=!0}}function S7(n,e,t,i){let r=n._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value,a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=t[a],l>=0&&(e[l].major=!0);return e}function AE(n,e,t){let i=[],r={},s=e.length,o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return s===0||!t?i:S7(n,i,r,t)}var Ux=(()=>{class n extends Vo{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,i={}){let r=t.time||(t.time={}),s=this._adapter=new O6._date(t.adapters.date);s.init(i),al(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=i.normalized}parse(t,i){return t===void 0?null:CE(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,i=this._adapter,r=t.time.unit||"day",{min:s,max:o,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!l&&!isNaN(u.max)&&(o=Math.max(o,u.max))}(!a||!l)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=Ot(s)&&!isNaN(s)?s:+i.startOf(Date.now(),r),o=Ot(o)&&!isNaN(o)?o:+i.endOf(Date.now(),r)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){let t=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(i=t[0],r=t[t.length-1]),{min:i,max:r}}buildTicks(){let t=this.options,i=t.time,r=t.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);let o=this.min,a=this.max,l=lS(s,o,a);return this._unit=i.unit||(r.autoSkip?kE(i.minUnit,this.min,this.max,this._getLabelCapacity(o)):_7(this,l.length,i.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:w7(this._unit),this.initOffsets(s),t.reverse&&l.reverse(),AE(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let i=0,r=0,s,o;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?i=1-s:i=(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?r=o:r=(o-this.getDecimalForValue(t[t.length-2]))/2);let a=t.length<3?.5:.25;i=en(i,0,a),r=en(r,0,a),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){let t=this._adapter,i=this.min,r=this.max,s=this.options,o=s.time,a=o.unit||kE(o.minUnit,i,r,this._getLabelCapacity(i)),l=Me(s.ticks.stepSize,1),c=a==="week"?o.isoWeekday:!1,u=Oo(c)||c===!0,f={},m=i,v,b;if(u&&(m=+t.startOf(m,"isoWeek",c)),m=+t.startOf(m,u?"day":a),t.diff(r,i,a)>1e5*l)throw new Error(i+" and "+r+" are too far apart with stepSize of "+l+" "+a);let w=s.ticks.source==="data"&&this.getDataTimestamps();for(v=m,b=0;v<r;v=+t.add(v,l,a),b++)TE(f,v,w);return(v===r||s.bounds==="ticks"||b===1)&&TE(f,v,w),Object.keys(f).sort(EE).map(y=>+y)}getLabelForValue(t){let i=this._adapter,r=this.options.time;return r.tooltipFormat?i.format(t,r.tooltipFormat):i.format(t,r.displayFormats.datetime)}format(t,i){let s=this.options.time.displayFormats,o=this._unit,a=i||s[o];return this._adapter.format(t,a)}_tickFormatFunction(t,i,r,s){let o=this.options,a=o.ticks.callback;if(a)return gt(a,[t,i,r],this);let l=o.time.displayFormats,c=this._unit,u=this._majorUnit,f=c&&l[c],m=u&&l[u],v=r[i],b=u&&m&&v&&v.major;return this._adapter.format(t,s||(b?m:f))}generateTickLabels(t){let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],s.label=this._tickFormatFunction(s.value,i,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let i=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(t){let i=this._offsets,r=this.getDecimalForPixel(t)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){let i=this.options.ticks,r=this.ctx.measureText(t).width,s=Di(this.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:r*o+l*a,h:r*a+l*o}}_getLabelCapacity(t){let i=this.options.time,r=i.displayFormats,s=r[i.unit]||r.millisecond,o=this._tickFormatFunction(t,0,AE(this,[t],this._majorUnit),s),a=this._getLabelSize(o),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],i,r;if(t.length)return t;let s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(i=0,r=s.length;i<r;++i)t=t.concat(s[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],i,r;if(t.length)return t;let s=this.getLabels();for(i=0,r=s.length;i<r;++i)t.push(CE(this,s[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Gv(t.sort(EE))}}return n})();function df(n,e,t){let i=0,r=n.length-1,s,o,a,l;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=br(n,"pos",e)),{pos:s,time:a}=n[i],{pos:o,time:l}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=br(n,"time",e)),{time:s,pos:a}=n[i],{time:o,pos:l}=n[r]);let c=o-s;return c?a+(l-a)*(e-s)/c:a}var zx=class extends Ux{static id="timeseries";static defaults=Ux.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=df(t,this.min),this._tableRange=df(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:t,max:i}=this,r=[],s=[],o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=t&&c<=i&&r.push(c);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],l=r[o-1],c=r[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){let e=this.min,t=this.max,i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(df(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return df(this._table,i*this._tableRange+this._minPos,!0)}},E7=Object.freeze({__proto__:null,CategoryScale:r7,LinearScale:$x,LogarithmicScale:jx,RadialLinearScale:Hx,TimeScale:Ux,TimeSeriesScale:zx}),XE=[L6,sB,e7,E7];var C7=typeof global=="object"&&global&&global.Object===Object&&global,wf=C7;var k7=typeof self=="object"&&self&&self.Object===Object&&self,T7=wf||k7||Function("return this")(),Ni=T7;var A7=Ni.Symbol,vl=A7;var ZE=Object.prototype,I7=ZE.hasOwnProperty,M7=ZE.toString,zu=vl?vl.toStringTag:void 0;function P7(n){var e=I7.call(n,zu),t=n[zu];try{n[zu]=void 0;var i=!0}catch{}var r=M7.call(n);return i&&(e?n[zu]=t:delete n[zu]),r}var KE=P7;var D7=Object.prototype,N7=D7.toString;function L7(n){return N7.call(n)}var JE=L7;var O7="[object Null]",R7="[object Undefined]",eC=vl?vl.toStringTag:void 0;function F7(n){return n==null?n===void 0?R7:O7:eC&&eC in Object(n)?KE(n):JE(n)}var Bs=F7;function B7(n){return n!=null&&typeof n=="object"}var Cr=B7;var V7=Array.isArray,Wu=V7;function $7(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var Jn=$7;function j7(n){return n}var Sf=j7;var q7="[object AsyncFunction]",H7="[object Function]",U7="[object GeneratorFunction]",z7="[object Proxy]";function W7(n){if(!Jn(n))return!1;var e=Bs(n);return e==H7||e==U7||e==q7||e==z7}var xl=W7;var Q7=Ni["__core-js_shared__"],Ef=Q7;var tC=function(){var n=/[^.]+$/.exec(Ef&&Ef.keys&&Ef.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function G7(n){return!!tC&&tC in n}var nC=G7;var Y7=Function.prototype,X7=Y7.toString;function Z7(n){if(n!=null){try{return X7.call(n)}catch{}try{return n+""}catch{}}return""}var iC=Z7;var K7=/[\\^$.*+?()[\]{}|]/g,J7=/^\[object .+?Constructor\]$/,e9=Function.prototype,t9=Object.prototype,n9=e9.toString,i9=t9.hasOwnProperty,r9=RegExp("^"+n9.call(i9).replace(K7,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function s9(n){if(!Jn(n)||nC(n))return!1;var e=xl(n)?r9:J7;return e.test(iC(n))}var rC=s9;function o9(n,e){return n?.[e]}var sC=o9;function a9(n,e){var t=sC(n,e);return rC(t)?t:void 0}var bl=a9;var oC=Object.create,l9=function(){function n(){}return function(e){if(!Jn(e))return{};if(oC)return oC(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}(),aC=l9;function c9(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}var lC=c9;function u9(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e}var cC=u9;var d9=800,p9=16,h9=Date.now;function f9(n){var e=0,t=0;return function(){var i=h9(),r=p9-(i-t);if(t=i,r>0){if(++e>=d9)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var uC=f9;function m9(n){return function(){return n}}var dC=m9;var g9=function(){try{var n=bl(Object,"defineProperty");return n({},"",{}),n}catch{}}(),yl=g9;var v9=yl?function(n,e){return yl(n,"toString",{configurable:!0,enumerable:!1,value:dC(e),writable:!0})}:Sf,pC=v9;var x9=uC(pC),hC=x9;var b9=9007199254740991,y9=/^(?:0|[1-9]\d*)$/;function _9(n,e){var t=typeof n;return e=e??b9,!!e&&(t=="number"||t!="symbol"&&y9.test(n))&&n>-1&&n%1==0&&n<e}var Cf=_9;function w9(n,e,t){e=="__proto__"&&yl?yl(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var _l=w9;function S9(n,e){return n===e||n!==n&&e!==e}var Vs=S9;var E9=Object.prototype,C9=E9.hasOwnProperty;function k9(n,e,t){var i=n[e];(!(C9.call(n,e)&&Vs(i,t))||t===void 0&&!(e in n))&&_l(n,e,t)}var fC=k9;function T9(n,e,t,i){var r=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=i?i(t[a],n[a],a,t,n):void 0;l===void 0&&(l=n[a]),r?_l(t,a,l):fC(t,a,l)}return t}var mC=T9;var gC=Math.max;function A9(n,e,t){return e=gC(e===void 0?n.length-1:e,0),function(){for(var i=arguments,r=-1,s=gC(i.length-e,0),o=Array(s);++r<s;)o[r]=i[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=i[r];return a[e]=t(o),lC(n,this,a)}}var vC=A9;function I9(n,e){return hC(vC(n,e,Sf),n+"")}var xC=I9;var M9=9007199254740991;function P9(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=M9}var kf=P9;function D9(n){return n!=null&&kf(n.length)&&!xl(n)}var wl=D9;function N9(n,e,t){if(!Jn(t))return!1;var i=typeof e;return(i=="number"?wl(t)&&Cf(e,t.length):i=="string"&&e in t)?Vs(t[e],n):!1}var bC=N9;function L9(n){return xC(function(e,t){var i=-1,r=t.length,s=r>1?t[r-1]:void 0,o=r>2?t[2]:void 0;for(s=n.length>3&&typeof s=="function"?(r--,s):void 0,o&&bC(t[0],t[1],o)&&(s=r<3?void 0:s,r=1),e=Object(e);++i<r;){var a=t[i];a&&n(e,a,i,s)}return e})}var yC=L9;var O9=Object.prototype;function R9(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||O9;return n===t}var Tf=R9;function F9(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var _C=F9;var B9="[object Arguments]";function V9(n){return Cr(n)&&Bs(n)==B9}var Gx=V9;var wC=Object.prototype,$9=wC.hasOwnProperty,j9=wC.propertyIsEnumerable,q9=Gx(function(){return arguments}())?Gx:function(n){return Cr(n)&&$9.call(n,"callee")&&!j9.call(n,"callee")},Qu=q9;function H9(){return!1}var SC=H9;var kC=typeof exports=="object"&&exports&&!exports.nodeType&&exports,EC=kC&&typeof module=="object"&&module&&!module.nodeType&&module,U9=EC&&EC.exports===kC,CC=U9?Ni.Buffer:void 0,z9=CC?CC.isBuffer:void 0,W9=z9||SC,Af=W9;var Q9="[object Arguments]",G9="[object Array]",Y9="[object Boolean]",X9="[object Date]",Z9="[object Error]",K9="[object Function]",J9="[object Map]",eV="[object Number]",tV="[object Object]",nV="[object RegExp]",iV="[object Set]",rV="[object String]",sV="[object WeakMap]",oV="[object ArrayBuffer]",aV="[object DataView]",lV="[object Float32Array]",cV="[object Float64Array]",uV="[object Int8Array]",dV="[object Int16Array]",pV="[object Int32Array]",hV="[object Uint8Array]",fV="[object Uint8ClampedArray]",mV="[object Uint16Array]",gV="[object Uint32Array]",Mt={};Mt[lV]=Mt[cV]=Mt[uV]=Mt[dV]=Mt[pV]=Mt[hV]=Mt[fV]=Mt[mV]=Mt[gV]=!0;Mt[Q9]=Mt[G9]=Mt[oV]=Mt[Y9]=Mt[aV]=Mt[X9]=Mt[Z9]=Mt[K9]=Mt[J9]=Mt[eV]=Mt[tV]=Mt[nV]=Mt[iV]=Mt[rV]=Mt[sV]=!1;function vV(n){return Cr(n)&&kf(n.length)&&!!Mt[Bs(n)]}var TC=vV;function xV(n){return function(e){return n(e)}}var AC=xV;var IC=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Gu=IC&&typeof module=="object"&&module&&!module.nodeType&&module,bV=Gu&&Gu.exports===IC,Yx=bV&&wf.process,yV=function(){try{var n=Gu&&Gu.require&&Gu.require("util").types;return n||Yx&&Yx.binding&&Yx.binding("util")}catch{}}(),Xx=yV;var MC=Xx&&Xx.isTypedArray,_V=MC?AC(MC):TC,If=_V;var wV=Object.prototype,SV=wV.hasOwnProperty;function EV(n,e){var t=Wu(n),i=!t&&Qu(n),r=!t&&!i&&Af(n),s=!t&&!i&&!r&&If(n),o=t||i||r||s,a=o?_C(n.length,String):[],l=a.length;for(var c in n)(e||SV.call(n,c))&&!(o&&(c=="length"||r&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Cf(c,l)))&&a.push(c);return a}var PC=EV;function CV(n,e){return function(t){return n(e(t))}}var DC=CV;function kV(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var NC=kV;var TV=Object.prototype,AV=TV.hasOwnProperty;function IV(n){if(!Jn(n))return NC(n);var e=Tf(n),t=[];for(var i in n)i=="constructor"&&(e||!AV.call(n,i))||t.push(i);return t}var LC=IV;function MV(n){return wl(n)?PC(n,!0):LC(n)}var Mf=MV;var PV=bl(Object,"create"),Yr=PV;function DV(){this.__data__=Yr?Yr(null):{},this.size=0}var OC=DV;function NV(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var RC=NV;var LV="__lodash_hash_undefined__",OV=Object.prototype,RV=OV.hasOwnProperty;function FV(n){var e=this.__data__;if(Yr){var t=e[n];return t===LV?void 0:t}return RV.call(e,n)?e[n]:void 0}var FC=FV;var BV=Object.prototype,VV=BV.hasOwnProperty;function $V(n){var e=this.__data__;return Yr?e[n]!==void 0:VV.call(e,n)}var BC=$V;var jV="__lodash_hash_undefined__";function qV(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Yr&&e===void 0?jV:e,this}var VC=qV;function Sl(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Sl.prototype.clear=OC;Sl.prototype.delete=RC;Sl.prototype.get=FC;Sl.prototype.has=BC;Sl.prototype.set=VC;var Zx=Sl;function HV(){this.__data__=[],this.size=0}var $C=HV;function UV(n,e){for(var t=n.length;t--;)if(Vs(n[t][0],e))return t;return-1}var $s=UV;var zV=Array.prototype,WV=zV.splice;function QV(n){var e=this.__data__,t=$s(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():WV.call(e,t,1),--this.size,!0}var jC=QV;function GV(n){var e=this.__data__,t=$s(e,n);return t<0?void 0:e[t][1]}var qC=GV;function YV(n){return $s(this.__data__,n)>-1}var HC=YV;function XV(n,e){var t=this.__data__,i=$s(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}var UC=XV;function El(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}El.prototype.clear=$C;El.prototype.delete=jC;El.prototype.get=qC;El.prototype.has=HC;El.prototype.set=UC;var js=El;var ZV=bl(Ni,"Map"),Pf=ZV;function KV(){this.size=0,this.__data__={hash:new Zx,map:new(Pf||js),string:new Zx}}var zC=KV;function JV(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var WC=JV;function e$(n,e){var t=n.__data__;return WC(e)?t[typeof e=="string"?"string":"hash"]:t.map}var qs=e$;function t$(n){var e=qs(this,n).delete(n);return this.size-=e?1:0,e}var QC=t$;function n$(n){return qs(this,n).get(n)}var GC=n$;function i$(n){return qs(this,n).has(n)}var YC=i$;function r$(n,e){var t=qs(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}var XC=r$;function Cl(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Cl.prototype.clear=zC;Cl.prototype.delete=QC;Cl.prototype.get=GC;Cl.prototype.has=YC;Cl.prototype.set=XC;var ZC=Cl;var s$=DC(Object.getPrototypeOf,Object),Df=s$;var o$="[object Object]",a$=Function.prototype,l$=Object.prototype,KC=a$.toString,c$=l$.hasOwnProperty,u$=KC.call(Object);function d$(n){if(!Cr(n)||Bs(n)!=o$)return!1;var e=Df(n);if(e===null)return!0;var t=c$.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&KC.call(t)==u$}var JC=d$;function p$(){this.__data__=new js,this.size=0}var ek=p$;function h$(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var tk=h$;function f$(n){return this.__data__.get(n)}var nk=f$;function m$(n){return this.__data__.has(n)}var ik=m$;var g$=200;function v$(n,e){var t=this.__data__;if(t instanceof js){var i=t.__data__;if(!Pf||i.length<g$-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new ZC(i)}return t.set(n,e),this.size=t.size,this}var rk=v$;function kl(n){var e=this.__data__=new js(n);this.size=e.size}kl.prototype.clear=ek;kl.prototype.delete=tk;kl.prototype.get=nk;kl.prototype.has=ik;kl.prototype.set=rk;var sk=kl;var ck=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ok=ck&&typeof module=="object"&&module&&!module.nodeType&&module,x$=ok&&ok.exports===ck,ak=x$?Ni.Buffer:void 0,lk=ak?ak.allocUnsafe:void 0;function b$(n,e){if(e)return n.slice();var t=n.length,i=lk?lk(t):new n.constructor(t);return n.copy(i),i}var uk=b$;var y$=Ni.Uint8Array,Kx=y$;function _$(n){var e=new n.constructor(n.byteLength);return new Kx(e).set(new Kx(n)),e}var dk=_$;function w$(n,e){var t=e?dk(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var pk=w$;function S$(n){return typeof n.constructor=="function"&&!Tf(n)?aC(Df(n)):{}}var hk=S$;function E$(n){return function(e,t,i){for(var r=-1,s=Object(e),o=i(e),a=o.length;a--;){var l=o[n?a:++r];if(t(s[l],l,s)===!1)break}return e}}var fk=E$;var C$=fk(),mk=C$;function k$(n,e,t){(t!==void 0&&!Vs(n[e],t)||t===void 0&&!(e in n))&&_l(n,e,t)}var Yu=k$;function T$(n){return Cr(n)&&wl(n)}var gk=T$;function A$(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var Xu=A$;function I$(n){return mC(n,Mf(n))}var vk=I$;function M$(n,e,t,i,r,s,o){var a=Xu(n,t),l=Xu(e,t),c=o.get(l);if(c){Yu(n,t,c);return}var u=s?s(a,l,t+"",n,e,o):void 0,f=u===void 0;if(f){var m=Wu(l),v=!m&&Af(l),b=!m&&!v&&If(l);u=l,m||v||b?Wu(a)?u=a:gk(a)?u=cC(a):v?(f=!1,u=uk(l,!0)):b?(f=!1,u=pk(l,!0)):u=[]:JC(l)||Qu(l)?(u=a,Qu(a)?u=vk(a):(!Jn(a)||xl(a))&&(u=hk(l))):f=!1}f&&(o.set(l,u),r(u,l,i,s,o),o.delete(l)),Yu(n,t,u)}var xk=M$;function bk(n,e,t,i,r){n!==e&&mk(e,function(s,o){if(r||(r=new sk),Jn(s))xk(n,e,o,t,bk,i,r);else{var a=i?i(Xu(n,o),s,o+"",n,e,r):void 0;a===void 0&&(a=s),Yu(n,o,a)}},Mf)}var yk=bk;var P$=yC(function(n,e,t){yk(n,e,t)}),Nf=P$;var D$=(()=>{class n{constructor(){this.colorschemesOptions=new dn(void 0)}setColorschemesOptions(t){this.pColorschemesOptions=t,this.colorschemesOptions.next(t)}getColorschemesOptions(){return this.pColorschemesOptions}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wk=(()=>{class n{constructor(t,i,r){this.zone=i,this.themeService=r,this.type="bar",this.plugins=[],this.chartClick=new Ji,this.chartHover=new Ji,this.subs=[],this.themeOverrides={},this.ctx=t.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(Ku()).subscribe(s=>this.themeChanged(s)))}ngOnChanges(t){let i=["type"],r=Object.getOwnPropertyNames(t);if(r.some(s=>i.includes(s))||r.every(s=>t[s].isFirstChange()))this.render();else{let s=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,s.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,s.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,s.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(t=>t.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new Uu(this.ctx,this.getChartConfiguration()))}update(t){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(t))}hideDataset(t,i){this.chart&&(this.chart.getDatasetMeta(t).hidden=i,this.update())}isDatasetHidden(t){return this.chart?.getDatasetMeta(t)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(t){this.themeOverrides=t,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return Nf({onHover:(t,i)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:t,active:i}))},onClick:(t,i)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:t,active:i}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}}return n.\u0275fac=function(t){return new(t||n)(U(Nl),U(Oi),U(D$))},n.\u0275dir=Gs({type:n,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],standalone:!1,features:[Ws]}),n})(),N$=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],L$={plugins:{colors:{enabled:!1}},datasets:{line:{backgroundColor:n=>Hs(Us(n.datasetIndex),.4),borderColor:n=>Hs(Us(n.datasetIndex),1),pointBackgroundColor:n=>Hs(Us(n.datasetIndex),1),pointBorderColor:"#fff"},bar:{backgroundColor:n=>Hs(Us(n.datasetIndex),.6),borderColor:n=>Hs(Us(n.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:n=>Hs(Us(n.dataIndex),.6),borderColor:"#fff"},get pie(){return this.doughnut},polarArea:{backgroundColor:n=>Hs(Us(n.dataIndex),.6),borderColor:n=>Hs(Us(n.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function Hs(n,e){return"rgba("+n.concat(e).join(",")+")"}function Jx(n,e){return Math.floor(Math.random()*(e-n+1))+n}function O$(){return[Jx(0,255),Jx(0,255),Jx(0,255)]}function Us(n=0){return N$[n]||O$()}var _k=(()=>{class n{constructor(){this.generateColors=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();Uu.register(...XE);var Sk=(()=>{class n{constructor(t){t?.plugins&&Uu.register(...t?.plugins);let i=Nf(t?.generateColors?L$:{},t?.defaults||{});vt.set(i)}static forRoot(t){return{ngModule:n,providers:[{provide:_k,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(ie(_k,8))},n.\u0275mod=es({type:n}),n.\u0275inj=Jr({}),n})();function F$(n,e){n&1&&(d(0,"div",31)(1,"div",32),S(2,"i",33),d(3,"p",34),h(4,"No submissions yet"),p(),d(5,"p",35),h(6,"Chart will appear once students start taking the test"),p()()())}var Lf=class n{constructor(e,t){this.route=e;this.http=t}seriesId="";totalAttempts=0;averageTimeMs=0;barData={labels:[],datasets:[]};barOpts={responsive:!0,plugins:{legend:{display:!1}}};ngOnInit(){this.seriesId=this.route.snapshot.paramMap.get("seriesId")||"",this.http.get(`${ht.apiUrl}/analytics/series/${this.seriesId}`).subscribe({next:e=>{this.totalAttempts=e.totalAttempts,this.averageTimeMs=e.averageTimeMs,this.barData={labels:e.scoreDistribution.map(t=>t._id.toString()),datasets:[{data:e.scoreDistribution.map(t=>t.count)}]}},error:e=>console.error("Failed analytics",e)})}get averageTimeMin(){return(this.averageTimeMs/1e3/60).toFixed(1)}downloadCsv(){let e=`${ht.apiUrl}/analytics/series/${this.seriesId}/attempts.csv`;this.http.get(e,{responseType:"blob",headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`}}).subscribe({next:t=>(0,Ek.saveAs)(t,`series-${this.seriesId}-attempts.csv`),error:t=>alert(t.error?.message||"CSV export failed")})}static \u0275fac=function(t){return new(t||n)(U(cn),U(_t))};static \u0275cmp=pe({type:n,selectors:[["app-series-analytics"]],decls:43,vars:6,consts:[[1,"min-h-screen","bg-gradient-to-br","from-blue-50","to-indigo-100","p-6"],[1,"max-w-6xl","mx-auto"],[1,"bg-gradient-to-r","from-blue-600","to-indigo-600","rounded-t-2xl","px-8","py-6","shadow-lg"],[1,"text-3xl","font-bold","text-white","text-center","flex","items-center","justify-center","gap-3"],[1,"fas","fa-chart-line"],[1,"bg-white","bg-opacity-20","px-3","py-1","rounded","text-blue-100"],[1,"bg-white","rounded-b-2xl","shadow-xl","overflow-hidden"],[1,"p-8"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mb-8"],[1,"bg-gradient-to-r","from-blue-50","to-blue-100","rounded-xl","p-6","border","border-blue-200"],[1,"flex","items-center","justify-between"],[1,"text-blue-600","text-sm","font-semibold","uppercase","tracking-wide"],[1,"text-3xl","font-bold","text-blue-900","mt-2"],[1,"bg-blue-500","p-3","rounded-full"],[1,"fas","fa-users","text-white","text-xl"],[1,"bg-gradient-to-r","from-green-50","to-green-100","rounded-xl","p-6","border","border-green-200"],[1,"text-green-600","text-sm","font-semibold","uppercase","tracking-wide"],[1,"text-3xl","font-bold","text-green-900","mt-2"],[1,"text-lg","text-green-700"],[1,"bg-green-500","p-3","rounded-full"],[1,"fas","fa-clock","text-white","text-xl"],[1,"mb-8"],[1,"inline-flex","items-center","px-6","py-3","bg-gradient-to-r","from-indigo-500","to-purple-500","text-white","font-semibold","rounded-lg","hover:from-indigo-600","hover:to-purple-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","transition-all","duration-200","transform","hover:scale-105","shadow-lg",3,"click"],[1,"fas","fa-download","mr-2"],[1,"bg-gradient-to-r","from-gray-50","to-gray-100","rounded-xl","p-6","border","border-gray-200"],[1,"text-xl","font-bold","text-gray-800","mb-6","flex","items-center"],[1,"fas","fa-chart-bar","mr-3","text-blue-500"],[1,"max-w-4xl","mx-auto"],[1,"bg-white","rounded-lg","p-6","shadow-sm","border","border-gray-200"],["baseChart","","chartType","bar",1,"max-h-96",3,"data","options"],["class","text-center py-12",4,"ngIf"],[1,"text-center","py-12"],[1,"bg-yellow-50","border","border-yellow-200","rounded-lg","p-8","max-w-md","mx-auto"],[1,"fas","fa-chart-bar","text-yellow-400","text-4xl","mb-4"],[1,"text-yellow-800","text-lg","font-medium"],[1,"text-yellow-600","mt-2"]],template:function(t,i){t&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),S(4,"i",4),h(5," Analytics for Series "),d(6,"code",5),h(7),p()()(),d(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"div")(14,"p",11),h(15,"Total Attempts"),p(),d(16,"p",12),h(17),p()(),d(18,"div",13),S(19,"i",14),p()()(),d(20,"div",15)(21,"div",10)(22,"div")(23,"p",16),h(24,"Average Time"),p(),d(25,"p",17),h(26),d(27,"span",18),h(28,"min"),p()()(),d(29,"div",19),S(30,"i",20),p()()()(),d(31,"div",21)(32,"button",22),F("click",function(){return i.downloadCsv()}),S(33,"i",23),h(34," Download Attempts CSV "),p()(),d(35,"div",24)(36,"h3",25),S(37,"i",26),h(38," Score Distribution "),p(),d(39,"div",27)(40,"div",28),S(41,"canvas",29),p()(),O(42,F$,7,0,"div",30),p()()()()()),t&2&&(g(7),Q(i.seriesId),g(10),Q(i.totalAttempts),g(9),z("",i.averageTimeMin," "),g(15),_("data",i.barData)("options",i.barOpts),g(),_("ngIf",!(i.barData.labels!=null&&i.barData.labels.length)))},dependencies:[ge,Ee,Sk,wk],encapsulation:2})};var B$=(n,e,t)=>({"bg-red-100 text-red-800":n,"bg-yellow-100 text-yellow-800":e,"bg-green-100 text-green-800":t});function V$(n,e){if(n&1&&(d(0,"option",51),h(1),p()),n&2){let t=e.$implicit;_("value",t),g(),Q(t)}}function $$(n,e){if(n&1&&(d(0,"option",51),h(1),p()),n&2){let t=e.$implicit;_("value",t),g(),Q(t)}}function j$(n,e){if(n&1&&(d(0,"option",51),h(1),p()),n&2){let t=e.$implicit;_("value",t),g(),Q(t)}}function q$(n,e){if(n&1&&(d(0,"option",51),h(1),p()),n&2){let t=e.$implicit,i=D();_("value",i.getIdValue(t._id)),g(),Q(t.name)}}function H$(n,e){if(n&1&&(d(0,"option",51),h(1),p()),n&2){let t=e.$implicit,i=D();_("value",i.getIdValue(t._id)),g(),Q(t.name)}}function U$(n,e){if(n&1&&(d(0,"option",51),h(1),p()),n&2){let t=e.$implicit,i=D();_("value",i.getIdValue(t._id)),g(),Q(t.name)}}function z$(n,e){if(n&1&&(d(0,"option",51),h(1),p()),n&2){let t=e.$implicit,i=D();_("value",i.getIdValue(t._id)),g(),Q(t.name)}}function W$(n,e){if(n&1){let t=de();d(0,"tr",52)(1,"td",53),h(2),p(),d(3,"td",54)(4,"span",55),h(5),p()(),d(6,"td",56),h(7),p(),d(8,"td",54)(9,"span",57),h(10),p()(),d(11,"td",54)(12,"span",58),h(13),p()(),d(14,"td",54)(15,"span",58),h(16),p()(),d(17,"td",59),h(18),p(),d(19,"td",59),h(20),p(),d(21,"td",56),h(22),p(),d(23,"td",54)(24,"div",60)(25,"button",61),F("click",function(){let r=M(t).$implicit,s=D();return P(s.editQuestion(s.getIdValue(r._id)))}),W(),d(26,"svg",62),S(27,"path",63),p(),h(28," Edit "),p(),Z(),d(29,"button",64),F("click",function(){let r=M(t).$implicit,s=D();return P(s.viewQuestionDetails(s.getIdValue(r._id)))}),W(),d(30,"svg",62),S(31,"path",65)(32,"path",66),p(),h(33," View "),p(),Z(),d(34,"button",67),F("click",function(){let r=M(t).$implicit,s=D();return P(s.deleteQuestion(s.getIdValue(r._id)))}),W(),d(35,"svg",62),S(36,"path",68),p(),h(37," Delete "),p()()()()}if(n&2){let t=e.$implicit,i=D();g(2),Q(t.displayQuestionText),g(3),z(" ",i.getLanguageIndicator(t)," "),g(2),Q(i.getOptionsSummary(t)),g(3),z(" ",t.type," "),g(2),_("ngClass",t.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),g(),z(" ",t.status," "),g(2),_("ngClass",Fl(11,B$,t.difficulty==="Hard",t.difficulty==="Medium",t.difficulty==="Easy")),g(),z(" ",t.difficulty," "),g(2),Q(i.getPopulatedFieldName(t.subject)||i.getIdValue(t.subject)),g(2),Q(i.getPopulatedFieldName(t.topic)||i.getIdValue(t.topic)),g(2),Q(i.getPastHistorySummary(t))}}function Q$(n,e){n&1&&(d(0,"tr")(1,"td",69)(2,"div",70),W(),d(3,"svg",71),S(4,"path",42),p(),Z(),d(5,"p",72),h(6,"No questions found"),p(),d(7,"p",73),h(8,"Try adjusting your filters or add some questions to get started."),p()()()())}function G$(n,e){if(n&1){let t=de();Yo(0),d(1,"button",84),F("click",function(){let r=M(t).$implicit,s=D(2);return P(s.handlePageClick(r))}),h(2),p(),Xo()}if(n&2){let t=e.$implicit,i=D(2);g(),_("disabled",t==="...")("ngClass",t===i.currentPage?"bg-primary-600 text-white border-primary-600":"text-gray-700 bg-white border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"),g(),z(" ",t," ")}}function Y$(n,e){if(n&1){let t=de();d(0,"div",74)(1,"div",75)(2,"div",76)(3,"span"),h(4),p()(),d(5,"div",60)(6,"button",77),F("click",function(){M(t);let r=D();return P(r.previousPage())}),W(),d(7,"svg",78),S(8,"path",79),p(),h(9," Previous "),p(),Z(),d(10,"div",80),O(11,G$,3,3,"ng-container",81),p(),d(12,"button",77),F("click",function(){M(t);let r=D();return P(r.nextPage())}),h(13," Next "),W(),d(14,"svg",82),S(15,"path",83),p()()()()()}if(n&2){let t=D();g(4),z1("Page ",t.currentPage," of ",t.totalPages," (",t.totalQuestions," items)"),g(2),_("disabled",t.currentPage===1),g(5),_("ngForOf",t.getPageNumbers()),g(),_("disabled",t.currentPage===t.totalPages)}}var Of=class n{constructor(e,t){this.questionService=e;this.router=t}questions=[];branches=[];subjects=[];topics=[];subtopics=[];questionTypes=["MCQ","SA","LA","FITB","Matrix"];questionStatuses=["Draft","Published","Archived","Pending Review"];difficultyLevels=["Easy","Medium","Hard","Very Hard"];filters={branch:"",subject:"",topic:"",subtopic:"",difficulty:"",type:"",status:"",searchTerm:""};currentPage=1;itemsPerPage=15;totalQuestions=0;totalPages=0;ngOnInit(){this.loadBranches(),this.loadQuestions()}loadBranches(){this.questionService.getBranches().subscribe({next:e=>{this.branches=e.branches||e},error:e=>{console.error("Failed to load branches:",e)}})}onBranchChange(){this.subjects=[],this.topics=[],this.subtopics=[],this.filters.subject="",this.filters.topic="",this.filters.subtopic="",this.filters.branch?this.questionService.getSubjects(this.filters.branch).subscribe({next:e=>{this.subjects=e.subjects||e},error:e=>{console.error("Failed to load subjects:",e)}}):this.applyFilters()}onSubjectChange(){this.topics=[],this.subtopics=[],this.filters.topic="",this.filters.subtopic="",this.filters.subject?this.questionService.getTopics(this.filters.subject).subscribe({next:e=>{this.topics=e.topics||e},error:e=>{console.error("Failed to load topics:",e)}}):this.applyFilters()}onTopicChange(){this.subtopics=[],this.filters.subtopic="",this.filters.topic?this.questionService.getSubtopics(this.filters.topic).subscribe({next:e=>{this.subtopics=e.subtopics||e},error:e=>{console.error("Failed to load subtopics:",e)}}):this.applyFilters()}onFilterChange(){this.currentPage=1,this.applyFilters()}applyFilters(){let e=_e(L({},this.filters),{page:this.currentPage,limit:this.itemsPerPage});this.questionService.filterQuestions(e).subscribe({next:t=>{this.questions=t.questions.map(i=>_e(L({},i),{displayQuestionText:this.getPrimaryTranslation(i)?.questionText||"N/A"})),this.totalQuestions=t.totalCount,this.totalPages=t.totalPages,this.currentPage=t.currentPage},error:t=>{console.error("Failed to fetch filtered questions:",t)}})}resetFilters(){this.filters={branch:"",subject:"",topic:"",subtopic:"",difficulty:"",type:"",status:"",searchTerm:""},this.subjects=[],this.topics=[],this.subtopics=[],this.currentPage=1,this.loadQuestions()}loadQuestions(){let e=_e(L({},this.filters),{page:this.currentPage,limit:this.itemsPerPage});this.questionService.filterQuestions(e).subscribe({next:t=>{this.questions=t.questions.map(i=>_e(L({},i),{displayQuestionText:this.getPrimaryTranslation(i)?.questionText||"N/A"})),this.totalQuestions=t.totalCount,this.totalPages=t.totalPages,this.currentPage=t.currentPage},error:t=>console.error("Error loading questions:",t)})}getIdString(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof e=="object"){if("$oid"in e&&typeof e.$oid=="string")return e.$oid;if("_id"in e&&e._id&&"name"in e){let t=e._id;if(typeof t=="string")return t;if(t&&typeof t=="object"&&"$oid"in t&&typeof t.$oid=="string")return t.$oid}}return""}getPopulatedFieldName(e){return e&&typeof e=="object"&&"_id"in e&&"name"in e&&typeof e.name=="string"?e.name:null}editQuestion(e){this.router.navigate(["/questions","edit",this.getIdString(e)])}deleteQuestion(e){confirm("Are you sure you want to delete this question?")&&this.questionService.deleteQuestion(this.getIdString(e)).subscribe(()=>{this.loadQuestions()})}viewQuestionDetails(e){this.router.navigate(["/questions",this.getIdString(e),"view"])}goToPage(e){e>=1&&e<=this.totalPages&&(this.currentPage=e,this.loadQuestions())}handlePageClick(e){typeof e=="number"&&this.goToPage(e)}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.loadQuestions())}previousPage(){this.currentPage>1&&(this.currentPage--,this.loadQuestions())}getPageNumbers(){let e=[],t=this.totalPages,i=this.currentPage,r=5,s=Math.floor(r/2);if(t<=r)for(let o=1;o<=t;o++)e.push(o);else{let o,a;if(i<=s){o=1,a=r-1;for(let l=o;l<=a;l++)e.push(l);e.push("..."),e.push(t)}else if(i+s>=t){o=t-(r-2),e.push(1),e.push("...");for(let l=o;l<=t;l++)e.push(l)}else{o=i-(s-1),a=i+(s-1),e.push(1),e.push("...");for(let l=o;l<=a;l++)e.push(l);e.push("..."),e.push(t)}}return e}getIdValue(e){return typeof e=="string"?e:e&&typeof e=="object"&&"$oid"in e?e.$oid:""}getDisplayVersion(e){return e.version===void 0||e.version===null?"N/A":typeof e.version=="number"?e.version.toString():typeof e.version=="object"&&e.version.hasOwnProperty("$numberInt")?e.version.$numberInt:String(e.version)}getPrimaryTranslation(e){if(!e.translations||e.translations.length===0)return;let t=["en","hi"];for(let i of t){let r=e.translations.find(s=>s.lang===i);if(r)return r}return e.translations[0]}getDisplayTranslation(e,t){let i=this.getPrimaryTranslation(e);if(!i)return t==="options"||t==="explanations"?"N/A (No translations)":"No translation available";switch(t){case"questionText":return i.questionText||"N/A";case"options":return i.options&&i.options.length>0?i.options.map(r=>`${r.text} (${r.isCorrect?"Correct":"Incorrect"})`).join(", "):"No options";case"explanations":return i.explanations&&i.explanations.length>0?i.explanations.map(r=>(r.label?`${r.label}: `:"")+(r.content||"N/A")).join("; "):"No explanations";default:return"Invalid field"}}getLanguageIndicator(e){return!e.translations||e.translations.length===0?"N/A":e.translations.map(t=>t.lang.toUpperCase()).join(", ")}getOptionsSummary(e){let t=this.getPrimaryTranslation(e);if(!t||!t.options||t.options.length===0)return"No options available";let i=t.options.map((r,s)=>({text:r.text,isCorrect:r.isCorrect,originalIndex:s})).filter(r=>r.isCorrect);return i.length===0?"No correct option(s) marked":"Correct: "+i.map(r=>`${r.originalIndex+1}. ${r.text}`).join(", ")}getPastHistorySummary(e){if(!e.questionHistory||e.questionHistory.length===0)return"No history";let t=e.questionHistory[0];return t&&t.title?t.title:t&&t.examName?t.examName:`Used in ${e.questionHistory.length} exam(s)`}static \u0275fac=function(t){return new(t||n)(U(Ft),U(Se))};static \u0275cmp=pe({type:n,selectors:[["app-question-list"]],decls:112,vars:21,consts:[["filterForm","ngForm"],[1,"min-h-screen","bg-gray-50","py-6","px-4","sm:px-6","lg:px-8"],[1,"max-w-7xl","mx-auto"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-200","p-6","mb-8"],[1,"text-xl","font-semibold","text-gray-900","mb-4","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","text-primary-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"],[1,"space-y-6",3,"ngSubmit"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"lg:col-span-1"],["for","search",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"relative"],["type","text","id","search","name","searchTerm","placeholder","Enter search term...",1,"form-input","w-full","pl-10","pr-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500",3,"ngModelChange","ngModel"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["for","difficulty",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","difficulty","name","difficulty",1,"form-select","w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","type",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","type","name","type",1,"form-select","w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500",3,"ngModelChange","change","ngModel"],["for","status",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","status","name","status",1,"form-select","w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500",3,"ngModelChange","change","ngModel"],["for","branch",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","branch","name","branch",1,"form-select","w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500",3,"ngModelChange","change","ngModel"],["for","subject",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","subject","name","subject",1,"form-select","w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","disabled:bg-gray-100","disabled:cursor-not-allowed",3,"ngModelChange","change","ngModel","disabled"],["for","topic",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","topic","name","topic",1,"form-select","w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","disabled:bg-gray-100","disabled:cursor-not-allowed",3,"ngModelChange","change","ngModel","disabled"],["for","subtopic",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","subtopic","name","subtopic",1,"form-select","w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","disabled:bg-gray-100","disabled:cursor-not-allowed",3,"ngModelChange","change","ngModel","disabled"],[1,"flex","flex-wrap","gap-3","pt-4","border-t","border-gray-200"],["type","submit",1,"btn-primary","px-6","py-2","bg-primary-600","text-white","rounded-lg","font-medium","hover:bg-primary-700","focus:outline-none","focus:ring-2","focus:ring-primary-500","focus:ring-offset-2","transition-colors"],["type","button",1,"btn-secondary","px-6","py-2","bg-gray-100","text-gray-700","rounded-lg","font-medium","hover:bg-gray-200","focus:outline-none","focus:ring-2","focus:ring-gray-500","focus:ring-offset-2","transition-colors",3,"click"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-200","overflow-hidden"],[1,"px-6","py-4","border-b","border-gray-200"],[1,"text-xl","font-semibold","text-gray-900","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","text-secondary-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50 transition-colors",4,"ngFor","ngForOf"],[4,"ngIf"],["class","bg-white px-4 py-3 border-t border-gray-200 sm:px-6",4,"ngIf"],[3,"value"],[1,"hover:bg-gray-50","transition-colors"],[1,"px-6","py-4","text-sm","text-gray-900","max-w-xs","truncate"],[1,"px-6","py-4","text-sm"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800"],[1,"px-6","py-4","text-sm","text-gray-700","max-w-xs","truncate"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-purple-100","text-purple-800"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"px-6","py-4","text-sm","text-gray-700","truncate"],[1,"flex","items-center","space-x-2"],[1,"inline-flex","items-center","px-3","py-1","rounded-md","text-xs","font-medium","bg-blue-100","text-blue-700","hover:bg-blue-200","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"inline-flex","items-center","px-3","py-1","rounded-md","text-xs","font-medium","bg-green-100","text-green-700","hover:bg-green-200","transition-colors",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],[1,"inline-flex","items-center","px-3","py-1","rounded-md","text-xs","font-medium","bg-red-100","text-red-700","hover:bg-red-200","transition-colors",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],["colspan","10",1,"px-6","py-12","text-center","text-gray-500"],[1,"flex","flex-col","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","text-gray-300","mb-4"],[1,"text-lg","font-medium"],[1,"text-sm"],[1,"bg-white","px-4","py-3","border-t","border-gray-200","sm:px-6"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","text-sm","text-gray-700"],[1,"relative","inline-flex","items-center","px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"hidden","md:flex","space-x-1"],[4,"ngFor","ngForOf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","ml-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"relative","inline-flex","items-center","px-4","py-2","text-sm","font-medium","border","rounded-md","transition-colors",3,"click","disabled","ngClass"]],template:function(t,i){if(t&1){let r=de();d(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),h(4,"Question Management"),p(),d(5,"p",5),h(6,"Filter and manage your question bank"),p()(),d(7,"div",6)(8,"h2",7),W(),d(9,"svg",8),S(10,"path",9),p(),h(11," Filter Questions "),p(),Z(),d(12,"form",10,0),F("ngSubmit",function(){return M(r),P(i.applyFilters())}),d(14,"div",11)(15,"div",12)(16,"label",13),h(17,"Search"),p(),d(18,"div",14)(19,"input",15),ee("ngModelChange",function(o){return M(r),J(i.filters.searchTerm,o)||(i.filters.searchTerm=o),P(o)}),p(),d(20,"div",16),W(),d(21,"svg",17),S(22,"path",18),p()()()(),Z(),d(23,"div")(24,"label",19),h(25,"Difficulty"),p(),d(26,"select",20),ee("ngModelChange",function(o){return M(r),J(i.filters.difficulty,o)||(i.filters.difficulty=o),P(o)}),F("change",function(){return M(r),P(i.onFilterChange())}),d(27,"option",21),h(28,"-- All Levels --"),p(),O(29,V$,2,2,"option",22),p()(),d(30,"div")(31,"label",23),h(32,"Question Type"),p(),d(33,"select",24),ee("ngModelChange",function(o){return M(r),J(i.filters.type,o)||(i.filters.type=o),P(o)}),F("change",function(){return M(r),P(i.onFilterChange())}),d(34,"option",21),h(35,"-- All Types --"),p(),O(36,$$,2,2,"option",22),p()(),d(37,"div")(38,"label",25),h(39,"Status"),p(),d(40,"select",26),ee("ngModelChange",function(o){return M(r),J(i.filters.status,o)||(i.filters.status=o),P(o)}),F("change",function(){return M(r),P(i.onFilterChange())}),d(41,"option",21),h(42,"-- All Status --"),p(),O(43,j$,2,2,"option",22),p()()(),d(44,"div",11)(45,"div")(46,"label",27),h(47,"Branch"),p(),d(48,"select",28),ee("ngModelChange",function(o){return M(r),J(i.filters.branch,o)||(i.filters.branch=o),P(o)}),F("change",function(){return M(r),P(i.onBranchChange())}),d(49,"option",21),h(50,"-- Select Branch --"),p(),O(51,q$,2,2,"option",22),p()(),d(52,"div")(53,"label",29),h(54,"Subject"),p(),d(55,"select",30),ee("ngModelChange",function(o){return M(r),J(i.filters.subject,o)||(i.filters.subject=o),P(o)}),F("change",function(){return M(r),P(i.onSubjectChange())}),d(56,"option",21),h(57,"-- Select Subject --"),p(),O(58,H$,2,2,"option",22),p()(),d(59,"div")(60,"label",31),h(61,"Topic"),p(),d(62,"select",32),ee("ngModelChange",function(o){return M(r),J(i.filters.topic,o)||(i.filters.topic=o),P(o)}),F("change",function(){return M(r),P(i.onTopicChange())}),d(63,"option",21),h(64,"-- Select Topic --"),p(),O(65,U$,2,2,"option",22),p()(),d(66,"div")(67,"label",33),h(68,"Subtopic"),p(),d(69,"select",34),ee("ngModelChange",function(o){return M(r),J(i.filters.subtopic,o)||(i.filters.subtopic=o),P(o)}),F("change",function(){return M(r),P(i.onFilterChange())}),d(70,"option",21),h(71,"-- Select Subtopic --"),p(),O(72,z$,2,2,"option",22),p()()(),d(73,"div",35)(74,"button",36),h(75," Apply Filters "),p(),d(76,"button",37),F("click",function(){return M(r),P(i.resetFilters())}),h(77," Reset Filters "),p()()()(),d(78,"div",38)(79,"div",39)(80,"h2",40),W(),d(81,"svg",41),S(82,"path",42),p(),h(83," Question List "),p()(),Z(),d(84,"div",43)(85,"table",44)(86,"thead",45)(87,"tr")(88,"th",46),h(89,"Question Text"),p(),d(90,"th",46),h(91,"Languages"),p(),d(92,"th",46),h(93,"Options"),p(),d(94,"th",46),h(95,"Type"),p(),d(96,"th",46),h(97,"Status"),p(),d(98,"th",46),h(99,"Difficulty"),p(),d(100,"th",46),h(101,"Subject"),p(),d(102,"th",46),h(103,"Topic"),p(),d(104,"th",46),h(105,"Past History"),p(),d(106,"th",46),h(107,"Actions"),p()()(),d(108,"tbody",47),O(109,W$,38,15,"tr",48)(110,Q$,9,0,"tr",49),p()()(),O(111,Y$,16,6,"div",50),p()()()}t&2&&(g(19),K("ngModel",i.filters.searchTerm),g(7),K("ngModel",i.filters.difficulty),g(3),_("ngForOf",i.difficultyLevels),g(4),K("ngModel",i.filters.type),g(3),_("ngForOf",i.questionTypes),g(4),K("ngModel",i.filters.status),g(3),_("ngForOf",i.questionStatuses),g(5),K("ngModel",i.filters.branch),g(3),_("ngForOf",i.branches),g(4),K("ngModel",i.filters.subject),_("disabled",!i.filters.branch),g(3),_("ngForOf",i.subjects),g(4),K("ngModel",i.filters.topic),_("disabled",!i.filters.subject),g(3),_("ngForOf",i.topics),g(4),K("ngModel",i.filters.subtopic),_("disabled",!i.filters.topic),g(3),_("ngForOf",i.subtopics),g(37),_("ngForOf",i.questions),g(),_("ngIf",i.questions.length===0),g(),_("ngIf",i.totalPages>0))},dependencies:[ge,er,je,Ee,Ue,Ut,dt,qt,Ht,Je,jt,et,ut,on,On],encapsulation:2})};var Tl=class n{constructor(e){this.http=e}apiUrl=`${ht.apiUrl}/hierarchy`;getBranches(){let e=localStorage.getItem("token"),t=new ze({Authorization:`Bearer ${e}`});return this.http.get(`${this.apiUrl}/branch`,{headers:t})}createBranch(e){let t=new ze({Authorization:`Bearer ${localStorage.getItem("token")}`});return this.http.post(`${this.apiUrl}/branch`,{name:e},{headers:t})}static \u0275fac=function(t){return new(t||n)(ie(_t))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})};var Rf=class n{constructor(e){this.http=e}apiUrl=`${ht.apiUrl}/hierarchy`;getSubjects(e){let t=localStorage.getItem("token"),i=new ze({Authorization:`Bearer ${t}`});return this.http.get(`${this.apiUrl}/subject?branchId=${e}`,{headers:i})}createSubject(e,t){let i=localStorage.getItem("token"),r=new ze({Authorization:`Bearer ${i}`});return this.http.post(`${this.apiUrl}/subject`,{name:e,branch:t},{headers:r})}static \u0275fac=function(t){return new(t||n)(ie(_t))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ff=class n{constructor(e){this.http=e}apiUrl=`${ht.apiUrl}/hierarchy`;getTopics(e){let t=localStorage.getItem("token"),i=new ze({Authorization:`Bearer ${t}`});return this.http.get(`${this.apiUrl}/topic?subjectId=${e}`,{headers:i})}createTopic(e,t){let i=localStorage.getItem("token"),r=new ze({Authorization:`Bearer ${i}`});return this.http.post(`${this.apiUrl}/topic`,{name:e,subject:t},{headers:r})}static \u0275fac=function(t){return new(t||n)(ie(_t))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})};var Bf=class n{constructor(e){this.http=e}apiUrl=`${ht.apiUrl}/hierarchy`;getSubtopics(e){let t=localStorage.getItem("token"),i=new ze({Authorization:`Bearer ${t}`});return this.http.get(`${this.apiUrl}/subtopic?topicId=${e}`,{headers:i})}createSubtopic(e,t){let i=localStorage.getItem("token"),r=new ze({Authorization:`Bearer ${i}`});return this.http.post(`${this.apiUrl}/subtopic`,{name:e,topic:t},{headers:r})}static \u0275fac=function(t){return new(t||n)(ie(_t))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})};function Z$(n,e){n&1&&(d(0,"div",103)(1,"div",100),W(),d(2,"svg",104),S(3,"path",105),p(),h(4," Question is required. "),p()())}function K$(n,e){if(n&1&&S(0,"img",113),n&2){let t=D(),i=t.$implicit,r=t.index;lt("alt","Question Image ",r+1,""),_("src",i,wn)}}function J$(n,e){n&1&&(d(0,"div",114),W(),d(1,"svg",115),S(2,"path",33),p()())}function ej(n,e){if(n&1){let t=de();d(0,"div",106)(1,"div",107),O(2,K$,1,3,"img",108)(3,J$,3,0,"div",109),p(),d(4,"div",110)(5,"input",111),ee("ngModelChange",function(r){let s=M(t).index,o=D();return J(o.langPack.images[s],r)||(o.langPack.images[s]=r),P(r)}),p()(),d(6,"button",112),F("click",function(){let r=M(t).index,s=D();return P(s.removeQuestionImage(r))}),h(7," Remove "),p()()}if(n&2){let t=e.$implicit,i=e.index,r=D();g(2),_("ngIf",t),g(),_("ngIf",!t),g(2),ct("name","questionImage",r.currentLang,"_",i,""),lt("placeholder","Image URL ",i+1,""),K("ngModel",r.langPack.images[i])}}function tj(n,e){if(n&1){let t=de();d(0,"div",116)(1,"div",117)(2,"h4",118),h(3),p(),d(4,"div",119)(5,"label",120)(6,"input",121),ee("ngModelChange",function(r){let s=M(t).$implicit;return J(s.isCorrect,r)||(s.isCorrect=r),P(r)}),p(),d(7,"span",122),h(8,"Correct Answer"),p()(),d(9,"button",123),F("click",function(){let r=M(t).index,s=D();return P(s.removeOption(r))}),h(10," Remove "),p()()(),d(11,"div",124)(12,"div")(13,"label",91),h(14,"Option Text"),p(),d(15,"input",125),ee("ngModelChange",function(r){let s=M(t).$implicit;return J(s.text,r)||(s.text=r),P(r)}),p()(),d(16,"div")(17,"label",91),h(18,"Image URL (Optional)"),p(),d(19,"input",126),ee("ngModelChange",function(r){let s=M(t).$implicit;return J(s.img,r)||(s.img=r),P(r)}),p()()()()}if(n&2){let t=e.$implicit,i=e.index,r=D();g(3),z("Option ",i+1,""),g(3),ct("name","optCorrect_",r.currentLang,"_",i,""),K("ngModel",t.isCorrect),g(3),_("disabled",r.langPack.options.length<=2),g(6),ct("name","optText_",r.currentLang,"_",i,""),K("ngModel",t.text),g(4),ct("name","optImg_",r.currentLang,"_",i,""),K("ngModel",t.img)}}function nj(n,e){if(n&1){let t=de();d(0,"div",116)(1,"div",127)(2,"h4",118),h(3),p(),d(4,"button",128),F("click",function(){let r=M(t).index,s=D();return P(s.removeExplanation(r))}),h(5," Remove "),p()(),d(6,"div",129)(7,"div")(8,"label",91),h(9,"Type"),p(),d(10,"select",130),ee("ngModelChange",function(r){let s=M(t).$implicit;return J(s.type,r)||(s.type=r),P(r)}),d(11,"option",131),h(12,"Text"),p(),d(13,"option",132),h(14,"Video"),p(),d(15,"option",133),h(16,"PDF"),p(),d(17,"option",134),h(18,"Image"),p()()(),d(19,"div")(20,"label",91),h(21,"Label (Optional)"),p(),d(22,"input",135),ee("ngModelChange",function(r){let s=M(t).$implicit;return J(s.label,r)||(s.label=r),P(r)}),p()(),d(23,"div")(24,"label",91),h(25,"Content URL/Text"),p(),d(26,"input",136),ee("ngModelChange",function(r){let s=M(t).$implicit;return J(s.content,r)||(s.content=r),P(r)}),p()()()()}if(n&2){let t=e.$implicit,i=e.index,r=D();g(3),z("Explanation ",i+1,""),g(7),ct("name","expType_",r.currentLang,"_",i,""),K("ngModel",t.type),g(12),ct("name","expLabel_",r.currentLang,"_",i,""),K("ngModel",t.label),g(4),ct("name","expContent_",r.currentLang,"_",i,""),K("ngModel",t.content)}}function ij(n,e){n&1&&(d(0,"div",103)(1,"div",100),W(),d(2,"svg",104),S(3,"path",105),p(),h(4," Status is required. "),p()())}function rj(n,e){n&1&&(d(0,"div",103)(1,"div",100),W(),d(2,"svg",104),S(3,"path",105),p(),h(4," Type is required. "),p()())}function sj(n,e){if(n&1&&(d(0,"option",137),h(1),p()),n&2){let t=e.$implicit;_("value",t._id),g(),Q(t.name)}}function oj(n,e){if(n&1&&(d(0,"option",137),h(1),p()),n&2){let t=e.$implicit;_("value",t._id),g(),Q(t.name)}}function aj(n,e){if(n&1&&(d(0,"option",137),h(1),p()),n&2){let t=e.$implicit;_("value",t._id),g(),Q(t.name)}}function lj(n,e){if(n&1&&(d(0,"option",137),h(1),p()),n&2){let t=e.$implicit;_("value",t._id),g(),Q(t.name)}}function cj(n,e){if(n&1&&(d(0,"div",142)(1,"span",143),h(2),p()()),n&2){let t=e.$implicit;g(2),U1("",t.examName," \u2014 ",t.year,"")}}function uj(n,e){if(n&1&&(d(0,"div",138)(1,"h4",139),h(2,"Previous Appearances:"),p(),d(3,"div",140),O(4,cj,3,2,"div",141),p()()),n&2){let t=D();g(4),_("ngForOf",t.histList)}}function dj(n,e){n&1&&(d(0,"p",144),h(1," No appearance history recorded yet. "),p())}var Vf=class n{branchSrv=se(Tl);subjectSrv=se(Rf);topicSrv=se(Ff);subtopicSrv=se(Bf);questionSrv=se(Ft);router=se(Se);authService=se(wt);currentLang="en";tagsInputString="";question={translations:{en:{questionText:"",options:[{text:"",img:"",isCorrect:!1},{text:"",img:"",isCorrect:!1}],explanations:[],images:[]},hi:{questionText:"",options:[{text:"",img:"",isCorrect:!1},{text:"",img:"",isCorrect:!1}],explanations:[],images:[]}},difficulty:"",type:"single",status:"Draft",branchId:"",subjectId:"",topicId:"",subtopicId:"",tags:[],recommendedTimeAllotment:void 0,internalNotes:""};branches=[];subjects=[];topics=[];subtopics=[];currentYear=new Date().getFullYear();histEntry={examName:"",year:this.currentYear};histList=[];ngOnInit(){this.branchSrv.getBranches().subscribe({next:e=>{this.branches=Array.isArray(e)?e:e&&e.branches?e.branches:[],this.branches.length===0&&!Array.isArray(e)&&console.warn("[AddQuestionComponent] ngOnInit: Branches data received but was not in expected format or was empty:",e)},error:e=>{console.error("[AddQuestionComponent] ngOnInit: Error fetching branches:",e),this.branches=[]}})}switchLanguage(e){this.currentLang=e}get langPack(){return this.question.translations[this.currentLang]?this.question.translations[this.currentLang].images||(this.question.translations[this.currentLang].images=[]):this.question.translations[this.currentLang]={questionText:"",options:[{text:"",img:"",isCorrect:!1},{text:"",img:"",isCorrect:!1}],explanations:[],images:[]},this.question.translations[this.currentLang]}addOption(){this.langPack.options.push({text:"",img:"",isCorrect:!1})}removeOption(e){this.langPack.options.length>2&&this.langPack.options.splice(e,1)}addExplanation(){this.langPack.explanations.push({type:"text",label:"",content:""})}removeExplanation(e){this.langPack.explanations.splice(e,1)}addQuestionImage(){this.langPack.images||(this.langPack.images=[]),this.langPack.images.push("")}removeQuestionImage(e){this.langPack.images&&this.langPack.images.splice(e,1)}removeOptionImage(e){this.langPack.options&&this.langPack.options[e]&&(this.langPack.options[e].img="")}onTagsInputChange(e){this.tagsInputString=e,e&&e.trim()!==""?this.question.tags=e.split(",").map(t=>t.trim()).filter(t=>t!==""):this.question.tags=[]}addHistory(){this.histEntry.examName.trim()&&(this.histList.push(L({},this.histEntry)),this.histEntry={examName:"",year:this.currentYear})}onBranchChange(e){this.question.branchId=e,this.subjects=this.topics=this.subtopics=[],this.question.subjectId=this.question.topicId=this.question.subtopicId="",e&&this.subjectSrv.getSubjects(e).subscribe(t=>this.subjects=t)}onSubjectChange(e){this.question.subjectId=e,this.topics=this.subtopics=[],this.question.topicId=this.question.subtopicId="",e&&this.topicSrv.getTopics(e).subscribe(t=>this.topics=t)}onTopicChange(e){this.question.topicId=e,this.subtopics=[],this.question.subtopicId="",e&&this.subtopicSrv.getSubtopics(e).subscribe(t=>this.subtopics=t)}addQuestion(e){this.submit(e)}submit(e){if(e.invalid){e.control.markAllAsTouched();return}let t="en",i=JSON.parse(JSON.stringify(this.question)),r=this.authService.getUserRole();r==="admin"&&(i.status="Pending Review");let s={difficulty:i.difficulty,type:i.type,status:i.status,branchId:i.branchId,subjectId:i.subjectId,topicId:i.topicId,subtopicId:i.subtopicId,tags:i.tags,recommendedTimeAllotment:i.recommendedTimeAllotment,internalNotes:i.internalNotes,questionHistory:this.histList,translations:[]},o=Object.entries(i.translations).map(([a,l])=>{let c=l;return c.options=Array.isArray(c.options)?c.options:[],c.explanations=Array.isArray(c.explanations)?c.explanations:[],c.images=Array.isArray(c.images)?c.images:[],{lang:a,questionText:c.questionText,options:c.options.filter(u=>u.text&&u.text.trim()),explanations:c.explanations,images:c.images.filter(u=>u&&u.trim()!=="")}}).filter(a=>a.questionText&&a.questionText.trim()&&a.options.length>=2);s.translations=o,this.questionSrv.addQuestion(s).subscribe({next:()=>alert("Saved!"),error:a=>alert("Save failed: "+a.message)})}goToAddBranch(){this.router.navigate(["/branches/new"])}goToAddSubject(){this.router.navigate(["/subjects/new"])}goToAddTopic(){this.router.navigate(["/topics/new"])}goToAddSubtopic(){this.router.navigate(["/subtopics/new"])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=pe({type:n,selectors:[["app-add-question"]],decls:225,vars:38,consts:[["f","ngForm"],["qt","ngModel"],["statusCtrl","ngModel"],["diff","ngModel"],["typ","ngModel"],["br","ngModel"],["su","ngModel"],["to","ngModel"],["st","ngModel"],[1,"min-h-screen","bg-gray-50","py-6","px-4","sm:px-6","lg:px-8"],[1,"max-w-4xl","mx-auto"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-200","p-6","mb-6"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-semibold","text-gray-900"],[1,"flex","items-center","space-x-2","bg-gray-100","p-1","rounded-lg"],["type","button",1,"px-4","py-2","text-sm","rounded-md","transition-all","duration-200",3,"click"],[1,"text-sm","text-gray-500"],[1,"font-medium"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-200"],["novalidate","",1,"space-y-8","p-8",3,"ngSubmit"],[1,"form-section"],[1,"text-lg","font-semibold","text-gray-900","mb-4","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","text-primary-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"form-group"],["for","questionText",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-red-500"],["type","text","required","","placeholder","Enter your question text here...",1,"form-input","w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","transition-colors",3,"ngModelChange","name","ngModel"],["class","mt-2 text-sm text-red-600",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","text-secondary-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"space-y-4"],["class","flex items-start space-x-4 p-4 bg-gray-50 rounded-lg",4,"ngFor","ngForOf"],["type","button",1,"btn-secondary","w-full","px-4","py-2","bg-gray-100","text-gray-700","rounded-lg","hover:bg-gray-200","transition-colors","flex","items-center","justify-center",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","text-success-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"],["class","p-4 border border-gray-200 rounded-lg bg-white",4,"ngFor","ngForOf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","text-warning-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],["for","status",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","status","name","status","required","",1,"form-select","w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500",3,"ngModelChange","ngModel"],["value","draft"],["value","Published"],["value","Pending Review"],["value","active"],["value","inactive"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["name","difficulty",1,"form-select","w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500",3,"ngModelChange","ngModel"],["value","Not-mentioned"],["value","Easy"],["value","Medium"],["value","Hard"],["name","type","required","",1,"form-select","w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500",3,"ngModelChange","ngModel"],["value",""],["value","single"],["value","multiple"],["value","integer"],["value","matrix"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","text-purple-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"flex","space-x-2"],["name","branchId",1,"form-select","flex-1","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","button",1,"btn-secondary","px-3","py-2","bg-primary-100","text-primary-700","rounded-lg","hover:bg-primary-200","transition-colors","whitespace-nowrap",3,"click"],["name","subjectId",1,"form-select","flex-1","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500",3,"ngModelChange","change","ngModel"],["name","topicId",1,"form-select","flex-1","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500",3,"ngModelChange","change","ngModel"],["name","subtopicId",1,"form-select","flex-1","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500",3,"ngModelChange","ngModel"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"],[1,"space-y-6"],["for","tags",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","id","tags","name","tags","placeholder","e.g., algebra, geometry, important",1,"form-input","w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500",3,"ngModelChange","ngModel"],[1,"mt-1","text-sm","text-gray-500"],["for","recommendedTime",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","number","id","recommendedTime","name","recommendedTime","placeholder","e.g., 300","min","1",1,"form-input","w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500",3,"ngModelChange","ngModel"],["for","internalNotes",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","internalNotes","name","internalNotes","rows","4","placeholder","Internal notes or comments for this question...",1,"form-textarea","w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","resize-y",3,"ngModelChange","ngModel"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","text-orange-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"bg-gray-50","rounded-lg","p-4"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","mb-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["name","histExam","type","text","placeholder","e.g., JEE Main 2023",1,"form-input","w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500",3,"ngModelChange","ngModel"],["name","histYear","type","number","placeholder","2023",1,"form-input","w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500",3,"ngModelChange","min","max","ngModel"],[1,"flex","items-end"],["type","button",1,"btn-primary","w-full","px-4","py-2","bg-primary-600","text-white","rounded-lg","hover:bg-primary-700","transition-colors",3,"click"],["class","space-y-2",4,"ngIf"],["class","text-sm text-gray-500 italic",4,"ngIf"],[1,"flex","justify-end","pt-6","border-t","border-gray-200"],["type","submit",1,"btn-primary","px-8","py-3","bg-gradient-to-r","from-primary-600","to-primary-700","text-white","font-semibold","rounded-lg","hover:from-primary-700","hover:to-primary-800","focus:ring-4","focus:ring-primary-200","disabled:opacity-50","disabled:cursor-not-allowed","transition-all","duration-200","transform","hover:scale-105",3,"disabled"],[1,"flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"mt-2","text-sm","text-red-600"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16c-.77.833.192 2.5 1.732 2.5z"],[1,"flex","items-start","space-x-4","p-4","bg-gray-50","rounded-lg"],[1,"flex-shrink-0"],["class","w-20 h-20 object-cover rounded-lg border border-gray-200",3,"src","alt",4,"ngIf"],["class","w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center",4,"ngIf"],[1,"flex-1"],["type","text",1,"form-input","w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500",3,"ngModelChange","ngModel","name","placeholder"],["type","button",1,"btn-danger","px-3","py-2","text-sm","bg-red-100","text-red-700","rounded-lg","hover:bg-red-200","transition-colors",3,"click"],[1,"w-20","h-20","object-cover","rounded-lg","border","border-gray-200",3,"src","alt"],[1,"w-20","h-20","bg-gray-200","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-gray-400"],[1,"p-4","border","border-gray-200","rounded-lg","bg-white"],[1,"flex","items-start","justify-between","mb-3"],[1,"text-sm","font-medium","text-gray-900"],[1,"flex","items-center","space-x-2"],[1,"inline-flex","items-center"],["type","checkbox",1,"form-checkbox","h-4","w-4","text-primary-600","rounded","focus:ring-primary-500","border-gray-300",3,"ngModelChange","name","ngModel"],[1,"ml-2","text-sm","text-gray-700","font-medium"],["type","button",1,"btn-danger","px-2","py-1","text-xs","bg-red-100","text-red-700","rounded","disabled:opacity-50","disabled:cursor-not-allowed","hover:bg-red-200","transition-colors",3,"click","disabled"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["type","text","required","","placeholder","Enter option text",1,"form-input","w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500",3,"ngModelChange","name","ngModel"],["type","text","placeholder","Image URL (optional)",1,"form-input","w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500",3,"ngModelChange","name","ngModel"],[1,"flex","items-center","justify-between","mb-3"],["type","button",1,"btn-danger","px-2","py-1","text-xs","bg-red-100","text-red-700","rounded","hover:bg-red-200","transition-colors",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],["required","",1,"form-select","w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500",3,"ngModelChange","name","ngModel"],["value","text"],["value","video"],["value","pdf"],["value","image"],["type","text","placeholder","Label (optional)",1,"form-input","w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500",3,"ngModelChange","name","ngModel"],["type","text","required","","placeholder","Content URL/Text",1,"form-input","w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500",3,"ngModelChange","name","ngModel"],[3,"value"],[1,"space-y-2"],[1,"text-sm","font-medium","text-gray-700","mb-2"],[1,"space-y-1"],["class","flex items-center justify-between bg-white px-3 py-2 rounded border",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","bg-white","px-3","py-2","rounded","border"],[1,"text-sm","text-gray-700"],[1,"text-sm","text-gray-500","italic"]],template:function(t,i){if(t&1){let r=de();d(0,"div",9)(1,"div",10)(2,"div",11)(3,"h1",12),h(4,"Add New Question"),p(),d(5,"p",13),h(6,"Create a comprehensive question with multiple language support"),p()(),d(7,"div",14)(8,"div",15)(9,"h2",16),h(10,"Language Selection"),p(),d(11,"div",17)(12,"button",18),F("click",function(){return M(r),P(i.switchLanguage("en"))}),h(13," English "),p(),d(14,"button",18),F("click",function(){return M(r),P(i.switchLanguage("hi"))}),h(15," \u0939\u093F\u0928\u094D\u0926\u0940 "),p()()(),d(16,"p",19),h(17," Current editing language: "),d(18,"span",20),h(19),p()()(),d(20,"div",21)(21,"form",22,0),F("ngSubmit",function(){M(r);let o=Qe(22);return P(i.addQuestion(o))}),d(23,"div",23)(24,"h3",24),W(),d(25,"svg",25),S(26,"path",26),p(),h(27," Question Text "),p(),Z(),d(28,"div",27)(29,"label",28),h(30),d(31,"span",29),h(32,"*"),p()(),d(33,"input",30,1),ee("ngModelChange",function(o){return M(r),J(i.question.translations[i.currentLang].questionText,o)||(i.question.translations[i.currentLang].questionText=o),P(o)}),p(),O(35,Z$,5,0,"div",31),p()(),d(36,"div",23)(37,"h3",24),W(),d(38,"svg",32),S(39,"path",33),p(),h(40),p(),Z(),d(41,"div",34),O(42,ej,8,8,"div",35),d(43,"button",36),F("click",function(){return M(r),P(i.addQuestionImage())}),W(),d(44,"svg",37),S(45,"path",38),p(),h(46," Add Question Image URL "),p()()(),Z(),d(47,"div",23)(48,"h3",24),W(),d(49,"svg",39),S(50,"path",40),p(),h(51," Answer Options "),p(),Z(),d(52,"div",34),O(53,tj,20,14,"div",41),d(54,"button",36),F("click",function(){return M(r),P(i.addOption())}),W(),d(55,"svg",37),S(56,"path",38),p(),h(57," Add Option "),p()()(),Z(),d(58,"div",23)(59,"h3",24),W(),d(60,"svg",42),S(61,"path",43),p(),h(62),p(),Z(),d(63,"div",34),O(64,nj,27,13,"div",41),d(65,"button",36),F("click",function(){return M(r),P(i.addExplanation())}),W(),d(66,"svg",37),S(67,"path",38),p(),h(68," Add Explanation "),p()()(),Z(),d(69,"div",23)(70,"h3",24),W(),d(71,"svg",44),S(72,"path",45)(73,"path",46),p(),h(74," Question Settings "),p(),Z(),d(75,"div",47)(76,"div",27)(77,"label",48),h(78," Status "),d(79,"span",29),h(80,"*"),p()(),d(81,"select",49,2),ee("ngModelChange",function(o){return M(r),J(i.question.status,o)||(i.question.status=o),P(o)}),d(83,"option",50),h(84,"Draft"),p(),d(85,"option",51),h(86,"Published"),p(),d(87,"option",52),h(88,"Pending Review"),p(),d(89,"option",53),h(90,"Active"),p(),d(91,"option",54),h(92,"Inactive"),p()(),O(93,ij,5,0,"div",31),p(),d(94,"div",27)(95,"label",55),h(96,"Difficulty"),p(),d(97,"select",56,3),ee("ngModelChange",function(o){return M(r),J(i.question.difficulty,o)||(i.question.difficulty=o),P(o)}),d(99,"option",57),h(100,"Not-mentioned"),p(),d(101,"option",58),h(102,"Easy"),p(),d(103,"option",59),h(104,"Medium"),p(),d(105,"option",60),h(106,"Hard"),p()()(),d(107,"div",27)(108,"label",55),h(109," Type "),d(110,"span",29),h(111,"*"),p()(),d(112,"select",61,4),ee("ngModelChange",function(o){return M(r),J(i.question.type,o)||(i.question.type=o),P(o)}),d(114,"option",62),h(115,"Select Type"),p(),d(116,"option",63),h(117,"Single-correct"),p(),d(118,"option",64),h(119,"Multiple-correct"),p(),d(120,"option",65),h(121,"Integer"),p(),d(122,"option",66),h(123,"Matrix"),p()(),O(124,rj,5,0,"div",31),p()()(),d(125,"div",23)(126,"h3",24),W(),d(127,"svg",67),S(128,"path",68),p(),h(129," Subject Hierarchy "),p(),Z(),d(130,"div",69)(131,"div",27)(132,"label",55),h(133,"Branch"),p(),d(134,"div",70)(135,"select",71,5),ee("ngModelChange",function(o){return M(r),J(i.question.branchId,o)||(i.question.branchId=o),P(o)}),F("change",function(){return M(r),P(i.onBranchChange(i.question.branchId))}),d(137,"option",57),h(138,"Not-mentioned"),p(),O(139,sj,2,2,"option",72),p(),d(140,"button",73),F("click",function(){return M(r),P(i.goToAddBranch())}),h(141," + Add "),p()()(),d(142,"div",27)(143,"label",55),h(144,"Subject"),p(),d(145,"div",70)(146,"select",74,6),ee("ngModelChange",function(o){return M(r),J(i.question.subjectId,o)||(i.question.subjectId=o),P(o)}),F("change",function(){return M(r),P(i.onSubjectChange(i.question.subjectId))}),d(148,"option",57),h(149,"Not-mentioned"),p(),O(150,oj,2,2,"option",72),p(),d(151,"button",73),F("click",function(){return M(r),P(i.goToAddSubject())}),h(152," + Add "),p()()(),d(153,"div",27)(154,"label",55),h(155,"Topic"),p(),d(156,"div",70)(157,"select",75,7),ee("ngModelChange",function(o){return M(r),J(i.question.topicId,o)||(i.question.topicId=o),P(o)}),F("change",function(){return M(r),P(i.onTopicChange(i.question.topicId))}),d(159,"option",57),h(160,"Not-mentioned"),p(),O(161,aj,2,2,"option",72),p(),d(162,"button",73),F("click",function(){return M(r),P(i.goToAddTopic())}),h(163," + Add "),p()()(),d(164,"div",27)(165,"label",55),h(166,"Subtopic"),p(),d(167,"div",70)(168,"select",76,8),ee("ngModelChange",function(o){return M(r),J(i.question.subtopicId,o)||(i.question.subtopicId=o),P(o)}),d(170,"option",57),h(171,"Not-mentioned"),p(),O(172,lj,2,2,"option",72),p(),d(173,"button",73),F("click",function(){return M(r),P(i.goToAddSubtopic())}),h(174," + Add "),p()()()()(),d(175,"div",23)(176,"h3",24),W(),d(177,"svg",77),S(178,"path",78),p(),h(179," Additional Details "),p(),Z(),d(180,"div",79)(181,"div",27)(182,"label",80),h(183," Tags (comma-separated) "),p(),d(184,"input",81),ee("ngModelChange",function(o){return M(r),J(i.tagsInputString,o)||(i.tagsInputString=o),P(o)}),F("ngModelChange",function(o){return M(r),P(i.onTagsInputChange(o))}),p(),d(185,"p",82),h(186," Enter keywords separated by commas to help categorize this question "),p()(),d(187,"div",27)(188,"label",83),h(189," Recommended Time (seconds) "),p(),d(190,"input",84),ee("ngModelChange",function(o){return M(r),J(i.question.recommendedTimeAllotment,o)||(i.question.recommendedTimeAllotment=o),P(o)}),p(),d(191,"p",82),h(192," Suggested time for students to solve this question "),p()(),d(193,"div",27)(194,"label",85),h(195," Internal Notes/Author Comments "),p(),d(196,"textarea",86),ee("ngModelChange",function(o){return M(r),J(i.question.internalNotes,o)||(i.question.internalNotes=o),P(o)}),p(),d(197,"p",82),h(198," Private notes visible only to content creators and administrators "),p()()()(),d(199,"div",23)(200,"h3",24),W(),d(201,"svg",87),S(202,"path",88),p(),h(203," Appearance History "),p(),Z(),d(204,"div",89)(205,"div",90)(206,"div")(207,"label",91),h(208,"Exam Name"),p(),d(209,"input",92),ee("ngModelChange",function(o){return M(r),J(i.histEntry.examName,o)||(i.histEntry.examName=o),P(o)}),p()(),d(210,"div")(211,"label",91),h(212,"Year"),p(),d(213,"input",93),ee("ngModelChange",function(o){return M(r),J(i.histEntry.year,o)||(i.histEntry.year=o),P(o)}),p()(),d(214,"div",94)(215,"button",95),F("click",function(){return M(r),P(i.addHistory())}),h(216," Add Entry "),p()()(),O(217,uj,5,1,"div",96)(218,dj,2,0,"p",97),p()(),d(219,"div",98)(220,"button",99)(221,"span",100),W(),d(222,"svg",101),S(223,"path",102),p(),h(224," Create Question "),p()()()()()()()}if(t&2){let r=Qe(22),s=Qe(34),o=Qe(82),a=Qe(113);g(12),ts(i.currentLang==="en"?"bg-white shadow-sm text-primary-600 font-semibold":"text-gray-600 hover:text-gray-900"),g(2),ts(i.currentLang==="hi"?"bg-white shadow-sm text-primary-600 font-semibold":"text-gray-600 hover:text-gray-900"),g(5),Q(i.currentLang==="en"?"English":"\u0939\u093F\u0928\u094D\u0926\u0940"),g(11),z(" Question Text (",i.currentLang.toUpperCase(),") "),g(3),lt("name","questionText_",i.currentLang,""),K("ngModel",i.question.translations[i.currentLang].questionText),g(2),_("ngIf",s.invalid&&(s.touched||r.submitted)),g(5),z(" Question Images (",i.currentLang.toUpperCase(),") "),g(2),_("ngForOf",i.langPack.images),g(11),_("ngForOf",i.langPack.options),g(9),z(" Explanations (",i.currentLang.toUpperCase(),") "),g(2),_("ngForOf",i.langPack.explanations),g(17),K("ngModel",i.question.status),g(12),_("ngIf",o.invalid&&(o.touched||r.submitted)),g(4),K("ngModel",i.question.difficulty),g(15),K("ngModel",i.question.type),g(12),_("ngIf",a.invalid&&(a.touched||r.submitted)),g(11),K("ngModel",i.question.branchId),g(4),_("ngForOf",i.branches),g(7),K("ngModel",i.question.subjectId),g(4),_("ngForOf",i.subjects),g(7),K("ngModel",i.question.topicId),g(4),_("ngForOf",i.topics),g(7),K("ngModel",i.question.subtopicId),g(4),_("ngForOf",i.subtopics),g(12),K("ngModel",i.tagsInputString),g(6),K("ngModel",i.question.recommendedTimeAllotment),g(6),K("ngModel",i.question.internalNotes),g(13),K("ngModel",i.histEntry.examName),g(4),_("min",1900)("max",i.currentYear),K("ngModel",i.histEntry.year),g(4),_("ngIf",i.histList.length),g(),_("ngIf",!i.histList.length),g(2),_("disabled",r.invalid)}},dependencies:[ge,je,Ee,Ut,dt,qt,Ht,Je,ta,ea,jt,et,ut,Bn,od,sd,on,On,Ue],encapsulation:2})};function pj(n,e){if(n&1){let t=de();d(0,"button",17),F("click",function(){let r=M(t).$implicit,s=D();return P(s.switchLanguage(r))}),h(1),p()}if(n&2){let t=e.$implicit,i=D();$e("active",t===i.currentLang),g(),z(" ",t.toUpperCase()," ")}}function hj(n,e){n&1&&(d(0,"div",47),h(1," Question is required. "),p())}function fj(n,e){if(n&1&&S(0,"img",51),n&2){let t=D(),i=t.$implicit,r=t.index;lt("alt","Question Image ",r+1,""),_("src",i,wn)}}function mj(n,e){if(n&1){let t=de();d(0,"div",48),O(1,fj,1,3,"img",49),d(2,"input",50),ee("ngModelChange",function(r){let s=M(t).index,o=D();return J(o.currentQuestionImages[s],r)||(o.currentQuestionImages[s]=r),P(r)}),p(),d(3,"button",17),F("click",function(){let r=M(t).index,s=D();return P(s.removeQuestionImage(r))}),h(4,"Remove"),p()()}if(n&2){let t=e.$implicit,i=e.index,r=D();g(),_("ngIf",t),g(),ct("name","questionImage",r.currentTranslationIndex,"_",i,""),lt("placeholder","Image URL ",i+1,""),K("ngModel",r.currentQuestionImages[i])}}function gj(n,e){if(n&1&&S(0,"img",62),n&2){let t=D(),i=t.$implicit,r=t.index;lt("alt","Option ",r+1," Image"),_("src",i.img,wn)}}function vj(n,e){if(n&1){let t=de();d(0,"button",17),F("click",function(){M(t);let r=D().index,s=D();return P(s.removeOptionImage(r))}),h(1,"Clear Img"),p()}}function xj(n,e){if(n&1){let t=de();d(0,"div",52)(1,"label"),h(2),p(),d(3,"div",53)(4,"input",54),ee("ngModelChange",function(r){let s=M(t).index,o=D();return J(o.question.options[s].text,r)||(o.question.options[s].text=r),P(r)}),p(),d(5,"label",55)(6,"input",56),ee("ngModelChange",function(r){let s=M(t).index,o=D();return J(o.question.options[s].isCorrect,r)||(o.question.options[s].isCorrect=r),P(r)}),p(),h(7," Correct "),p(),d(8,"div",57),O(9,gj,1,3,"img",58),d(10,"input",59),ee("ngModelChange",function(r){let s=M(t).index,o=D();return J(o.question.options[s].img,r)||(o.question.options[s].img=r),P(r)}),p(),O(11,vj,2,0,"button",60),p(),d(12,"button",61),F("click",function(){let r=M(t).index,s=D();return P(s.removeOption(r))}),h(13," Remove Option "),p()()()}if(n&2){let t=e.$implicit,i=e.index,r=D();g(2),z("Option ",i+1,":"),g(2),lt("name","option",i,""),K("ngModel",r.question.options[i].text),g(2),lt("name","correct",i,""),K("ngModel",r.question.options[i].isCorrect),g(3),_("ngIf",t.img),g(),lt("name","optionImage",i,""),K("ngModel",r.question.options[i].img),g(),_("ngIf",t.img),g(),_("disabled",r.question.options.length<=2)}}function bj(n,e){n&1&&(d(0,"div",47),h(1," Difficulty is required. "),p())}function yj(n,e){if(n&1&&(d(0,"option",63),h(1),p()),n&2){let t=e.$implicit;_("value",t),g(),Q(t)}}function _j(n,e){n&1&&(d(0,"div",47),h(1," Type is required. "),p())}function wj(n,e){if(n&1&&(d(0,"option",63),h(1),p()),n&2){let t=e.$implicit;_("value",t),g(),Q(t)}}function Sj(n,e){n&1&&(d(0,"div",47),h(1," Status is required. "),p())}function Ej(n,e){if(n&1&&(d(0,"option",63),h(1),p()),n&2){let t=e.$implicit;_("value",t._id),g(),Q(t.name)}}function Cj(n,e){n&1&&(d(0,"div",47),h(1," Branch is required. "),p())}function kj(n,e){if(n&1&&(d(0,"option",63),h(1),p()),n&2){let t=e.$implicit;_("value",t._id),g(),Q(t.name)}}function Tj(n,e){if(n&1&&(d(0,"option",63),h(1),p()),n&2){let t=e.$implicit;_("value",t._id),g(),Q(t.name)}}function Aj(n,e){if(n&1&&(d(0,"option",63),h(1),p()),n&2){let t=e.$implicit;_("value",t._id),g(),Q(t.name)}}function Ij(n,e){if(n&1){let t=de();d(0,"textarea",78),ee("ngModelChange",function(r){M(t);let s=D().$implicit;return J(s.content,r)||(s.content=r),P(r)}),p()}if(n&2){let t=D(),i=t.$implicit,r=t.index,s=D();ct("id","expContent_",s.currentLang,"_",r,""),ct("name","expContent_",s.currentLang,"_",r,""),K("ngModel",i.content)}}function Mj(n,e){if(n&1){let t=de();d(0,"input",79),ee("ngModelChange",function(r){M(t);let s=D().$implicit;return J(s.content,r)||(s.content=r),P(r)}),p()}if(n&2){let t=D(),i=t.$implicit,r=t.index,s=D();ct("id","expContent_",s.currentLang,"_",r,""),ct("name","expContent_",s.currentLang,"_",r,""),K("ngModel",i.content),_("placeholder",i.type==="video"?"Video URL":i.type==="pdf"?"PDF URL":"Image URL")}}function Pj(n,e){n&1&&(d(0,"div",47),h(1," Content is required for the explanation. "),p())}function Dj(n,e){if(n&1){let t=de();d(0,"div",64)(1,"div",65)(2,"label",66),h(3,"Type:"),p(),d(4,"select",67),ee("ngModelChange",function(r){let s=M(t).$implicit;return J(s.type,r)||(s.type=r),P(r)}),d(5,"option",68),h(6,"Text"),p(),d(7,"option",69),h(8,"Video"),p(),d(9,"option",70),h(10,"PDF"),p(),d(11,"option",71),h(12,"Image"),p()(),d(13,"label",72),h(14,"Label (optional):"),p(),d(15,"input",73),ee("ngModelChange",function(r){let s=M(t).$implicit;return J(s.label,r)||(s.label=r),P(r)}),p(),d(16,"button",74),F("click",function(){let r=M(t).index,s=D();return P(s.removeExplanation(r))}),h(17,"Remove"),p()(),d(18,"label",75),h(19,"Content:"),p(),O(20,Ij,1,7,"textarea",76)(21,Mj,1,8,"input",77)(22,Pj,2,0,"div",14),p()}if(n&2){let t=e.$implicit,i=e.index,r=D(),s=Qe(3);g(2),ct("for","expType_",r.currentLang,"_",i,""),g(2),ct("id","expType_",r.currentLang,"_",i,""),ct("name","expType_",r.currentLang,"_",i,""),K("ngModel",t.type),g(9),ct("for","expLabel_",r.currentLang,"_",i,""),g(2),ct("id","expLabel_",r.currentLang,"_",i,""),ct("name","expLabel_",r.currentLang,"_",i,""),K("ngModel",t.label),g(3),ct("for","expContent_",r.currentLang,"_",i,""),g(2),_("ngIf",t.type==="text"),g(),_("ngIf",t.type!=="text"),g(),_("ngIf",(s.controls["expContent_"+r.currentLang+"_"+i]==null?null:s.controls["expContent_"+r.currentLang+"_"+i].invalid)&&((s.controls["expContent_"+r.currentLang+"_"+i]==null?null:s.controls["expContent_"+r.currentLang+"_"+i].touched)||s.submitted))}}var $f=class n{questionService=se(Ft);route=se(cn);router=se(Se);id;question={translations:[],difficulty:"",options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1}],type:"MCQ",status:"Draft",tags:[],recommendedTimeAllotment:void 0,internalNotes:""};tagsInputString="";branches=[];subjects=[];topics=[];subtopics=[];isLoading=!1;currentLang="en";currentTranslationIndex=0;availableLangs=["en","hi"];currentTranslationExplanations=[];get currentQuestionImages(){return this.question&&this.question.translations&&this.question.translations[this.currentTranslationIndex]?(this.question.translations[this.currentTranslationIndex].images||(this.question.translations[this.currentTranslationIndex].images=[]),this.question.translations[this.currentTranslationIndex].images):[]}questionTypes=["MCQ","SA","LA","FITB","Matrix","single","multiple"];questionStatuses=["Draft","Published","Archived","Pending Review","active","inactive"];getHierarchicalId(e){if(e){if(typeof e=="string")return e;if(e.$oid)return e.$oid;if(e._id){let t=e._id;return typeof t=="string"?t:t.$oid}}}ngOnInit(){console.log("[EditQuestionComponent] ngOnInit: Component initializing."),console.log("[EditQuestionComponent] ngOnInit: Route snapshot:",this.route.snapshot),this.id=this.route.snapshot.paramMap.get("id"),console.log("[EditQuestionComponent] ngOnInit: Extracted question ID:",this.id),this.fetchBranches(),this.id?(console.log("[EditQuestionComponent] ngOnInit: Attempting to load question with ID:",this.id),this.questionService.getQuestionById(this.id).subscribe({next:e=>{console.log("[EditQuestionComponent] ngOnInit: Successfully loaded question data:",e),e.translations?e.translations.forEach(i=>{i.images===void 0&&(i.images=[])}):e.translations=[],this.question=_e(L({},e),{branchId:this.getHierarchicalId(e.branch),subjectId:this.getHierarchicalId(e.subject),topicId:this.getHierarchicalId(e.topic),subTopicId:this.getHierarchicalId(e.subTopic),options:[],questionText:"",tags:e.tags||[],recommendedTimeAllotment:e.recommendedTimeAllotment,internalNotes:e.internalNotes||""}),e.type&&(this.question.type=e.type),e.status&&(this.question.status=e.status),this.tagsInputString=this.question.tags?this.question.tags.join(", "):"",this.question.translations.length===0&&(this.question.translations=[{lang:"en",questionText:"",options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1}],explanations:[{type:"text",content:""}],images:[]}]),this.question.translations?.forEach(i=>{i.explanations===void 0?i.explanations=[{type:"text",content:""}]:i.explanations.length===0&&i.explanations.push({type:"text",content:""}),i.explanations.forEach(r=>{r.type||(r.type="text"),r.content===void 0&&(r.content="")})}),this.currentLang=this.question.translations[0].lang||"en",this.currentTranslationIndex=this.question.translations.findIndex(i=>i.lang===this.currentLang),this.currentTranslationIndex===-1&&(this.currentTranslationIndex=0);let t=this.question.translations[this.currentTranslationIndex];this.question.questionText=t.questionText||"",this.question.options=t?.options&&t.options.length>0?t.options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1}],this.currentTranslationExplanations=t?.explanations?.map(i=>({type:i.type||"text",label:i.label||"",content:i.content||""}))||[{type:"text",content:""}],this.question.branchId&&this.fetchSubjects(this.question.branchId),this.question.subjectId&&this.fetchTopics(this.question.subjectId),this.question.topicId&&this.fetchSubtopics(this.question.topicId)},error:e=>{console.error("[EditQuestionComponent] ngOnInit: Error loading question:",e)}})):(console.log("[EditQuestionComponent] ngOnInit: No ID found, initializing for new question."),this.question={translations:[{lang:"en",questionText:"",options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1}],explanations:[{type:"text",content:""}],images:[]}],difficulty:"",questionText:"",options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1}],type:"MCQ",status:"Draft",tags:[],recommendedTimeAllotment:void 0,internalNotes:"",branch:void 0,subject:void 0,topic:void 0,subTopic:void 0},this.tagsInputString="",this.currentLang="en",this.currentTranslationIndex=0)}fetchBranches(){this.questionService.getBranches().subscribe({next:e=>this.branches=Array.isArray(e)?e:e.branches||[],error:e=>console.error("Error fetching branches:",e)})}fetchSubjects(e){e&&this.questionService.getSubjects(e).subscribe({next:t=>this.subjects=t.subjects||t||[],error:t=>console.error("Error fetching subjects:",t)})}fetchTopics(e){e&&this.questionService.getTopics(e).subscribe({next:t=>this.topics=t.topics||t||[],error:t=>console.error("Error fetching topics:",t)})}fetchSubtopics(e){e&&this.questionService.getSubtopics(e).subscribe({next:t=>this.subtopics=t.subtopics||t||[],error:t=>console.error("Error fetching subtopics:",t)})}onBranchChange(e){this.question.branchId=e,this.question.subjectId=void 0,this.question.topicId=void 0,this.question.subTopicId=void 0,this.subjects=[],this.topics=[],this.subtopics=[],e&&this.fetchSubjects(e)}onSubjectChange(e){this.question.subjectId=e,this.question.topicId=void 0,this.question.subTopicId=void 0,this.topics=[],this.subtopics=[],e&&this.fetchTopics(e)}onTopicChange(e){this.question.topicId=e,this.question.subTopicId=void 0,this.subtopics=[],e&&this.fetchSubtopics(e)}onSubtopicChange(e){this.question.subTopicId=e}onTagsInputChange(e){this.tagsInputString=e,e&&e.trim()!==""?this.question.tags=e.split(",").map(t=>t.trim()).filter(t=>t!==""):this.question.tags=[]}switchLanguage(e){let t=this.question.translations?.findIndex(i=>i.lang===e);if(t!==void 0&&t!==-1){let i=this.question.translations[this.currentTranslationIndex];i.questionText=this.question.questionText||"",i.options=this.question.options||[],i.explanations=this.currentTranslationExplanations.map(s=>({type:s.type||"text",label:s.label,content:s.content})),this.currentLang=e,this.currentTranslationIndex=t;let r=this.question.translations[this.currentTranslationIndex];r.images===void 0&&(r.images=[]),(r.explanations===void 0||r.explanations.length===0)&&(r.explanations=[{type:"text",content:""}]),r.explanations.forEach(s=>{s.type||(s.type="text"),s.content===void 0&&(s.content="")}),this.question.questionText=r.questionText,this.question.options=r.options,this.currentTranslationExplanations=r.explanations.map(s=>({type:s.type||"text",label:s.label||"",content:s.content||""}))}else this.addTranslation(e)}addTranslation(e){if(this.question.translations||(this.question.translations=[]),!this.question.translations.find(t=>t.lang===e)){if(this.question.translations[this.currentTranslationIndex]){let t=this.question.translations[this.currentTranslationIndex];t.questionText=this.question.questionText||"",t.options=this.question.options||[],t.explanations=this.currentTranslationExplanations.map(i=>({type:i.type||"text",label:i.label,content:i.content}))}this.question.translations.push({lang:e,questionText:"",options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1}],explanations:[{type:"text",content:""}],images:[]}),this.currentLang=e,this.currentTranslationIndex=this.question.translations.length-1,this.question.questionText="",this.question.options=[{text:"",isCorrect:!1},{text:"",isCorrect:!1}],this.currentTranslationExplanations=[{type:"text",content:""}]}}addExplanation(){this.currentTranslationExplanations.push({type:"text",content:""})}removeExplanation(e){this.currentTranslationExplanations.length>0&&this.currentTranslationExplanations.splice(e,1)}addQuestionImage(){this.question&&this.question.translations&&this.question.translations[this.currentTranslationIndex]&&(this.question.translations[this.currentTranslationIndex].images||(this.question.translations[this.currentTranslationIndex].images=[]),this.question.translations[this.currentTranslationIndex].images.push(""))}removeQuestionImage(e){this.question&&this.question.translations&&this.question.translations[this.currentTranslationIndex]&&this.question.translations[this.currentTranslationIndex].images&&this.question.translations[this.currentTranslationIndex].images.splice(e,1)}removeOptionImage(e){this.question&&this.question.options&&this.question.options[e]&&(this.question.options[e].img="")}save(e){if(e.invalid){e.control.markAllAsTouched();return}if(this.question.translations&&this.question.translations[this.currentTranslationIndex]){let r=this.question.translations[this.currentTranslationIndex];r.questionText=this.question.questionText||"",r.options=this.question.options||[],r.explanations=this.currentTranslationExplanations.map(s=>({type:s.type||"text",label:s.label,content:s.content}))}let t={translations:this.question.translations,difficulty:this.question.difficulty,branch:this.question.branchId,subject:this.question.subjectId,topic:this.question.topicId,subTopic:this.question.subTopicId,type:this.question.type,status:this.question.status,tags:this.question.tags,recommendedTimeAllotment:this.question.recommendedTimeAllotment,internalNotes:this.question.internalNotes};this.id&&(t._id=this.id),this.isLoading=!0,(this.id?this.questionService.updateQuestion(this.id,t):this.questionService.addQuestion(t)).pipe(Uo(()=>this.isLoading=!1)).subscribe({next:r=>{alert(`Question ${this.id?"updated":"added"} successfully!`),this.router.navigate(["/questions"])},error:r=>{console.error(`Failed to ${this.id?"update":"add"} question:`,r),alert(`Failed to ${this.id?"update":"add"} question.`)}})}cancel(){this.router.navigate(["/questions"])}addOption(){this.question.options||(this.question.options=[]),this.question.options.push({text:"",isCorrect:!1})}removeOption(e){this.question.options&&this.question.options.length>2&&this.question.options.splice(e,1)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=pe({type:n,selectors:[["app-edit-question"]],decls:116,vars:33,consts:[["form","ngForm"],["qt","ngModel"],["diff","ngModel"],["typeCtrl","ngModel"],["statusCtrl","ngModel"],["branchCtrl","ngModel"],["subjectCtrl","ngModel"],["topicCtrl","ngModel"],["subtopicCtrl","ngModel"],[3,"ngSubmit"],[1,"language-switcher"],["type","button",3,"active","click",4,"ngFor","ngForOf"],["type","button","title","Add a new language (replace code)",3,"click"],["type","text","name","questionText","required","",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],[1,"form-section"],["class","image-item",4,"ngFor","ngForOf"],["type","button",3,"click"],["class","form-section option-item",4,"ngFor","ngForOf"],["for","difficulty"],["id","difficulty","name","difficulty","required","",3,"ngModelChange","ngModel"],["value",""],["value","Easy"],["value","Medium"],["value","Hard"],["for","type"],["id","type","name","type","required","",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","status"],["id","status","name","status","required","",3,"ngModelChange","ngModel"],["for","branch"],["id","branch","name","branch","required","",3,"ngModelChange","change","ngModel"],["for","subject"],["id","subject","name","subject",3,"ngModelChange","change","ngModel","disabled"],["for","topic"],["id","topic","name","topic",3,"ngModelChange","change","ngModel","disabled"],["for","subTopic"],["id","subTopic","name","subTopic",3,"ngModelChange","change","ngModel","disabled"],["for","tags"],["type","text","id","tags","name","tags","placeholder","e.g., algebra, geometry, important",3,"ngModelChange","ngModel"],["for","recommendedTime"],["type","number","id","recommendedTime","name","recommendedTime","placeholder","e.g., 300",3,"ngModelChange","ngModel"],["for","internalNotes"],["id","internalNotes","name","internalNotes","rows","3","placeholder","Internal notes or comments for this question...",3,"ngModelChange","ngModel"],["for","explanation"],["class","explanation-item form-section",4,"ngFor","ngForOf"],["type","submit",3,"disabled"],[1,"error"],[1,"image-item"],["style","max-width: 100px; max-height: 100px; margin-right: 10px;",3,"src","alt",4,"ngIf"],["type","text",2,"flex-grow","1","margin-right","10px",3,"ngModelChange","ngModel","name","placeholder"],[2,"max-width","100px","max-height","100px","margin-right","10px",3,"src","alt"],[1,"form-section","option-item"],[1,"option-content"],["type","text","required","","placeholder","Option text",2,"flex-grow","1","margin-right","10px",3,"ngModelChange","ngModel","name"],[1,"checkbox-label"],["type","checkbox",3,"ngModelChange","ngModel","name"],[1,"option-image-section",2,"margin-left","20px"],["style","max-width: 70px; max-height: 70px; margin-right: 5px;",3,"src","alt",4,"ngIf"],["type","text","placeholder","Option Image URL",2,"margin-right","5px",3,"ngModelChange","ngModel","name"],["type","button",3,"click",4,"ngIf"],["type","button",1,"remove-option-btn",3,"click","disabled"],[2,"max-width","70px","max-height","70px","margin-right","5px",3,"src","alt"],[3,"value"],[1,"explanation-item","form-section"],[1,"explanation-controls"],[3,"for"],[3,"ngModelChange","id","name","ngModel"],["value","text"],["value","video"],["value","pdf"],["value","image"],[2,"margin-left","10px",3,"for"],["type","text","placeholder","Label",3,"ngModelChange","id","name","ngModel"],["type","button",1,"remove-explanation-btn",2,"margin-left","10px",3,"click"],[2,"display","block","margin-top","5px",3,"for"],["placeholder","Explanation Text","rows","3","style","width: 100%;",3,"id","name","ngModel","ngModelChange",4,"ngIf"],["type","text","style","width: 100%;",3,"id","name","ngModel","placeholder","ngModelChange",4,"ngIf"],["placeholder","Explanation Text","rows","3",2,"width","100%",3,"ngModelChange","id","name","ngModel"],["type","text",2,"width","100%",3,"ngModelChange","id","name","ngModel","placeholder"]],template:function(t,i){if(t&1){let r=de();d(0,"h2"),h(1,"Edit Question"),p(),d(2,"form",9,0),F("ngSubmit",function(){M(r);let o=Qe(3);return P(i.save(o))}),d(4,"div",10)(5,"label"),h(6,"Language:"),p(),O(7,pj,2,3,"button",11),d(8,"button",12),F("click",function(){return M(r),P(i.switchLanguage("new_lang_code_here"))}),h(9,"Add Other Lang"),p()(),S(10,"hr"),d(11,"div")(12,"label"),h(13,"Question:"),p(),d(14,"input",13,1),ee("ngModelChange",function(o){return M(r),J(i.question.questionText,o)||(i.question.questionText=o),P(o)}),p(),O(16,hj,2,0,"div",14),p(),d(17,"div",15)(18,"h4"),h(19),p(),O(20,mj,5,7,"div",16),d(21,"button",17),F("click",function(){return M(r),P(i.addQuestionImage())}),h(22,"+ Add Question Image URL"),p()(),O(23,xj,14,13,"div",18),d(24,"div")(25,"button",17),F("click",function(){return M(r),P(i.addOption())}),h(26," + Add Option "),p()(),d(27,"div")(28,"label",19),h(29,"Difficulty:"),p(),d(30,"select",20,2),ee("ngModelChange",function(o){return M(r),J(i.question.difficulty,o)||(i.question.difficulty=o),P(o)}),d(32,"option",21),h(33,"Select Difficulty"),p(),d(34,"option",22),h(35,"Easy"),p(),d(36,"option",23),h(37,"Medium"),p(),d(38,"option",24),h(39,"Hard"),p()(),O(40,bj,2,0,"div",14),p(),d(41,"div")(42,"label",25),h(43,"Type:"),p(),d(44,"select",26,3),ee("ngModelChange",function(o){return M(r),J(i.question.type,o)||(i.question.type=o),P(o)}),d(46,"option",21),h(47,"Select Type"),p(),O(48,yj,2,2,"option",27),p(),O(49,_j,2,0,"div",14),p(),d(50,"div")(51,"label",28),h(52,"Status:"),p(),d(53,"select",29,4),ee("ngModelChange",function(o){return M(r),J(i.question.status,o)||(i.question.status=o),P(o)}),d(55,"option",21),h(56,"Select Status"),p(),O(57,wj,2,2,"option",27),p(),O(58,Sj,2,0,"div",14),p(),d(59,"div")(60,"label",30),h(61,"Branch:"),p(),d(62,"select",31,5),ee("ngModelChange",function(o){return M(r),J(i.question.branchId,o)||(i.question.branchId=o),P(o)}),F("change",function(o){return M(r),P(i.onBranchChange(o.target.value))}),d(64,"option",21),h(65,"Select Branch"),p(),O(66,Ej,2,2,"option",27),p(),O(67,Cj,2,0,"div",14),p(),d(68,"div")(69,"label",32),h(70,"Subject:"),p(),d(71,"select",33,6),ee("ngModelChange",function(o){return M(r),J(i.question.subjectId,o)||(i.question.subjectId=o),P(o)}),F("change",function(o){return M(r),P(i.onSubjectChange(o.target.value))}),d(73,"option",21),h(74,"Select Subject"),p(),O(75,kj,2,2,"option",27),p()(),d(76,"div")(77,"label",34),h(78,"Topic:"),p(),d(79,"select",35,7),ee("ngModelChange",function(o){return M(r),J(i.question.topicId,o)||(i.question.topicId=o),P(o)}),F("change",function(o){return M(r),P(i.onTopicChange(o.target.value))}),d(81,"option",21),h(82,"Select Topic"),p(),O(83,Tj,2,2,"option",27),p()(),d(84,"div")(85,"label",36),h(86,"Subtopic:"),p(),d(87,"select",37,8),ee("ngModelChange",function(o){return M(r),J(i.question.subTopicId,o)||(i.question.subTopicId=o),P(o)}),F("change",function(o){return M(r),P(i.onSubtopicChange(o.target.value))}),d(89,"option",21),h(90,"Select Subtopic"),p(),O(91,Aj,2,2,"option",27),p()(),d(92,"div")(93,"label",38),h(94,"Tags (comma-separated):"),p(),d(95,"input",39),ee("ngModelChange",function(o){return M(r),J(i.tagsInputString,o)||(i.tagsInputString=o),P(o)}),F("ngModelChange",function(o){return M(r),P(i.onTagsInputChange(o))}),p()(),d(96,"div")(97,"label",40),h(98,"Recommended Time (seconds):"),p(),d(99,"input",41),ee("ngModelChange",function(o){return M(r),J(i.question.recommendedTimeAllotment,o)||(i.question.recommendedTimeAllotment=o),P(o)}),p()(),d(100,"div")(101,"label",42),h(102,"Internal Notes/Author Comments:"),p(),d(103,"textarea",43),ee("ngModelChange",function(o){return M(r),J(i.question.internalNotes,o)||(i.question.internalNotes=o),P(o)}),p()(),d(104,"div")(105,"label",44),h(106),p(),O(107,Dj,23,26,"div",45),d(108,"button",17),F("click",function(){return M(r),P(i.addExplanation())}),h(109,"+ Add Explanation"),p()(),S(110,"hr"),d(111,"div")(112,"button",46),h(113),p(),d(114,"button",17),F("click",function(){return M(r),P(i.cancel())}),h(115,"Cancel"),p()()()}if(t&2){let r=Qe(3),s=Qe(15),o=Qe(31),a=Qe(45),l=Qe(54),c=Qe(63);g(7),_("ngForOf",i.availableLangs),g(7),K("ngModel",i.question.questionText),g(2),_("ngIf",s.invalid&&(s.touched||r.submitted)),g(3),z("Question Images (for ",i.currentLang.toUpperCase(),")"),g(),_("ngForOf",i.currentQuestionImages),g(3),_("ngForOf",i.question.options),g(7),K("ngModel",i.question.difficulty),g(10),_("ngIf",o.invalid&&(o.touched||r.submitted)),g(4),K("ngModel",i.question.type),g(4),_("ngForOf",i.questionTypes),g(),_("ngIf",a.invalid&&(a.touched||r.submitted)),g(4),K("ngModel",i.question.status),g(4),_("ngForOf",i.questionStatuses),g(),_("ngIf",l.invalid&&(l.touched||r.submitted)),g(4),K("ngModel",i.question.branchId),g(4),_("ngForOf",i.branches),g(),_("ngIf",c.invalid&&(c.touched||r.submitted)),g(4),K("ngModel",i.question.subjectId),_("disabled",!i.question.branchId||i.subjects.length===0),g(4),_("ngForOf",i.subjects),g(4),K("ngModel",i.question.topicId),_("disabled",!i.question.subjectId||i.topics.length===0),g(4),_("ngForOf",i.topics),g(4),K("ngModel",i.question.subTopicId),_("disabled",!i.question.topicId||i.subtopics.length===0),g(4),_("ngForOf",i.subtopics),g(4),K("ngModel",i.tagsInputString),g(4),K("ngModel",i.question.recommendedTimeAllotment),g(4),K("ngModel",i.question.internalNotes),g(3),z("Explanations (for ",i.currentLang.toUpperCase(),"):"),g(),_("ngForOf",i.currentTranslationExplanations),g(5),_("disabled",i.isLoading),g(),z(" ",i.isLoading?"Saving...":"Save Changes"," ")}},dependencies:[ge,je,Ee,Ut,dt,qt,Ht,Je,ta,ea,jt,et,ut,Bn,on,On],styles:["[_nghost-%COMP%]{display:block;padding:20px;font-family:Arial,sans-serif}h2[_ngcontent-%COMP%]{color:#333;margin-bottom:25px;border-bottom:2px solid #eee;padding-bottom:10px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.form-section[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:15px;border-radius:8px;border:1px solid #e0e0e0;margin-bottom:15px}.form-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0;margin-bottom:15px;color:#555}label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:700;color:#444}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box;font-size:1rem;transition:border-color .3s ease}input[type=text][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}textarea[_ngcontent-%COMP%]{min-height:80px;resize:vertical}button[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]{padding:10px 18px;border:none;border-radius:4px;cursor:pointer;font-size:1rem;font-weight:500;transition:background-color .3s ease,transform .1s ease;text-transform:capitalize}button[_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover{opacity:.9;transform:translateY(-1px)}button[_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:active{transform:translateY(0)}button[type=submit][_ngcontent-%COMP%], button.primary[_ngcontent-%COMP%], button[type=button][class*=add][_ngcontent-%COMP%], .language-switcher[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{background-color:#007bff;color:#fff}button[type=submit][_ngcontent-%COMP%]:hover, button.primary[_ngcontent-%COMP%]:hover, button[type=button][class*=add][_ngcontent-%COMP%]:hover, .language-switcher[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[type=submit][_ngcontent-%COMP%]:disabled, button.primary[_ngcontent-%COMP%]:disabled, button[type=button][class*=add][_ngcontent-%COMP%]:disabled, .language-switcher[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]:disabled{background-color:#a0cfff;cursor:not-allowed}button[type=button][_ngcontent-%COMP%]:not([class*=add]):not(.primary):not(.active), button.secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}button[type=button][_ngcontent-%COMP%]:not([class*=add]):not(.primary):not(.active):hover, button.secondary[_ngcontent-%COMP%]:hover{background-color:#545b62}.remove-option-btn[class*=remove][_ngcontent-%COMP%], .remove-option-btn[onclick*=remove][_ngcontent-%COMP%], .remove-explanation-btn[class*=remove][_ngcontent-%COMP%], .remove-explanation-btn[onclick*=remove][_ngcontent-%COMP%], button[type=button][title*=Remove][class*=remove][_ngcontent-%COMP%], button[type=button][title*=Remove][onclick*=remove][_ngcontent-%COMP%], button[type=button][class*=remove][_ngcontent-%COMP%], button[type=button][onclick*=remove][_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.remove-option-btn[class*=remove][_ngcontent-%COMP%]:hover, .remove-option-btn[onclick*=remove][_ngcontent-%COMP%]:hover, .remove-explanation-btn[class*=remove][_ngcontent-%COMP%]:hover, .remove-explanation-btn[onclick*=remove][_ngcontent-%COMP%]:hover, button[type=button][title*=Remove][class*=remove][_ngcontent-%COMP%]:hover, button[type=button][title*=Remove][onclick*=remove][_ngcontent-%COMP%]:hover, button[type=button][class*=remove][_ngcontent-%COMP%]:hover, button[type=button][onclick*=remove][_ngcontent-%COMP%]:hover{background-color:#c82333}.remove-option-btn[_ngcontent-%COMP%], .remove-explanation-btn[_ngcontent-%COMP%]{background-color:#dc3545!important;color:#fff!important}.remove-option-btn[_ngcontent-%COMP%]:hover, .remove-explanation-btn[_ngcontent-%COMP%]:hover{background-color:#c82333!important}.language-switcher[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:15px;align-items:center}.language-switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0}.language-switcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#f0f0f0;color:#333;border:1px solid #ddd}.language-switcher[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border-color:#007bff;font-weight:700}.language-switcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(.active){background-color:#e0e0e0}.option-item[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.option-item[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{flex-grow:1}.option-item[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;margin-bottom:0;font-weight:400;white-space:nowrap}.option-item[_ngcontent-%COMP%]   .option-image-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.option-item[_ngcontent-%COMP%]   .option-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid #eee;border-radius:4px}.image-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:10px}.image-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid #eee;border-radius:4px}.image-item[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{flex-grow:1}.explanation-item[_ngcontent-%COMP%]   .explanation-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:10px;flex-wrap:wrap}.explanation-item[_ngcontent-%COMP%]   .explanation-controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;white-space:nowrap}.explanation-item[_ngcontent-%COMP%]   .explanation-controls[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .explanation-item[_ngcontent-%COMP%]   .explanation-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:auto;min-width:150px}.error[_ngcontent-%COMP%]{color:#dc3545;font-size:.875rem;margin-top:5px}hr[_ngcontent-%COMP%]{border:none;border-top:1px solid #e0e0e0;margin-top:20px;margin-bottom:20px}form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{display:flex;gap:10px;margin-top:20px;padding-top:20px;border-top:1px solid #eee}@media (max-width: 768px){.option-item[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%], .explanation-item[_ngcontent-%COMP%]   .explanation-controls[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{font-size:.95rem}button[_ngcontent-%COMP%]{padding:9px 15px;font-size:.95rem}}"]})};var Nj=n=>["/questions","edit",n];function Lj(n,e){n&1&&(d(0,"div",5)(1,"div",6),S(2,"div",7),d(3,"p",8),h(4,"Loading question details..."),p()()())}function Oj(n,e){if(n&1&&(d(0,"div",9)(1,"div",10),W(),d(2,"svg",11),S(3,"path",12),p(),Z(),d(4,"h3",13),h(5,"Error Loading Question"),p(),d(6,"p",14),h(7),p(),d(8,"button",15),h(9," Back to Question List "),p()()()),n&2){let t=D();g(7),Q(t.errorMessage)}}function Rj(n,e){if(n&1&&(d(0,"div")(1,"span",33),h(2,"Recommended Time"),p(),d(3,"p",38),h(4),p()()),n&2){let t=D(2);g(4),z("",t.question.recommendedTimeAllotment," seconds")}}function Fj(n,e){if(n&1&&(d(0,"span",61),h(1),p()),n&2){let t=e.$implicit;g(),z(" ",t," ")}}function Bj(n,e){if(n&1&&(d(0,"div",57)(1,"span",58),h(2,"Tags"),p(),d(3,"div",59),O(4,Fj,2,1,"span",60),p()()),n&2){let t=D(2);g(4),_("ngForOf",t.question.tags)}}function Vj(n,e){if(n&1&&(d(0,"div",57)(1,"span",58),h(2,"Internal Notes"),p(),d(3,"div",62)(4,"p",63),h(5),p()()()),n&2){let t=D(2);g(5),Q(t.question.internalNotes)}}function $j(n,e){n&1&&(d(0,"span",83),W(),d(1,"svg",84),S(2,"path",85),p(),h(3," Correct Answer "),p())}function jj(n,e){if(n&1&&(d(0,"div",79)(1,"span",80),h(2),p(),d(3,"div",81),S(4,"div",74),O(5,$j,4,0,"span",82),p()()),n&2){let t=e.$implicit,i=e.index;ts(t.isCorrect?"bg-green-50 border-green-200":"bg-white border-gray-200"),g(),ts(t.isCorrect?"bg-green-500 text-white":"bg-gray-200 text-gray-600"),g(),z(" ",i+1," "),g(2),_("innerHTML",t.text,Ri),g(),_("ngIf",t.isCorrect)}}function qj(n,e){if(n&1&&(d(0,"div",71)(1,"h4",76),h(2,"Answer Options"),p(),d(3,"div",77),O(4,jj,6,7,"div",78),p()()),n&2){let t=D().$implicit;g(4),_("ngForOf",t.options)}}function Hj(n,e){if(n&1&&(d(0,"span",93),h(1),p()),n&2){let t=D().$implicit;g(),Q(t.label)}}function Uj(n,e){if(n&1&&S(0,"div",74),n&2){let t=D().$implicit;_("innerHTML",t.content,Ri)}}function zj(n,e){if(n&1&&(d(0,"a",94),h(1),p()),n&2){let t=D().$implicit;_("href",t.content,wn),g(),z(" ",t.content," ")}}function Wj(n,e){if(n&1&&(d(0,"div",73)(1,"div",87)(2,"span",88),h(3),hi(4,"titlecase"),p(),O(5,Hj,2,1,"span",89),p(),d(6,"div",90),O(7,Uj,1,1,"div",91)(8,zj,2,2,"a",92),p()()),n&2){let t=e.$implicit;g(3),z(" ",Zo(4,4,t.type)," "),g(2),_("ngIf",t.label),g(2),_("ngIf",t.type==="text"),g(),_("ngIf",t.type==="video"||t.type==="pdf"||t.type==="image")}}function Qj(n,e){if(n&1&&(d(0,"div",71)(1,"h4",76),h(2,"Explanations"),p(),d(3,"div",32),O(4,Wj,9,6,"div",86),p()()),n&2){let t=D().$implicit;g(4),_("ngForOf",t.explanations)}}function Gj(n,e){if(n&1&&(d(0,"div",67)(1,"div",68)(2,"h3",69)(3,"span",70),h(4),p(),h(5),p()(),d(6,"div",71)(7,"h4",72),h(8,"Question Text"),p(),d(9,"div",73),S(10,"div",74),p()(),O(11,qj,5,1,"div",75)(12,Qj,5,1,"div",75),p()),n&2){let t=e.$implicit;g(4),z(" ",t.lang.toUpperCase()," "),g(),z(" ",t.lang==="en"?"English":"\u0939\u093F\u0928\u094D\u0926\u0940"," "),g(5),_("innerHTML",t.questionText,Ri),g(),_("ngIf",t.options&&t.options.length>0),g(),_("ngIf",t.explanations&&t.explanations.length>0)}}function Yj(n,e){if(n&1&&(d(0,"div",17)(1,"h2",28),W(),d(2,"svg",64),S(3,"path",65),p(),h(4," Translations "),p(),Z(),d(5,"div",16),O(6,Gj,13,5,"div",66),p()()),n&2){let t=D(2);g(6),_("ngForOf",t.question.translations)}}function Xj(n,e){if(n&1&&(d(0,"div",98)(1,"div")(2,"span",99),h(3),p(),d(4,"span",100),h(5),p()(),d(6,"span",101),h(7),hi(8,"date"),p()()),n&2){let t=e.$implicit,i=D(3);g(3),Q(t.examName),g(2),Q(t.title),g(2),z(" ",Ko(8,3,i.formatDate(t.dateAppeared),"shortDate")," ")}}function Zj(n,e){if(n&1&&(d(0,"div",17)(1,"h2",28),W(),d(2,"svg",95),S(3,"path",96),p(),h(4," Question History "),p(),Z(),d(5,"div",77),O(6,Xj,9,6,"div",97),p()()),n&2){let t=D(2);g(6),_("ngForOf",t.question.questionHistory)}}function Kj(n,e){if(n&1&&(d(0,"div",16)(1,"div",17)(2,"div",18)(3,"div",19)(4,"h1",20),h(5,"Question Details"),p(),d(6,"p",21),h(7),hi(8,"slice"),p()(),d(9,"div",22)(10,"button",23),W(),d(11,"svg",24),S(12,"path",25),p(),h(13," Back to List "),p(),Z(),d(14,"button",26),W(),d(15,"svg",24),S(16,"path",27),p(),h(17," Edit Question "),p()()()(),Z(),d(18,"div",17)(19,"h2",28),W(),d(20,"svg",29),S(21,"path",30),p(),h(22," Basic Information "),p(),Z(),d(23,"div",31)(24,"div",32)(25,"div")(26,"span",33),h(27,"Question ID"),p(),d(28,"p",34),h(29),p()(),d(30,"div")(31,"span",33),h(32,"Type"),p(),d(33,"p",35),h(34),p()(),d(35,"div")(36,"span",33),h(37,"Status"),p(),d(38,"span",36),h(39),p()()(),d(40,"div",32)(41,"div")(42,"span",33),h(43,"Difficulty"),p(),d(44,"span",36),h(45),p()(),O(46,Rj,5,1,"div",37),d(47,"div")(48,"span",33),h(49,"Version"),p(),d(50,"p",38),h(51),p()()(),d(52,"div",32)(53,"div")(54,"span",33),h(55,"Created"),p(),d(56,"p",39),h(57),hi(58,"date"),p()(),d(59,"div")(60,"span",33),h(61,"Last Updated"),p(),d(62,"p",39),h(63),hi(64,"date"),p()()()(),O(65,Bj,5,1,"div",40)(66,Vj,6,1,"div",40),p(),d(67,"div",17)(68,"h2",28),W(),d(69,"svg",41),S(70,"path",42),p(),h(71," Subject Hierarchy "),p(),Z(),d(72,"div",43)(73,"div",44)(74,"span",45),h(75,"Branch"),p(),d(76,"p",46),h(77),p()(),d(78,"div",47)(79,"span",48),h(80,"Subject"),p(),d(81,"p",49),h(82),p()(),d(83,"div",50)(84,"span",51),h(85,"Topic"),p(),d(86,"p",52),h(87),p()(),d(88,"div",53)(89,"span",54),h(90,"Subtopic"),p(),d(91,"p",55),h(92),p()()()(),O(93,Yj,7,1,"div",56)(94,Zj,7,1,"div",56),p()),n&2){let t=D();g(7),z("ID: ",G1(8,22,t.getIdString(t.question._id),0,8),"..."),g(7),_("routerLink",W1(32,Nj,t.getIdString(t.question._id))),g(15),Q(t.getIdString(t.question._id)),g(5),Q(t.question.type),g(4),ts(t.question.status==="Published"?"bg-green-100 text-green-800":t.question.status==="draft"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),g(),z(" ",t.question.status," "),g(5),ts(t.question.difficulty==="Easy"?"bg-green-100 text-green-800":t.question.difficulty==="Medium"?"bg-yellow-100 text-yellow-800":t.question.difficulty==="Hard"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),g(),z(" ",t.question.difficulty," "),g(),_("ngIf",t.question.recommendedTimeAllotment!==void 0),g(5),Q(t.getDisplayVersion(t.question.version)),g(6),Q(Ko(58,26,t.formatDate(t.question.createdAt),"medium")),g(6),Q(Ko(64,29,t.formatDate(t.question.updatedAt),"medium")),g(2),_("ngIf",t.question.tags&&t.question.tags.length>0),g(),_("ngIf",t.question.internalNotes),g(11),Q(t.getHierarchyName(t.question.branch)),g(5),Q(t.getHierarchyName(t.question.subject)),g(5),Q(t.getHierarchyName(t.question.topic)),g(5),Q(t.getHierarchyName(t.question.subTopic)),g(),_("ngIf",t.question.translations&&t.question.translations.length>0),g(),_("ngIf",t.question.questionHistory&&t.question.questionHistory.length>0)}}var jf=class n{constructor(e,t){this.route=e;this.questionService=t}question;isLoading=!0;errorMessage="";ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e?this.questionService.getQuestionById(e).subscribe({next:t=>{this.question=t,this.isLoading=!1},error:t=>{this.errorMessage="Failed to load question details.",console.error(t),this.isLoading=!1}}):(this.errorMessage="Question ID not found.",this.isLoading=!1)}getTranslation(e){return this.question?.translations?.find(t=>t.lang===e)}getOptionText(e){return e?.text||"N/A"}getIdString(e){return e?typeof e=="string"?e:e.$oid?e.$oid:String(e):""}formatDate(e){return e?e instanceof Date?e:typeof e=="string"?new Date(e):e.$date&&e.$date.$numberLong?new Date(parseInt(e.$date.$numberLong,10)):e.$date?new Date(e.$date):typeof e=="number"?new Date(e):null:null}getHierarchyName(e){return e?typeof e=="string"?e:e.$oid?e.$oid:e.name?e.name:"Invalid Data":"N/A"}getDisplayVersion(e){return typeof e=="object"&&e!==null&&e.hasOwnProperty("$numberInt")?e.$numberInt:e==null?"N/A":String(e)}static \u0275fac=function(t){return new(t||n)(U(cn),U(Ft))};static \u0275cmp=pe({type:n,selectors:[["app-question-detail"]],decls:5,vars:3,consts:[[1,"min-h-screen","bg-gray-50","py-6","px-4","sm:px-6","lg:px-8"],[1,"max-w-6xl","mx-auto"],["class","flex items-center justify-center py-20",4,"ngIf"],["class","max-w-2xl mx-auto",4,"ngIf"],["class","space-y-6",4,"ngIf"],[1,"flex","items-center","justify-center","py-20"],[1,"text-center"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-primary-600","mx-auto","mb-4"],[1,"text-gray-600","text-lg"],[1,"max-w-2xl","mx-auto"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-6","text-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","text-red-500","mx-auto","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16c-.77.833.192 2.5 1.732 2.5z"],[1,"text-lg","font-semibold","text-red-800","mb-2"],[1,"text-red-700","mb-4"],["routerLink","/questions",1,"btn-primary","px-6","py-3","bg-primary-600","text-white","rounded-lg","hover:bg-primary-700","transition-colors"],[1,"space-y-6"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-200","p-6"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between"],[1,"mb-4","sm:mb-0"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-600","mt-1"],[1,"flex","flex-col","sm:flex-row","gap-3"],["routerLink","/questions",1,"btn-secondary","px-4","py-2","bg-gray-100","text-gray-700","rounded-lg","hover:bg-gray-200","transition-colors","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 19l-7-7m0 0l7-7m-7 7h18"],[1,"btn-primary","px-4","py-2","bg-primary-600","text-white","rounded-lg","hover:bg-primary-700","transition-colors","flex","items-center","justify-center",3,"routerLink"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"text-lg","font-semibold","text-gray-900","mb-4","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","text-primary-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"space-y-3"],[1,"text-sm","font-medium","text-gray-500"],[1,"text-gray-900","font-mono","text-sm"],[1,"text-gray-900","capitalize"],[1,"inline-flex","px-2","py-1","text-xs","font-semibold","rounded-full"],[4,"ngIf"],[1,"text-gray-900"],[1,"text-gray-900","text-sm"],["class","mt-6 pt-6 border-t border-gray-200",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","text-purple-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"bg-gradient-to-br","from-blue-50","to-blue-100","rounded-lg","p-4"],[1,"text-sm","font-medium","text-blue-600","block","mb-1"],[1,"text-blue-900","font-medium"],[1,"bg-gradient-to-br","from-green-50","to-green-100","rounded-lg","p-4"],[1,"text-sm","font-medium","text-green-600","block","mb-1"],[1,"text-green-900","font-medium"],[1,"bg-gradient-to-br","from-yellow-50","to-yellow-100","rounded-lg","p-4"],[1,"text-sm","font-medium","text-yellow-600","block","mb-1"],[1,"text-yellow-900","font-medium"],[1,"bg-gradient-to-br","from-purple-50","to-purple-100","rounded-lg","p-4"],[1,"text-sm","font-medium","text-purple-600","block","mb-1"],[1,"text-purple-900","font-medium"],["class","bg-white rounded-xl shadow-sm border border-gray-200 p-6",4,"ngIf"],[1,"mt-6","pt-6","border-t","border-gray-200"],[1,"text-sm","font-medium","text-gray-500","block","mb-2"],[1,"flex","flex-wrap","gap-2"],["class","inline-flex px-3 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",4,"ngFor","ngForOf"],[1,"inline-flex","px-3","py-1","text-xs","font-medium","bg-blue-100","text-blue-800","rounded-full"],[1,"bg-gray-50","rounded-lg","p-4"],[1,"text-gray-700","text-sm"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"],["class","border border-gray-200 rounded-lg p-6 bg-gray-50",4,"ngFor","ngForOf"],[1,"border","border-gray-200","rounded-lg","p-6","bg-gray-50"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-semibold","text-gray-900","flex","items-center"],[1,"inline-flex","px-3","py-1","text-sm","font-medium","bg-indigo-100","text-indigo-800","rounded-full","mr-3"],[1,"mb-6"],[1,"text-sm","font-medium","text-gray-700","mb-2"],[1,"bg-white","rounded-lg","p-4","border","border-gray-200"],[1,"prose","prose-sm","max-w-none",3,"innerHTML"],["class","mb-6",4,"ngIf"],[1,"text-sm","font-medium","text-gray-700","mb-3"],[1,"space-y-2"],["class","flex items-start p-3 rounded-lg border",3,"class",4,"ngFor","ngForOf"],[1,"flex","items-start","p-3","rounded-lg","border"],[1,"inline-flex","items-center","justify-center","w-6","h-6","text-sm","font-medium","rounded-full","mr-3"],[1,"flex-1"],["class","inline-flex items-center px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full mt-2",4,"ngIf"],[1,"inline-flex","items-center","px-2","py-1","text-xs","font-medium","bg-green-100","text-green-800","rounded-full","mt-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],["class","bg-white rounded-lg p-4 border border-gray-200",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","mb-2"],[1,"inline-flex","px-2","py-1","text-xs","font-medium","bg-gray-100","text-gray-800","rounded-full"],["class","text-sm text-gray-600",4,"ngIf"],[1,"mt-2"],["class","prose prose-sm max-w-none",3,"innerHTML",4,"ngIf"],["target","_blank","class","text-primary-600 hover:text-primary-800 underline break-all",3,"href",4,"ngIf"],[1,"text-sm","text-gray-600"],["target","_blank",1,"text-primary-600","hover:text-primary-800","underline","break-all",3,"href"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","text-orange-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],["class","flex items-center justify-between p-3 bg-gray-50 rounded-lg",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","p-3","bg-gray-50","rounded-lg"],[1,"font-medium","text-gray-900"],[1,"text-gray-600","ml-2"],[1,"text-sm","text-gray-500"]],template:function(t,i){t&1&&(d(0,"div",0)(1,"div",1),O(2,Lj,5,0,"div",2)(3,Oj,10,1,"div",3)(4,Kj,95,34,"div",4),p()()),t&2&&(g(2),_("ngIf",i.isLoading),g(),_("ngIf",i.errorMessage),g(),_("ngIf",!i.isLoading&&!i.errorMessage&&i.question))},dependencies:[ge,je,Ee,ob,rd,sb,Ue,un],encapsulation:2})};var Jj=(n,e,t,i)=>({"bg-red-100 text-red-800":n,"bg-yellow-100 text-yellow-800":e,"bg-green-100 text-green-800":t,"bg-gray-100 text-gray-800":i}),eq=(n,e)=>({"bg-green-100 border-green-300":n,"bg-white border-gray-200":e}),tq=(n,e)=>({"bg-green-600 text-white":n,"bg-gray-400 text-white":e}),nq=()=>[],iq=(n,e)=>({"z-10 bg-indigo-600 text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600":n,"text-gray-900 hover:bg-gray-50":e});function rq(n,e){n&1&&(d(0,"div",9)(1,"div",10),W(),d(2,"svg",11),S(3,"circle",12)(4,"path",13),p(),Z(),d(5,"span",14),h(6,"Loading questions..."),p()()())}function sq(n,e){if(n&1&&(d(0,"div",15)(1,"div",16),W(),d(2,"svg",17),S(3,"path",18),p(),Z(),d(4,"span",19),h(5),p()()()),n&2){let t=D();g(5),Q(t.errorMessage)}}function oq(n,e){n&1&&(d(0,"div",9)(1,"div",20),W(),d(2,"svg",21),S(3,"path",22),p(),Z(),d(4,"p",23),h(5,"No questions are currently pending review."),p(),d(6,"p",24),h(7,"All questions have been reviewed and processed."),p()()())}function aq(n,e){if(n&1&&(d(0,"span",37),h(1),p()),n&2){let t=e.$implicit;g(),z(" ",t," ")}}function lq(n,e){if(n&1&&(d(0,"div",69)(1,"p",70),h(2,"Tags"),p(),d(3,"div",71),O(4,aq,2,1,"span",72),p()()),n&2){let t=D(3).$implicit;g(4),_("ngForOf",t.tags)}}function cq(n,e){if(n&1&&(d(0,"div",73)(1,"p",74),h(2,"Recommended Time"),p(),d(3,"p",75),h(4),p()()),n&2){let t=D(3).$implicit;g(4),z("",t.recommendedTimeAllotment," minutes")}}function uq(n,e){if(n&1&&(d(0,"div",76)(1,"p",77),h(2,"Internal Notes"),p(),d(3,"p",78),h(4),p()()),n&2){let t=D(3).$implicit;g(4),Q(t.internalNotes)}}function dq(n,e){if(n&1&&(d(0,"div",65),O(1,lq,5,1,"div",66)(2,cq,5,1,"div",67)(3,uq,5,1,"div",68),p()),n&2){let t=D(2).$implicit;g(),_("ngIf",t.tags&&t.tags.length>0),g(),_("ngIf",t.recommendedTimeAllotment),g(),_("ngIf",t.internalNotes)}}function pq(n,e){if(n&1&&(d(0,"div",92),S(1,"img",93),p()),n&2){let t=e.$implicit;g(),_("src",t,wn)}}function hq(n,e){if(n&1&&(d(0,"div",69)(1,"p",89),h(2,"Question Images"),p(),d(3,"div",90),O(4,pq,2,1,"div",91),p()()),n&2){let t=D().$implicit;g(4),_("ngForOf",t.images)}}function fq(n,e){n&1&&(d(0,"span",99),S(1,"i",47),h(2," Correct Answer "),p())}function mq(n,e){if(n&1&&(d(0,"div",100),S(1,"img",101),p()),n&2){let t=D().$implicit;g(),_("src",t.img,wn)}}function gq(n,e){if(n&1&&(d(0,"div",94)(1,"span",95),h(2),p(),d(3,"div",96),S(4,"div",84),O(5,fq,3,0,"span",97)(6,mq,2,1,"div",98),p()()),n&2){let t=e.$implicit,i=e.index,r=D(5);_("ngClass",ns(6,eq,t.isCorrect,!t.isCorrect)),g(),_("ngClass",ns(9,tq,t.isCorrect,!t.isCorrect)),g(),z(" ",r.String.fromCharCode(65+i)," "),g(2),_("innerHTML",t.text,Ri),g(),_("ngIf",t.isCorrect),g(),_("ngIf",t.img)}}function vq(n,e){if(n&1&&S(0,"div",84),n&2){let t=D().$implicit;_("innerHTML",t.content,Ri)}}function xq(n,e){if(n&1&&(d(0,"a",112),S(1,"i",113),h(2," View Video "),p()),n&2){let t=D().$implicit;_("href",t.content,wn)}}function bq(n,e){if(n&1&&(d(0,"a",112),S(1,"i",114),h(2," View PDF "),p()),n&2){let t=D().$implicit;_("href",t.content,wn)}}function yq(n,e){if(n&1&&S(0,"img",115),n&2){let t=D().$implicit;_("src",t.content,wn)}}function _q(n,e){if(n&1&&(d(0,"div",105)(1,"p",106),h(2),d(3,"span",107),h(4),p()(),d(5,"div",108),O(6,vq,1,1,"div",109)(7,xq,3,1,"a",110)(8,bq,3,1,"a",110)(9,yq,1,1,"img",111),p()()),n&2){let t=e.$implicit;g(2),z(" ",t.label||"General"," "),g(2),z(" ",t.type," "),g(),_("ngSwitch",t.type),g(),_("ngSwitchCase","text"),g(),_("ngSwitchCase","video"),g(),_("ngSwitchCase","pdf"),g(),_("ngSwitchCase","image")}}function wq(n,e){if(n&1&&(d(0,"div",102)(1,"p",103),h(2,"Explanations"),p(),d(3,"div",86),O(4,_q,10,7,"div",104),p()()),n&2){let t=D().$implicit;g(4),_("ngForOf",t.explanations)}}function Sq(n,e){n&1&&S(0,"hr",116)}function Eq(n,e){if(n&1&&(d(0,"div",79)(1,"div",80)(2,"h6",81),h(3),p()(),d(4,"div",82)(5,"div",59)(6,"p",83),h(7,"Question Text"),p(),S(8,"div",84),p(),O(9,hq,5,1,"div",66),d(10,"div",73)(11,"p",85),h(12,"Answer Options"),p(),d(13,"div",86),O(14,gq,7,12,"div",87),p()(),O(15,wq,5,1,"div",64),p(),O(16,Sq,1,0,"hr",88),p()),n&2){let t=e.$implicit,i=e.index,r=D(2).$implicit;g(3),z("Translation (",t.lang,")"),g(5),_("innerHTML",t.questionText,Ri),g(),_("ngIf",t.images&&t.images.length>0),g(5),_("ngForOf",t.options),g(),_("ngIf",t.explanations&&t.explanations.length>0),g(),_("ngIf",i<r.translations.length-1)}}function Cq(n,e){if(n&1&&S(0,"div",84),n&2){let t=D().$implicit;_("innerHTML",t.content,Ri)}}function kq(n,e){if(n&1&&(d(0,"a",112),S(1,"i",113),h(2," View Video "),p()),n&2){let t=D().$implicit;_("href",t.content,wn)}}function Tq(n,e){if(n&1&&(d(0,"a",112),S(1,"i",114),h(2," View PDF "),p()),n&2){let t=D().$implicit;_("href",t.content,wn)}}function Aq(n,e){if(n&1&&S(0,"img",115),n&2){let t=D().$implicit;_("src",t.content,wn)}}function Iq(n,e){if(n&1&&(d(0,"div",105)(1,"p",106),h(2),d(3,"span",107),h(4),p()(),d(5,"div",108),O(6,Cq,1,1,"div",109)(7,kq,3,1,"a",110)(8,Tq,3,1,"a",110)(9,Aq,1,1,"img",111),p()()),n&2){let t=e.$implicit;g(2),z(" ",t.label||"General"," "),g(2),z(" ",t.type," "),g(),_("ngSwitch",t.type),g(),_("ngSwitchCase","text"),g(),_("ngSwitchCase","video"),g(),_("ngSwitchCase","pdf"),g(),_("ngSwitchCase","image")}}function Mq(n,e){if(n&1&&(d(0,"div",102)(1,"h6",117),h(2,"General Explanations (No specific translation)"),p(),d(3,"div",86),O(4,Iq,10,7,"div",104),p()()),n&2){let t=D(2).$implicit;g(4),_("ngForOf",t.explanations)}}function Pq(n,e){if(n&1&&(d(0,"tr",51)(1,"td",52)(2,"div",53)(3,"div",54)(4,"h5",55),S(5,"i",56),h(6," Full Question Details "),p()(),d(7,"div",57)(8,"div",58)(9,"div",59)(10,"p",60),h(11,"Status"),p(),d(12,"p",61),h(13),p()(),d(14,"div",59)(15,"p",60),h(16,"Difficulty"),p(),d(17,"p",61),h(18),p()(),d(19,"div",59)(20,"p",60),h(21,"Type"),p(),d(22,"p",61),h(23),p()()(),O(24,dq,4,3,"div",62)(25,Eq,17,6,"div",63)(26,Mq,5,1,"div",64),p()()()()),n&2){let t=D().$implicit;g(13),Q(t.status),g(5),Q(t.difficulty),g(5),Q(t.type||"N/A"),g(),_("ngIf",t.tags||t.recommendedTimeAllotment||t.internalNotes),g(),_("ngForOf",t.translations),g(),_("ngIf",t.explanations&&t.explanations.length>0&&t.translations.length===0)}}function Dq(n,e){if(n&1){let t=de();Yo(0),d(1,"tr",34)(2,"td",35),h(3),p(),d(4,"td",36)(5,"span",37),h(6),p()(),d(7,"td",36)(8,"span",38),h(9),p()(),d(10,"td",36)(11,"span",39),h(12),p()(),d(13,"td",36)(14,"span",40),h(15),p()(),d(16,"td",36)(17,"span",41),h(18),p()(),d(19,"td",42)(20,"div",43)(21,"button",44),F("click",function(){let r=M(t).$implicit,s=D(2);return P(s.toggleDetails(r))}),S(22,"i",45),h(23),p(),d(24,"button",46),F("click",function(){let r=M(t).$implicit,s=D(2);return P(s.approveQuestion(s.getQuestionId(r)))}),S(25,"i",47),h(26," Approve "),p(),d(27,"button",48),F("click",function(){let r=M(t).$implicit,s=D(2);return P(s.rejectQuestion(s.getQuestionId(r)))}),S(28,"i",49),h(29," Reject "),p()()()(),O(30,Pq,27,6,"tr",50),Xo()}if(n&2){let t=e.$implicit,i=D(2);g(3),z(" ",i.getQuestionText(t,"en")," "),g(3),z(" ",i.getHierarchyName(t.branch)," "),g(3),z(" ",i.getHierarchyName(t.subject)," "),g(3),z(" ",i.getHierarchyName(t.topic)," "),g(2),_("ngClass",Q1(18,Jj,t.difficulty==="Hard",t.difficulty==="Medium",t.difficulty==="Easy",!t.difficulty)),g(),z(" ",t.difficulty||"N/A"," "),g(3),z(" ",t.type||"N/A"," "),g(3),_("title",t.expanded?"Hide Details":"View Details"),g(),$e("fas",!0)("fa-eye",!t.expanded)("fa-eye-slash",t.expanded),g(),z(" ",t.expanded?"Hide":"Details"," "),g(),_("disabled",!i.getQuestionId(t)),g(3),_("disabled",!i.getQuestionId(t)),g(3),_("ngIf",t.expanded)}}function Nq(n,e){if(n&1){let t=de();d(0,"button",134),F("click",function(){let r=M(t).index,s=D(3);return P(s.goToPage(r+1))}),h(1),p()}if(n&2){let t=e.index,i=D(3);_("ngClass",ns(2,iq,i.currentPage===t+1,i.currentPage!==t+1)),g(),z(" ",t+1," ")}}function Lq(n,e){if(n&1){let t=de();d(0,"nav",118)(1,"div",119)(2,"div",120)(3,"button",121),F("click",function(){M(t);let r=D(2);return P(r.previousPage())}),h(4," Previous "),p(),d(5,"button",122),F("click",function(){M(t);let r=D(2);return P(r.nextPage())}),h(6," Next "),p()(),d(7,"div",123)(8,"div")(9,"p",124),h(10," Showing page "),d(11,"span",125),h(12),p(),h(13," of "),d(14,"span",125),h(15),p()()(),d(16,"div")(17,"nav",126)(18,"button",127),F("click",function(){M(t);let r=D(2);return P(r.previousPage())}),d(19,"span",128),h(20,"Previous"),p(),W(),d(21,"svg",129),S(22,"path",130),p()(),O(23,Nq,2,5,"button",131),Z(),d(24,"button",132),F("click",function(){M(t);let r=D(2);return P(r.nextPage())}),d(25,"span",128),h(26,"Next"),p(),W(),d(27,"svg",129),S(28,"path",133),p()()()()()()()}if(n&2){let t=D(2);g(3),$e("disabled",t.currentPage===1),_("disabled",t.currentPage===1),g(2),$e("disabled",t.currentPage===t.totalPages),_("disabled",t.currentPage===t.totalPages),g(7),Q(t.currentPage),g(3),Q(t.totalPages),g(3),_("disabled",t.currentPage===1),g(5),_("ngForOf",Sn(11,nq).constructor(t.totalPages)),g(),_("disabled",t.currentPage===t.totalPages)}}function Oq(n,e){if(n&1&&(d(0,"div",25)(1,"div",26)(2,"table",27)(3,"thead",28)(4,"tr")(5,"th",29),h(6," Question Text "),p(),d(7,"th",29),h(8," Branch "),p(),d(9,"th",29),h(10," Subject "),p(),d(11,"th",29),h(12," Topic "),p(),d(13,"th",29),h(14," Difficulty "),p(),d(15,"th",29),h(16," Type "),p(),d(17,"th",30),h(18," Actions "),p()()(),d(19,"tbody",31),O(20,Dq,31,23,"ng-container",32),p()()(),O(21,Lq,29,12,"nav",33),p()),n&2){let t=D();g(20),_("ngForOf",t.questions),g(),_("ngIf",t.totalPages>1)}}var qf=class n{questionService=se(Ft);String=String;questions=[];isLoading=!1;errorMessage="";currentPage=1;itemsPerPage=10;totalItems=0;ngOnInit(){this.loadPendingQuestions()}loadPendingQuestions(){this.isLoading=!0,this.errorMessage="",this.questionService.getQuestionsByStatus("Pending Review",this.currentPage,this.itemsPerPage).subscribe({next:e=>{this.questions=e.questions.map(t=>(t._id&&typeof t._id=="object"&&t._id.$oid&&(t._id=t._id.$oid),["branch","subject","topic","subTopic"].forEach(i=>{t[i]&&typeof t[i]=="object"&&t[i]._id&&t[i].$oid&&(t[i]=t[i].$oid)}),t)),this.totalItems=e.totalCount,this.isLoading=!1},error:e=>{this.errorMessage="Failed to load questions. Please try again later.",console.error("Error fetching pending questions:",e),this.isLoading=!1}})}approveQuestion(e){this.updateQuestionStatus(e,"Published")}rejectQuestion(e){this.updateQuestionStatus(e,"draft")}updateQuestionStatus(e,t){this.isLoading=!0,this.questionService.updateQuestionStatus(e,t).subscribe({next:()=>{this.loadPendingQuestions()},error:i=>{this.errorMessage=`Failed to update question status to ${t}.`,console.error(`Error updating question ${e} to ${t}:`,i),this.isLoading=!1}})}getQuestionText(e,t="en"){return!e||!e.translations?e.questionText||"N/A":e.translations.find(r=>r.lang===t)?.questionText||e.questionText||"N/A"}getHierarchyName(e){return typeof e=="object"&&e!==null&&"name"in e?e.name:"N/A"}getQuestionId(e){return typeof e._id=="string"?e._id:e._id&&typeof e._id=="object"&&"$oid"in e._id?e._id.$oid:(console.warn("Question ID is not in expected format (string or {$oid: string}):",e._id),"")}toggleDetails(e){e.expanded=!e.expanded}goToPage(e){e>=1&&e<=this.totalPages&&(this.currentPage=e,this.loadPendingQuestions())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.loadPendingQuestions())}previousPage(){this.currentPage>1&&(this.currentPage--,this.loadPendingQuestions())}get totalPages(){return Math.ceil(this.totalItems/this.itemsPerPage)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=pe({type:n,selectors:[["app-question-review"]],decls:11,vars:4,consts:[[1,"min-h-screen","bg-gradient-to-br","from-indigo-50","to-blue-100","p-6"],[1,"max-w-7xl","mx-auto"],[1,"bg-gradient-to-r","from-purple-600","to-blue-600","rounded-t-2xl","px-8","py-6","shadow-lg"],[1,"text-3xl","font-bold","text-white","text-center"],[1,"bg-white","rounded-b-2xl","shadow-xl","overflow-hidden"],[1,"p-8"],["class","text-center py-16",4,"ngIf"],["class","bg-red-50 border border-red-200 rounded-lg p-4 mb-6",4,"ngIf"],["class","overflow-hidden",4,"ngIf"],[1,"text-center","py-16"],[1,"inline-flex","items-center","space-x-2"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-8","w-8","text-blue-600"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-lg","text-gray-600"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-4","mb-6"],[1,"flex","items-center"],["fill","currentColor","viewBox","0 0 20 20",1,"w-6","h-6","text-red-500","mr-3"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"text-red-800","font-medium"],[1,"bg-blue-50","border","border-blue-200","rounded-lg","p-8"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","text-blue-400","mx-auto","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-blue-800","text-lg","font-medium"],[1,"text-blue-600","mt-2"],[1,"overflow-hidden"],[1,"overflow-x-auto","shadow-lg","rounded-lg","border","border-gray-200"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gradient-to-r","from-gray-50","to-gray-100"],[1,"px-6","py-4","text-left","text-xs","font-semibold","text-gray-700","uppercase","tracking-wider","border-b","border-gray-200"],[1,"px-6","py-4","text-center","text-xs","font-semibold","text-gray-700","uppercase","tracking-wider","border-b","border-gray-200"],[1,"bg-white","divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],["aria-label","Page navigation","class","mt-8",4,"ngIf"],[1,"hover:bg-gray-50","transition-colors","duration-200"],[1,"px-6","py-4","text-sm","text-gray-900","max-w-xs","truncate"],[1,"px-6","py-4","text-sm","text-gray-600"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-green-100","text-green-800"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-purple-100","text-purple-800"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-indigo-100","text-indigo-800"],[1,"px-6","py-4","text-center"],[1,"flex","items-center","justify-center","space-x-2"],[1,"inline-flex","items-center","px-3","py-1.5","border","border-blue-300","text-xs","font-medium","rounded-md","text-blue-700","bg-blue-50","hover:bg-blue-100","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","transition-colors","duration-200",3,"click","title"],[1,"mr-1"],["title","Approve",1,"inline-flex","items-center","px-3","py-1.5","border","border-green-300","text-xs","font-medium","rounded-md","text-green-700","bg-green-50","hover:bg-green-100","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-green-500","transition-colors","duration-200","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fas","fa-check","mr-1"],["title","Reject",1,"inline-flex","items-center","px-3","py-1.5","border","border-red-300","text-xs","font-medium","rounded-md","text-red-700","bg-red-50","hover:bg-red-100","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500","transition-colors","duration-200","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fas","fa-times","mr-1"],["class","bg-gradient-to-r from-blue-50 to-indigo-50",4,"ngIf"],[1,"bg-gradient-to-r","from-blue-50","to-indigo-50"],["colspan","7",1,"px-0","py-0"],[1,"mx-6","my-4","bg-white","rounded-lg","shadow-md","border","border-blue-200","overflow-hidden"],[1,"bg-gradient-to-r","from-blue-600","to-indigo-600","px-6","py-4"],[1,"text-xl","font-bold","text-white","flex","items-center"],[1,"fas","fa-info-circle","mr-3"],[1,"p-6","space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"bg-gray-50","rounded-lg","p-4"],[1,"text-sm","font-semibold","text-gray-600","uppercase","tracking-wide"],[1,"text-lg","font-medium","text-gray-900","mt-1"],["class","space-y-4",4,"ngIf"],["class","border border-gray-200 rounded-lg overflow-hidden",4,"ngFor","ngForOf"],["class","bg-indigo-50 rounded-lg p-4",4,"ngIf"],[1,"space-y-4"],["class","bg-blue-50 rounded-lg p-4",4,"ngIf"],["class","bg-green-50 rounded-lg p-4",4,"ngIf"],["class","bg-yellow-50 rounded-lg p-4",4,"ngIf"],[1,"bg-blue-50","rounded-lg","p-4"],[1,"text-sm","font-semibold","text-blue-700","uppercase","tracking-wide","mb-2"],[1,"flex","flex-wrap","gap-2"],["class","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",4,"ngFor","ngForOf"],[1,"bg-green-50","rounded-lg","p-4"],[1,"text-sm","font-semibold","text-green-700","uppercase","tracking-wide"],[1,"text-lg","font-medium","text-green-900","mt-1"],[1,"bg-yellow-50","rounded-lg","p-4"],[1,"text-sm","font-semibold","text-yellow-700","uppercase","tracking-wide"],[1,"text-gray-800","mt-1"],[1,"border","border-gray-200","rounded-lg","overflow-hidden"],[1,"bg-gradient-to-r","from-purple-100","to-blue-100","px-4","py-3","border-b"],[1,"text-lg","font-semibold","text-purple-800"],[1,"p-4","space-y-4"],[1,"text-sm","font-semibold","text-gray-600","uppercase","tracking-wide","mb-2"],[1,"prose","max-w-none",3,"innerHTML"],[1,"text-sm","font-semibold","text-green-700","uppercase","tracking-wide","mb-3"],[1,"space-y-3"],["class","flex items-start space-x-3 p-3 rounded-lg border",3,"ngClass",4,"ngFor","ngForOf"],["class","border-gray-200",4,"ngIf"],[1,"text-sm","font-semibold","text-blue-700","uppercase","tracking-wide","mb-3"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4"],["class","relative",4,"ngFor","ngForOf"],[1,"relative"],["alt","Question Image",1,"w-full","h-32","object-cover","rounded-lg","border-2","border-blue-200","shadow-sm","hover:shadow-md","transition-shadow","duration-200",3,"src"],[1,"flex","items-start","space-x-3","p-3","rounded-lg","border",3,"ngClass"],[1,"inline-flex","items-center","justify-center","w-6","h-6","rounded-full","text-sm","font-semibold",3,"ngClass"],[1,"flex-1"],["class","inline-flex items-center mt-2 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-200 text-green-800",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"inline-flex","items-center","mt-2","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-green-200","text-green-800"],[1,"mt-3"],["alt","Option Image",1,"max-w-24","h-20","object-cover","rounded","border","border-gray-300","shadow-sm",3,"src"],[1,"bg-indigo-50","rounded-lg","p-4"],[1,"text-sm","font-semibold","text-indigo-700","uppercase","tracking-wide","mb-3"],["class","bg-white rounded-lg border border-indigo-200 p-4",4,"ngFor","ngForOf"],[1,"bg-white","rounded-lg","border","border-indigo-200","p-4"],[1,"text-sm","font-semibold","text-indigo-600","mb-2"],[1,"inline-flex","items-center","px-2","py-0.5","rounded","text-xs","font-medium","bg-indigo-100","text-indigo-800","ml-2"],[3,"ngSwitch"],["class","prose max-w-none",3,"innerHTML",4,"ngSwitchCase"],["target","_blank","class","inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700",3,"href",4,"ngSwitchCase"],["alt","Explanation Image","class","max-w-sm h-auto rounded-lg border border-gray-300 shadow-sm",3,"src",4,"ngSwitchCase"],["target","_blank",1,"inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-red-600","hover:bg-red-700",3,"href"],[1,"fas","fa-play","mr-2"],[1,"fas","fa-file-pdf","mr-2"],["alt","Explanation Image",1,"max-w-sm","h-auto","rounded-lg","border","border-gray-300","shadow-sm",3,"src"],[1,"border-gray-200"],[1,"text-lg","font-semibold","text-indigo-800","mb-4"],["aria-label","Page navigation",1,"mt-8"],[1,"flex","items-center","justify-between","border-t","border-gray-200","bg-white","px-4","py-3","sm:px-6","rounded-lg","shadow"],[1,"flex","flex-1","justify-between","sm:hidden"],[1,"relative","inline-flex","items-center","rounded-md","border","border-gray-300","bg-white","px-4","py-2","text-sm","font-medium","text-gray-700","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"relative","ml-3","inline-flex","items-center","rounded-md","border","border-gray-300","bg-white","px-4","py-2","text-sm","font-medium","text-gray-700","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"hidden","sm:flex","sm:flex-1","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"isolate","inline-flex","-space-x-px","rounded-md","shadow-sm"],[1,"relative","inline-flex","items-center","rounded-l-md","px-2","py-2","text-gray-400","ring-1","ring-inset","ring-gray-300","hover:bg-gray-50","focus:z-20","focus:outline-offset-0","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"sr-only"],["viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5"],["fill-rule","evenodd","d","M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z","clip-rule","evenodd"],["class","relative inline-flex items-center px-4 py-2 text-sm font-semibold ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 transition-colors duration-200",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"relative","inline-flex","items-center","rounded-r-md","px-2","py-2","text-gray-400","ring-1","ring-inset","ring-gray-300","hover:bg-gray-50","focus:z-20","focus:outline-offset-0","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["fill-rule","evenodd","d","M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z","clip-rule","evenodd"],[1,"relative","inline-flex","items-center","px-4","py-2","text-sm","font-semibold","ring-1","ring-inset","ring-gray-300","hover:bg-gray-50","focus:z-20","focus:outline-offset-0","transition-colors","duration-200",3,"click","ngClass"]],template:function(t,i){t&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),h(4,"Questions Pending Review"),p()(),d(5,"div",4)(6,"div",5),O(7,rq,7,0,"div",6)(8,sq,6,1,"div",7)(9,oq,8,0,"div",6)(10,Oq,22,2,"div",8),p()()()()),t&2&&(g(7),_("ngIf",i.isLoading),g(),_("ngIf",i.errorMessage),g(),_("ngIf",!i.isLoading&&!i.errorMessage&&i.questions.length===0),g(),_("ngIf",!i.isLoading&&!i.errorMessage&&i.questions.length>0))},dependencies:[ge,er,je,Ee,ib,rb,Ue],styles:["[_nghost-%COMP%]     .prose{color:inherit;max-width:none}[_nghost-%COMP%]     .prose p{margin-bottom:.5rem}[_nghost-%COMP%]     .prose img{max-width:100%;height:auto;border-radius:.25rem}[_nghost-%COMP%]     img{object-fit:cover}.question-details-row[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}"]})};function Rq(n,e){n&1&&(d(0,"div",22)(1,"div",23),W(),d(2,"svg",24),S(3,"path",25),p(),h(4," Branch name is required. "),p()())}function Fq(n,e){n&1&&(W(),d(0,"svg",26),S(1,"circle",27)(2,"path",28),p())}function Bq(n,e){n&1&&(W(),d(0,"svg",20),S(1,"path",29),p())}var Hf=class n{constructor(e,t){this.branchService=e;this.router=t}branchName="";isLoading=!1;addBranch(e){if(e.invalid){e.control.markAllAsTouched();return}this.isLoading=!0,this.branchService.createBranch(this.branchName).subscribe({next:()=>{alert("Branch created successfully!"),this.router.navigate(["/questions"])},error:t=>{console.error("Error creating branch:",t),alert("Error creating branch. Please try again."),this.isLoading=!1}})}cancel(){this.router.navigate(["/questions"])}static \u0275fac=function(t){return new(t||n)(U(Tl),U(Se))};static \u0275cmp=pe({type:n,selectors:[["app-add-branch"]],decls:30,vars:6,consts:[["branchForm","ngForm"],[1,"min-h-screen","bg-gray-50","py-6","px-4","sm:px-6","lg:px-8"],[1,"max-w-2xl","mx-auto"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-200"],[1,"p-8","space-y-6",3,"ngSubmit"],[1,"form-group"],["for","branchName",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"text-red-500"],["type","text","id","branchName","name","branchName","required","","placeholder","Enter Branch Name (e.g., Engineering, Medical, Commerce)",1,"form-input","w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","transition-colors",3,"ngModelChange","ngModel"],["class","mt-2 text-sm text-red-600",4,"ngIf"],[1,"mt-1","text-sm","text-gray-500"],[1,"flex","flex-col","sm:flex-row","gap-3","pt-6","border-t","border-gray-200"],["type","submit",1,"btn-primary","flex-1","px-6","py-3","bg-gradient-to-r","from-primary-600","to-primary-700","text-white","font-semibold","rounded-lg","hover:from-primary-700","hover:to-primary-800","focus:ring-4","focus:ring-primary-200","disabled:opacity-50","disabled:cursor-not-allowed","transition-all","duration-200","transform","hover:scale-105",3,"disabled"],[1,"flex","items-center","justify-center"],["class","animate-spin -ml-1 mr-2 h-4 w-4 text-white","fill","none","viewBox","0 0 24 24",4,"ngIf"],["class","w-5 h-5 mr-2","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["type","button",1,"btn-secondary","flex-1","px-6","py-3","bg-gray-100","text-gray-700","font-semibold","rounded-lg","hover:bg-gray-200","focus:ring-4","focus:ring-gray-200","transition-all","duration-200",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"mt-2","text-sm","text-red-600"],[1,"flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16c-.77.833.192 2.5 1.732 2.5z"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-2","h-4","w-4","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"]],template:function(t,i){if(t&1){let r=de();d(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),h(4,"Add New Branch"),p(),d(5,"p",5),h(6,"Create a new academic branch in the system"),p()(),d(7,"div",6)(8,"form",7,0),F("ngSubmit",function(){M(r);let o=Qe(9);return P(i.addBranch(o))}),d(10,"div",8)(11,"label",9),h(12," Branch Name "),d(13,"span",10),h(14,"*"),p()(),d(15,"input",11),ee("ngModelChange",function(o){return M(r),J(i.branchName,o)||(i.branchName=o),P(o)}),p(),O(16,Rq,5,0,"div",12),d(17,"p",13),h(18," Enter a descriptive name for the academic branch "),p()(),d(19,"div",14)(20,"button",15)(21,"span",16),O(22,Fq,3,0,"svg",17)(23,Bq,2,0,"svg",18),h(24),p()(),d(25,"button",19),F("click",function(){return M(r),P(i.cancel())}),d(26,"span",16),W(),d(27,"svg",20),S(28,"path",21),p(),h(29," Cancel "),p()()()()()()()}if(t&2){let r=Qe(9);g(15),K("ngModel",i.branchName),g(),_("ngIf",(r.controls.branchName==null?null:r.controls.branchName.invalid)&&((r.controls.branchName==null?null:r.controls.branchName.touched)||r.submitted)),g(4),_("disabled",i.isLoading||r.invalid),g(2),_("ngIf",i.isLoading),g(),_("ngIf",!i.isLoading),g(),z(" ",i.isLoading?"Creating Branch...":"Create Branch"," ")}},dependencies:[ge,Ee,Ut,dt,Je,et,ut,Bn,on,On],encapsulation:2})};function Vq(n,e){if(n&1&&(d(0,"option",29),h(1),p()),n&2){let t=e.$implicit;_("value",t._id),g(),z(" ",t.name," ")}}function $q(n,e){n&1&&(d(0,"span"),h(1,"Create Subject"),p())}function jq(n,e){n&1&&(d(0,"span",30),W(),d(1,"svg",31),S(2,"circle",32)(3,"path",33),p(),h(4," Saving... "),p())}var Uf=class n{constructor(e,t){this.questionService=e;this.router=t}branches=[];selectedBranchId="";subjectName="";isLoading=!1;ngOnInit(){this.questionService.getBranches().subscribe({next:e=>{this.branches=Array.isArray(e)?e:e.branches||[]},error:e=>{console.error("Failed to load branches",e)}})}submitSubject(e){if(e.invalid){e.control.markAllAsTouched();return}this.isLoading=!0;let t={name:this.subjectName,branchId:this.selectedBranchId==="none"?null:this.selectedBranchId};this.questionService.createSubject(t).subscribe({next:()=>{alert("Subject created successfully!"),this.router.navigate(["/questions"])},error:i=>{console.error("Error creating subject:",i),alert("Error creating subject. Please try again."),this.isLoading=!1}})}cancel(){this.router.navigate(["/questions"])}static \u0275fac=function(t){return new(t||n)(U(Ft),U(Se))};static \u0275cmp=pe({type:n,selectors:[["app-add-subject"]],decls:42,vars:6,consts:[["subjectForm","ngForm"],[1,"min-h-screen","bg-gradient-to-br","from-primary-50","to-primary-100","py-6","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","mx-auto"],[1,"text-center","mb-8"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"bg-white","rounded-2xl","shadow-lg","p-8"],[1,"space-y-6",3,"ngSubmit"],[1,"form-group"],["for","branch",1,"block","text-sm","font-semibold","text-gray-700","mb-2"],[1,"text-red-500"],[1,"relative"],["id","branch","name","branch","required","","ngModel","",1,"form-select","w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","transition-colors","appearance-none","bg-white",3,"ngModelChange","ngModel"],["value",""],["value","none"],[3,"value",4,"ngFor","ngForOf"],[1,"absolute","inset-y-0","right-0","flex","items-center","px-2","pointer-events-none"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["for","subject",1,"block","text-sm","font-semibold","text-gray-700","mb-2"],["type","text","id","subject","name","subject","required","","placeholder","Enter subject name",1,"form-input","w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","transition-colors",3,"ngModelChange","ngModel"],[1,"flex","flex-col","sm:flex-row","gap-3","pt-4"],["type","submit",1,"btn-primary","flex-1","px-6","py-3","bg-primary-600","text-white","rounded-lg","font-semibold","hover:bg-primary-700","focus:outline-none","focus:ring-2","focus:ring-primary-500","focus:ring-offset-2","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors",3,"disabled"],[4,"ngIf"],["class","flex items-center justify-center",4,"ngIf"],["type","button",1,"btn-secondary","flex-1","px-6","py-3","bg-gray-100","text-gray-700","rounded-lg","font-semibold","hover:bg-gray-200","focus:outline-none","focus:ring-2","focus:ring-gray-500","focus:ring-offset-2","transition-colors",3,"click"],[1,"mt-6","text-center"],[1,"text-sm","text-gray-500"],["href","#",1,"text-primary-600","hover:text-primary-500","font-medium"],[3,"value"],[1,"flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(t,i){if(t&1){let r=de();d(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),h(4,"Add New Subject"),p(),d(5,"p",5),h(6,"Create a new subject for your curriculum"),p()(),d(7,"div",6)(8,"form",7,0),F("ngSubmit",function(){M(r);let o=Qe(9);return P(i.submitSubject(o))}),d(10,"div",8)(11,"label",9),h(12," Select Branch "),d(13,"span",10),h(14,"*"),p()(),d(15,"div",11)(16,"select",12),ee("ngModelChange",function(o){return M(r),J(i.selectedBranchId,o)||(i.selectedBranchId=o),P(o)}),d(17,"option",13),h(18,"-- Select Branch --"),p(),d(19,"option",14),h(20,"None"),p(),O(21,Vq,2,2,"option",15),p(),d(22,"div",16),W(),d(23,"svg",17),S(24,"path",18),p()()()(),Z(),d(25,"div",8)(26,"label",19),h(27," Subject Name "),d(28,"span",10),h(29,"*"),p()(),d(30,"input",20),ee("ngModelChange",function(o){return M(r),J(i.subjectName,o)||(i.subjectName=o),P(o)}),p()(),d(31,"div",21)(32,"button",22),O(33,$q,2,0,"span",23)(34,jq,5,0,"span",24),p(),d(35,"button",25),F("click",function(){return M(r),P(i.cancel())}),h(36," Cancel "),p()()()(),d(37,"div",26)(38,"p",27),h(39," Need help? Check our "),d(40,"a",28),h(41,"documentation"),p()()()()()}t&2&&(g(16),K("ngModel",i.selectedBranchId),g(5),_("ngForOf",i.branches),g(9),K("ngModel",i.subjectName),g(2),_("disabled",i.isLoading),g(),_("ngIf",!i.isLoading),g(),_("ngIf",i.isLoading))},dependencies:[ge,je,Ee,Ut,dt,qt,Ht,Je,jt,et,ut,Bn,on,On],encapsulation:2})};function qq(n,e){if(n&1&&(d(0,"option",30),h(1),p()),n&2){let t=e.$implicit;_("value",t._id),g(),z(" ",t.name," ")}}function Hq(n,e){if(n&1&&(d(0,"option",30),h(1),p()),n&2){let t=e.$implicit;_("value",t._id),g(),z(" ",t.name," ")}}function Uq(n,e){n&1&&(d(0,"span"),h(1,"Create Topic"),p())}function zq(n,e){n&1&&(d(0,"span",31),W(),d(1,"svg",32),S(2,"circle",33)(3,"path",34),p(),h(4," Saving... "),p())}var zf=class n{constructor(e,t){this.questionService=e;this.router=t}branches=[];subjects=[];selectedBranchId="";selectedSubjectId="";topicName="";isLoading=!1;ngOnInit(){this.questionService.getBranches().subscribe({next:e=>{this.branches=Array.isArray(e)?e:e.branches||[]},error:e=>{console.error("Failed to load branches",e)}})}onBranchChange(){if(this.selectedBranchId==="none"){this.subjects=[],this.selectedSubjectId="";return}this.questionService.getSubjects(this.selectedBranchId).subscribe({next:e=>{this.subjects=e.subjects||e},error:e=>{console.error("Failed to load subjects",e)}})}submitTopic(e){if(e.invalid){e.control.markAllAsTouched();return}this.isLoading=!0;let t={name:this.topicName,subjectId:this.selectedSubjectId==="none"?null:this.selectedSubjectId};this.questionService.createTopic(t).subscribe({next:()=>{alert("Topic created successfully!"),this.router.navigate(["/questions"])},error:i=>{console.error("Error creating topic:",i),alert("Error creating topic. Please try again."),this.isLoading=!1}})}cancel(){this.router.navigate(["/questions"])}static \u0275fac=function(t){return new(t||n)(U(Ft),U(Se))};static \u0275cmp=pe({type:n,selectors:[["app-add-topic"]],decls:55,vars:8,consts:[["topicForm","ngForm"],[1,"min-h-screen","bg-gradient-to-br","from-secondary-50","to-secondary-100","py-6","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","mx-auto"],[1,"text-center","mb-8"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"bg-white","rounded-2xl","shadow-lg","p-8"],[1,"space-y-6",3,"ngSubmit"],[1,"form-group"],["for","branch",1,"block","text-sm","font-semibold","text-gray-700","mb-2"],[1,"text-red-500"],[1,"relative"],["id","branch","name","branch","required","","ngModel","",1,"form-select","w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-secondary-500","focus:border-secondary-500","transition-colors","appearance-none","bg-white",3,"ngModelChange","change","ngModel"],["value",""],["value","none"],[3,"value",4,"ngFor","ngForOf"],[1,"absolute","inset-y-0","right-0","flex","items-center","px-2","pointer-events-none"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["for","subject",1,"block","text-sm","font-semibold","text-gray-700","mb-2"],["id","subject","name","subject","required","","ngModel","",1,"form-select","w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-secondary-500","focus:border-secondary-500","transition-colors","appearance-none","bg-white",3,"ngModelChange","ngModel"],["for","topic",1,"block","text-sm","font-semibold","text-gray-700","mb-2"],["type","text","id","topic","name","topic","required","","placeholder","Enter topic name",1,"form-input","w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-secondary-500","focus:border-secondary-500","transition-colors",3,"ngModelChange","ngModel"],[1,"flex","flex-col","sm:flex-row","gap-3","pt-4"],["type","submit",1,"btn-primary","flex-1","px-6","py-3","bg-secondary-600","text-white","rounded-lg","font-semibold","hover:bg-secondary-700","focus:outline-none","focus:ring-2","focus:ring-secondary-500","focus:ring-offset-2","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors",3,"disabled"],[4,"ngIf"],["class","flex items-center justify-center",4,"ngIf"],["type","button",1,"btn-secondary","flex-1","px-6","py-3","bg-gray-100","text-gray-700","rounded-lg","font-semibold","hover:bg-gray-200","focus:outline-none","focus:ring-2","focus:ring-gray-500","focus:ring-offset-2","transition-colors",3,"click"],[1,"mt-6","text-center"],[1,"text-sm","text-gray-500"],[3,"value"],[1,"flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(t,i){if(t&1){let r=de();d(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),h(4,"Add New Topic"),p(),d(5,"p",5),h(6,"Create a new topic under a subject"),p()(),d(7,"div",6)(8,"form",7,0),F("ngSubmit",function(){M(r);let o=Qe(9);return P(i.submitTopic(o))}),d(10,"div",8)(11,"label",9),h(12," Select Branch "),d(13,"span",10),h(14,"*"),p()(),d(15,"div",11)(16,"select",12),ee("ngModelChange",function(o){return M(r),J(i.selectedBranchId,o)||(i.selectedBranchId=o),P(o)}),F("change",function(){return M(r),P(i.onBranchChange())}),d(17,"option",13),h(18,"-- Select Branch --"),p(),d(19,"option",14),h(20,"None"),p(),O(21,qq,2,2,"option",15),p(),d(22,"div",16),W(),d(23,"svg",17),S(24,"path",18),p()()()(),Z(),d(25,"div",8)(26,"label",19),h(27," Select Subject "),d(28,"span",10),h(29,"*"),p()(),d(30,"div",11)(31,"select",20),ee("ngModelChange",function(o){return M(r),J(i.selectedSubjectId,o)||(i.selectedSubjectId=o),P(o)}),d(32,"option",13),h(33,"-- Select Subject --"),p(),d(34,"option",14),h(35,"None"),p(),O(36,Hq,2,2,"option",15),p(),d(37,"div",16),W(),d(38,"svg",17),S(39,"path",18),p()()()(),Z(),d(40,"div",8)(41,"label",21),h(42," Topic Name "),d(43,"span",10),h(44,"*"),p()(),d(45,"input",22),ee("ngModelChange",function(o){return M(r),J(i.topicName,o)||(i.topicName=o),P(o)}),p()(),d(46,"div",23)(47,"button",24),O(48,Uq,2,0,"span",25)(49,zq,5,0,"span",26),p(),d(50,"button",27),F("click",function(){return M(r),P(i.cancel())}),h(51," Cancel "),p()()()(),d(52,"div",28)(53,"p",29),h(54," Topics help organize content within subjects for better structure "),p()()()()}t&2&&(g(16),K("ngModel",i.selectedBranchId),g(5),_("ngForOf",i.branches),g(10),K("ngModel",i.selectedSubjectId),g(5),_("ngForOf",i.subjects),g(9),K("ngModel",i.topicName),g(2),_("disabled",i.isLoading),g(),_("ngIf",!i.isLoading),g(),_("ngIf",i.isLoading))},dependencies:[ge,je,Ee,Ut,dt,qt,Ht,Je,jt,et,ut,Bn,on,On],encapsulation:2})};function Wq(n,e){if(n&1&&(d(0,"option",32),h(1),p()),n&2){let t=e.$implicit;_("value",t._id),g(),z(" ",t.name," ")}}function Qq(n,e){if(n&1&&(d(0,"option",32),h(1),p()),n&2){let t=e.$implicit;_("value",t._id),g(),z(" ",t.name," ")}}function Gq(n,e){if(n&1&&(d(0,"option",32),h(1),p()),n&2){let t=e.$implicit;_("value",t._id),g(),z(" ",t.name," ")}}function Yq(n,e){n&1&&(d(0,"span"),h(1,"Create Subtopic"),p())}function Xq(n,e){n&1&&(d(0,"span",33),W(),d(1,"svg",34),S(2,"circle",35)(3,"path",36),p(),h(4," Saving... "),p())}var Wf=class n{constructor(e,t){this.questionService=e;this.router=t}branches=[];subjects=[];topics=[];selectedBranchId="";selectedSubjectId="";selectedTopicId="";subtopicName="";isLoading=!1;ngOnInit(){this.questionService.getBranches().subscribe({next:e=>{this.branches=Array.isArray(e)?e:e.branches||[]},error:e=>{console.error("Failed to load branches",e)}})}onBranchChange(){if(this.selectedBranchId==="none"){this.subjects=[],this.selectedSubjectId="";return}this.questionService.getSubjects(this.selectedBranchId).subscribe({next:e=>{this.subjects=e.subjects||e},error:e=>{console.error("Failed to load subjects",e)}})}onSubjectChange(){if(this.selectedSubjectId==="none"){this.topics=[],this.selectedTopicId="";return}this.questionService.getTopics(this.selectedSubjectId).subscribe({next:e=>{this.topics=e.topics||e},error:e=>{console.error("Failed to load topics",e)}})}submitSubtopic(e){if(e.invalid){e.control.markAllAsTouched();return}this.isLoading=!0;let t={name:this.subtopicName,topicId:this.selectedTopicId==="none"?null:this.selectedTopicId};this.questionService.createSubtopic(t).subscribe({next:()=>{alert("Subtopic created successfully!"),this.router.navigate(["/questions"])},error:i=>{console.error("Error creating subtopic:",i),alert("Error creating subtopic. Please try again."),this.isLoading=!1}})}cancel(){this.router.navigate(["/questions"])}static \u0275fac=function(t){return new(t||n)(U(Ft),U(Se))};static \u0275cmp=pe({type:n,selectors:[["app-add-subtopic"]],decls:70,vars:10,consts:[["subtopicForm","ngForm"],[1,"min-h-screen","bg-gradient-to-br","from-success-50","to-success-100","py-6","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","mx-auto"],[1,"text-center","mb-8"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"bg-white","rounded-2xl","shadow-lg","p-8"],[1,"space-y-6",3,"ngSubmit"],[1,"form-group"],["for","branch",1,"block","text-sm","font-semibold","text-gray-700","mb-2"],[1,"text-red-500"],[1,"relative"],["id","branch","name","branch","required","","ngModel","",1,"form-select","w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-success-500","focus:border-success-500","transition-colors","appearance-none","bg-white",3,"ngModelChange","change","ngModel"],["value",""],["value","none"],[3,"value",4,"ngFor","ngForOf"],[1,"absolute","inset-y-0","right-0","flex","items-center","px-2","pointer-events-none"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["for","subject",1,"block","text-sm","font-semibold","text-gray-700","mb-2"],["id","subject","name","subject","required","","ngModel","",1,"form-select","w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-success-500","focus:border-success-500","transition-colors","appearance-none","bg-white",3,"ngModelChange","change","ngModel"],["for","topic",1,"block","text-sm","font-semibold","text-gray-700","mb-2"],["id","topic","name","topic","required","","ngModel","",1,"form-select","w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-success-500","focus:border-success-500","transition-colors","appearance-none","bg-white",3,"ngModelChange","ngModel"],["for","subtopic",1,"block","text-sm","font-semibold","text-gray-700","mb-2"],["type","text","id","subtopic","name","subtopic","required","","placeholder","Enter subtopic name",1,"form-input","w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-success-500","focus:border-success-500","transition-colors",3,"ngModelChange","ngModel"],[1,"flex","flex-col","sm:flex-row","gap-3","pt-4"],["type","submit",1,"btn-primary","flex-1","px-6","py-3","bg-success-600","text-white","rounded-lg","font-semibold","hover:bg-success-700","focus:outline-none","focus:ring-2","focus:ring-success-500","focus:ring-offset-2","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors",3,"disabled"],[4,"ngIf"],["class","flex items-center justify-center",4,"ngIf"],["type","button",1,"btn-secondary","flex-1","px-6","py-3","bg-gray-100","text-gray-700","rounded-lg","font-semibold","hover:bg-gray-200","focus:outline-none","focus:ring-2","focus:ring-gray-500","focus:ring-offset-2","transition-colors",3,"click"],[1,"mt-6","text-center"],[1,"text-sm","text-gray-500"],[3,"value"],[1,"flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(t,i){if(t&1){let r=de();d(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),h(4,"Add New Subtopic"),p(),d(5,"p",5),h(6,"Create a new subtopic under a topic"),p()(),d(7,"div",6)(8,"form",7,0),F("ngSubmit",function(){M(r);let o=Qe(9);return P(i.submitSubtopic(o))}),d(10,"div",8)(11,"label",9),h(12," Select Branch "),d(13,"span",10),h(14,"*"),p()(),d(15,"div",11)(16,"select",12),ee("ngModelChange",function(o){return M(r),J(i.selectedBranchId,o)||(i.selectedBranchId=o),P(o)}),F("change",function(){return M(r),P(i.onBranchChange())}),d(17,"option",13),h(18,"-- Select Branch --"),p(),d(19,"option",14),h(20,"None"),p(),O(21,Wq,2,2,"option",15),p(),d(22,"div",16),W(),d(23,"svg",17),S(24,"path",18),p()()()(),Z(),d(25,"div",8)(26,"label",19),h(27," Select Subject "),d(28,"span",10),h(29,"*"),p()(),d(30,"div",11)(31,"select",20),ee("ngModelChange",function(o){return M(r),J(i.selectedSubjectId,o)||(i.selectedSubjectId=o),P(o)}),F("change",function(){return M(r),P(i.onSubjectChange())}),d(32,"option",13),h(33,"-- Select Subject --"),p(),d(34,"option",14),h(35,"None"),p(),O(36,Qq,2,2,"option",15),p(),d(37,"div",16),W(),d(38,"svg",17),S(39,"path",18),p()()()(),Z(),d(40,"div",8)(41,"label",21),h(42," Select Topic "),d(43,"span",10),h(44,"*"),p()(),d(45,"div",11)(46,"select",22),ee("ngModelChange",function(o){return M(r),J(i.selectedTopicId,o)||(i.selectedTopicId=o),P(o)}),d(47,"option",13),h(48,"-- Select Topic --"),p(),d(49,"option",14),h(50,"None"),p(),O(51,Gq,2,2,"option",15),p(),d(52,"div",16),W(),d(53,"svg",17),S(54,"path",18),p()()()(),Z(),d(55,"div",8)(56,"label",23),h(57," Subtopic Name "),d(58,"span",10),h(59,"*"),p()(),d(60,"input",24),ee("ngModelChange",function(o){return M(r),J(i.subtopicName,o)||(i.subtopicName=o),P(o)}),p()(),d(61,"div",25)(62,"button",26),O(63,Yq,2,0,"span",27)(64,Xq,5,0,"span",28),p(),d(65,"button",29),F("click",function(){return M(r),P(i.cancel())}),h(66," Cancel "),p()()()(),d(67,"div",30)(68,"p",31),h(69," Subtopics provide granular organization within topics "),p()()()()}t&2&&(g(16),K("ngModel",i.selectedBranchId),g(5),_("ngForOf",i.branches),g(10),K("ngModel",i.selectedSubjectId),g(5),_("ngForOf",i.subjects),g(10),K("ngModel",i.selectedTopicId),g(5),_("ngForOf",i.topics),g(9),K("ngModel",i.subtopicName),g(2),_("disabled",i.isLoading),g(),_("ngIf",!i.isLoading),g(),_("ngIf",i.isLoading))},dependencies:[ge,je,Ee,Ut,dt,qt,Ht,Je,jt,et,ut,Bn,on,On],encapsulation:2})};var kk=o1(Ck());function Zq(n,e){n&1&&(d(0,"div",18)(1,"div",19),S(2,"i",20),d(3,"span",21),h(4,"No questions parsed yet"),p()()())}function Kq(n,e){if(n&1){let t=de();d(0,"div",22)(1,"div",23)(2,"div",19),S(3,"i",24),d(4,"span",25),h(5),p()()(),d(6,"div",26)(7,"button",27),F("click",function(){M(t);let r=D();return P(r.submitToBackend())}),S(8,"i",28),h(9," Submit to Backend "),p()()()}if(n&2){let t=D();g(5),z(" ",t.parsedQuestions.length," questions successfully parsed ")}}function Jq(n,e){if(n&1&&(d(0,"div",29)(1,"div",30)(2,"div",19),S(3,"i",31),d(4,"span",32),h(5),p()()()()),n&2){let t=D();g(5),Q(t.uploadMessage)}}var Qf=class n{constructor(e){this.questionService=e}parsedQuestions=[];uploadMessage="";onFileSelected(e){let t=e.target.files[0];t&&(console.log("\u{1F4DD} Selected file:",t.name),kk.parse(t,{header:!0,skipEmptyLines:!0,complete:i=>{console.log("\u{1F9FE} Raw CSV result:",i);let r=i.data.map(s=>{let o={};return Object.keys(s).forEach(a=>{let l=a.trim(),c=s[a]?.trim?.()??s[a];o[l]=c}),o});console.log("\u{1F9F9} Cleaned Data:",r),this.parsedQuestions=r},error:i=>{console.error("\u274C Parsing error:",i)}}))}submitToBackend(){if(this.parsedQuestions.length===0){this.uploadMessage="No data to upload.";return}let e=this.parsedQuestions.map(t=>{let i=(t.options||"").split("|").map(l=>l.trim()),r=(t.correctOptions||"").split("|").map(l=>l.trim()),s=i.map(l=>({text:l,isCorrect:r.includes(l)})),o=[];try{o=t.explanations?JSON.parse(t.explanations):[]}catch{console.warn("Invalid explanations JSON:",t.explanations)}let a=[];try{a=t.askedIn?JSON.parse(t.askedIn):[]}catch{console.warn("Invalid askedIn JSON:",t.askedIn)}return{questionText:t.questionText?.trim(),options:s,correctOptions:r,explanation:t.explanation?.trim(),difficulty:this.validateEnum(t.difficulty,["Easy","Medium","Hard"],"Medium"),marks:parseFloat(t.marks)||1,branch:t.branch?.trim(),subject:t.subject?.trim(),topic:t.topic?.trim(),subtopic:t.subtopic?.trim(),examType:t.examType?.trim(),explanations:o,askedIn:a,status:this.validateEnum(t.status,["active","inactive"],"active"),version:parseInt(t.version)||1}});this.questionService.importQuestions(e).subscribe({next:t=>{this.uploadMessage="CSV uploaded successfully!",this.parsedQuestions=[]},error:t=>{this.uploadMessage="Upload failed. Check console.",console.error(t)}})}validateEnum(e,t,i){let r=e?.trim();return t.includes(r)?r:i}static \u0275fac=function(t){return new(t||n)(U(Ft))};static \u0275cmp=pe({type:n,selectors:[["app-csv-upload"]],decls:22,vars:3,consts:[[1,"min-h-screen","bg-gradient-to-br","from-purple-50","via-blue-50","to-indigo-100","p-4","lg:p-6"],[1,"max-w-4xl","mx-auto"],[1,"bg-white","rounded-2xl","shadow-xl","border","border-gray-200","p-6","mb-8"],[1,"text-3xl","font-bold","text-gray-900","flex","items-center","gap-3"],[1,"fas","fa-file-csv","text-green-500"],[1,"text-gray-600","mt-2"],[1,"bg-white","rounded-2xl","shadow-xl","border","border-gray-200","p-6","lg:p-8"],[1,"border-2","border-dashed","border-gray-300","rounded-lg","p-8","text-center","hover:border-gray-400","transition-colors","duration-200"],[1,"flex","flex-col","items-center"],[1,"fas","fa-cloud-upload-alt","text-4xl","text-gray-400","mb-4"],[1,"cursor-pointer"],[1,"bg-gradient-to-r","from-blue-500","to-blue-600","hover:from-blue-600","hover:to-blue-700","text-white","px-6","py-3","rounded-lg","font-semibold","transition-all","duration-200","transform","hover:scale-105","shadow-lg","inline-flex","items-center","gap-2"],[1,"fas","fa-file-upload"],["type","file","accept",".csv",1,"hidden",3,"change"],[1,"text-gray-500","mt-2"],["class","mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",4,"ngIf"],["class","mt-8",4,"ngIf"],["class","mt-6",4,"ngIf"],[1,"mt-6","bg-yellow-50","border","border-yellow-200","rounded-lg","p-4"],[1,"flex","items-center"],[1,"fas","fa-exclamation-triangle","text-yellow-500","mr-3"],[1,"text-yellow-800","font-medium"],[1,"mt-8"],[1,"bg-green-50","border","border-green-200","rounded-lg","p-4","mb-6"],[1,"fas","fa-check-circle","text-green-500","mr-3"],[1,"text-green-800","font-semibold"],[1,"flex","justify-center"],[1,"bg-gradient-to-r","from-green-500","to-green-600","hover:from-green-600","hover:to-green-700","text-white","px-8","py-3","rounded-lg","font-semibold","transition-all","duration-200","transform","hover:scale-105","shadow-lg","flex","items-center","gap-2",3,"click"],[1,"fas","fa-upload"],[1,"mt-6"],[1,"bg-blue-50","border","border-blue-200","rounded-lg","p-4"],[1,"fas","fa-info-circle","text-blue-500","mr-3"],[1,"text-blue-800"]],template:function(t,i){t&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),S(4,"i",4),h(5," CSV Import Questions "),p(),d(6,"p",5),h(7,"Upload and import questions from CSV files"),p()(),d(8,"div",6)(9,"div",7)(10,"div",8),S(11,"i",9),d(12,"label",10)(13,"span",11),S(14,"i",12),h(15," Choose CSV File "),p(),d(16,"input",13),F("change",function(s){return i.onFileSelected(s)}),p()(),d(17,"p",14),h(18,"Select a CSV file to upload questions"),p()()(),O(19,Zq,5,0,"div",15)(20,Kq,10,1,"div",16)(21,Jq,6,1,"div",17),p()()()),t&2&&(g(19),_("ngIf",i.parsedQuestions.length===0),g(),_("ngIf",i.parsedQuestions.length>0),g(),_("ngIf",i.uploadMessage))},dependencies:[ge,Ee,Ut],styles:[".border-dashed[_ngcontent-%COMP%]:hover{background-color:#3b82f605}"]})};var Tk=()=>["/exam-families/new"];function eH(n,e){if(n&1&&(d(0,"tr",19)(1,"td",20),h(2),p(),d(3,"td",21)(4,"span",22),h(5),p()(),d(6,"td",23),h(7),p()()),n&2){let t=e.$implicit,i=e.index;$e("bg-gray-50",i%2===1),g(2),Q(t.name),g(3),z(" ",t.code," "),g(2),Q(t.description)}}function tH(n,e){n&1&&(d(0,"div",24)(1,"div",25),S(2,"i",26),d(3,"h3",27),h(4,"No Families Found"),p(),d(5,"p",28),h(6,"Get started by creating your first exam family"),p(),d(7,"button",7),S(8,"i",8),h(9," Add First Family "),p()()()),n&2&&(g(7),_("routerLink",Sn(1,Tk)))}var Gf=class n{constructor(e){this.svc=e}families=[];ngOnInit(){this.svc.getAll().subscribe(e=>this.families=e)}static \u0275fac=function(t){return new(t||n)(U(Mi))};static \u0275cmp=pe({type:n,selectors:[["app-exam-family-list"]],decls:30,vars:4,consts:[[1,"min-h-screen","bg-gradient-to-br","from-purple-50","via-blue-50","to-indigo-100","p-4","lg:p-6"],[1,"max-w-7xl","mx-auto"],[1,"bg-white","rounded-2xl","shadow-xl","border","border-gray-200","p-6","mb-8"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","gap-4"],[1,"text-3xl","font-bold","text-gray-900","flex","items-center","gap-3"],[1,"fas","fa-sitemap","text-indigo-500"],[1,"text-gray-600","mt-2"],[1,"bg-gradient-to-r","from-indigo-500","to-indigo-600","hover:from-indigo-600","hover:to-indigo-700","text-white","px-6","py-3","rounded-lg","font-semibold","transition-all","duration-200","transform","hover:scale-105","shadow-lg","flex","items-center","gap-2",3,"routerLink"],[1,"fas","fa-plus"],[1,"bg-white","rounded-2xl","shadow-xl","border","border-gray-200","overflow-hidden"],[1,"overflow-x-auto"],[1,"w-full"],[1,"bg-gradient-to-r","from-gray-800","to-gray-900","text-white"],[1,"px-6","py-4","text-left","font-semibold"],[1,"fas","fa-tag","mr-2"],[1,"fas","fa-code","mr-2"],[1,"fas","fa-align-left","mr-2"],["class","border-b border-gray-100 hover:bg-gray-50 transition-colors duration-200",3,"bg-gray-50",4,"ngFor","ngForOf"],["class","text-center py-16",4,"ngIf"],[1,"border-b","border-gray-100","hover:bg-gray-50","transition-colors","duration-200"],[1,"px-6","py-4","text-gray-900","font-semibold"],[1,"px-6","py-4","text-gray-700"],[1,"bg-gray-100","text-gray-800","px-3","py-1","rounded-full","text-sm","font-mono"],[1,"px-6","py-4","text-gray-600"],[1,"text-center","py-16"],[1,"flex","flex-col","items-center"],[1,"fas","fa-sitemap","text-6xl","text-gray-300","mb-4"],[1,"text-xl","font-semibold","text-gray-600","mb-2"],[1,"text-gray-500","mb-6"]],template:function(t,i){t&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"h2",4),S(6,"i",5),h(7," Exam Families "),p(),d(8,"p",6),h(9,"Manage top-level exam family categories"),p()(),d(10,"button",7),S(11,"i",8),h(12," Add Family "),p()()(),d(13,"div",9)(14,"div",10)(15,"table",11)(16,"thead")(17,"tr",12)(18,"th",13),S(19,"i",14),h(20,"Name "),p(),d(21,"th",13),S(22,"i",15),h(23,"Code "),p(),d(24,"th",13),S(25,"i",16),h(26,"Description "),p()()(),d(27,"tbody"),O(28,eH,8,5,"tr",17),p()(),O(29,tH,10,2,"div",18),p()()()()),t&2&&(g(10),_("routerLink",Sn(3,Tk)),g(18),_("ngForOf",i.families),g(),_("ngIf",i.families.length===0))},dependencies:[ge,je,Ee,Ue,un],styles:[".overflow-x-auto[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#cbd5e0 #f7fafc}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f7fafc;border-radius:3px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e0;border-radius:3px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a0aec0}"]})};var Yf=class n{constructor(e,t,i){this.fb=e;this.svc=t;this.router=i}form;ngOnInit(){this.form=this.fb.group({name:["",fe.required],code:["",fe.required],description:[""]})}onSubmit(){this.form.invalid||this.svc.create(this.form.value).subscribe({next:e=>{window.alert(`\u2705 Exam Family "${e.name}" added successfully.`),this.router.navigate(["/exam-families"])},error:e=>{let t=e.error?.message||e.message||"Unknown error";window.alert(`\u274C Failed to add Exam Family: ${t}`)}})}static \u0275fac=function(t){return new(t||n)(U(Vn),U(Mi),U(Se))};static \u0275cmp=pe({type:n,selectors:[["app-add-exam-family"]],decls:24,vars:2,consts:[[1,"min-h-screen","bg-gradient-to-br","from-purple-50","via-blue-50","to-indigo-100","p-4","lg:p-6"],[1,"max-w-4xl","mx-auto"],[1,"bg-white","rounded-2xl","shadow-xl","border","border-gray-200","p-6","mb-8"],[1,"text-3xl","font-bold","text-gray-900","flex","items-center","gap-3"],[1,"fas","fa-plus-circle","text-indigo-500"],[1,"text-gray-600","mt-2"],[1,"bg-white","rounded-2xl","shadow-xl","border","border-gray-200","p-6","lg:p-8"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"form-group"],[1,"flex","items-center","gap-2","text-sm","font-semibold","text-gray-700","mb-2"],[1,"fas","fa-tag","text-indigo-500"],["formControlName","name","placeholder","e.g. Medical Exams",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-indigo-500","focus:border-indigo-500","transition-colors","duration-200","placeholder-gray-400"],[1,"fas","fa-code","text-green-500"],["formControlName","code","placeholder","e.g. medical-exams",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-indigo-500","focus:border-indigo-500","transition-colors","duration-200","placeholder-gray-400"],[1,"flex","justify-end","pt-4"],["type","submit",1,"bg-gradient-to-r","from-indigo-500","to-indigo-600","hover:from-indigo-600","hover:to-indigo-700","text-white","px-8","py-3","rounded-lg","font-semibold","transition-all","duration-200","transform","hover:scale-105","shadow-lg","disabled:from-gray-400","disabled:to-gray-500","disabled:cursor-not-allowed","disabled:transform-none","disabled:shadow-none","flex","items-center","gap-2",3,"disabled"],[1,"fas","fa-save"]],template:function(t,i){t&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),S(4,"i",4),h(5," Add Exam Family "),p(),d(6,"p",5),h(7,"Create a new top-level exam family category"),p()(),d(8,"div",6)(9,"form",7),F("ngSubmit",function(){return i.onSubmit()}),d(10,"div",8)(11,"label",9),S(12,"i",10),h(13," Name "),p(),S(14,"input",11),p(),d(15,"div",8)(16,"label",9),S(17,"i",12),h(18," Code "),p(),S(19,"input",13),p(),d(20,"div",14)(21,"button",15),S(22,"i",16),h(23," Save Family "),p()()()()()()),t&2&&(g(9),_("formGroup",i.form),g(12),_("disabled",i.form.invalid))},dependencies:[ge,$n,dt,Je,et,ut,Rn,Fn,Ue],styles:[".form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #6366f11a}button[type=submit][_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 10px 25px #6366f14d}"]})};var Ak=()=>["/exam-streams","new"];function nH(n,e){if(n&1&&(d(0,"tr",19)(1,"td",20)(2,"span",21),h(3),p()(),d(4,"td",22)(5,"span",23),h(6),p()(),d(7,"td",20),h(8),p()()),n&2){let t=e.$implicit,i=e.index;$e("bg-gray-50",i%2===1),g(3),z(" ",t.family," "),g(3),z(" ",t.code," "),g(2),Q(t.name)}}function iH(n,e){n&1&&(d(0,"div",24)(1,"div",25),S(2,"i",26),d(3,"h3",27),h(4,"No Streams Found"),p(),d(5,"p",28),h(6,"Get started by creating your first exam stream"),p(),d(7,"button",7),S(8,"i",8),h(9," Add First Stream "),p()()()),n&2&&(g(7),_("routerLink",Sn(1,Ak)))}var Xf=class n{constructor(e){this.svc=e}streams=[];ngOnInit(){this.svc.getAll().subscribe(e=>this.streams=e)}static \u0275fac=function(t){return new(t||n)(U(vr))};static \u0275cmp=pe({type:n,selectors:[["app-exam-stream-list"]],decls:30,vars:4,consts:[[1,"min-h-screen","bg-gradient-to-br","from-purple-50","via-blue-50","to-indigo-100","p-4","lg:p-6"],[1,"max-w-7xl","mx-auto"],[1,"bg-white","rounded-2xl","shadow-xl","border","border-gray-200","p-6","mb-8"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","gap-4"],[1,"text-3xl","font-bold","text-gray-900","flex","items-center","gap-3"],[1,"fas","fa-stream","text-blue-500"],[1,"text-gray-600","mt-2"],[1,"bg-gradient-to-r","from-blue-500","to-blue-600","hover:from-blue-600","hover:to-blue-700","text-white","px-6","py-3","rounded-lg","font-semibold","transition-all","duration-200","transform","hover:scale-105","shadow-lg","flex","items-center","gap-2",3,"routerLink"],[1,"fas","fa-plus"],[1,"bg-white","rounded-2xl","shadow-xl","border","border-gray-200","overflow-hidden"],[1,"overflow-x-auto"],[1,"w-full"],[1,"bg-gradient-to-r","from-gray-800","to-gray-900","text-white"],[1,"px-6","py-4","text-left","font-semibold"],[1,"fas","fa-users","mr-2"],[1,"fas","fa-code","mr-2"],[1,"fas","fa-tag","mr-2"],["class","border-b border-gray-100 hover:bg-gray-50 transition-colors duration-200",3,"bg-gray-50",4,"ngFor","ngForOf"],["class","text-center py-16",4,"ngIf"],[1,"border-b","border-gray-100","hover:bg-gray-50","transition-colors","duration-200"],[1,"px-6","py-4","text-gray-700","font-medium"],[1,"bg-purple-100","text-purple-800","px-3","py-1","rounded-full","text-sm","font-semibold"],[1,"px-6","py-4"],[1,"text-gray-900","font-mono","bg-gray-100","rounded","px-2","py-1","inline-block"],[1,"text-center","py-16"],[1,"flex","flex-col","items-center"],[1,"fas","fa-stream","text-6xl","text-gray-300","mb-4"],[1,"text-xl","font-semibold","text-gray-600","mb-2"],[1,"text-gray-500","mb-6"]],template:function(t,i){t&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"h2",4),S(6,"i",5),h(7," Exam Streams "),p(),d(8,"p",6),h(9,"Manage exam streams within each family category"),p()(),d(10,"button",7),S(11,"i",8),h(12," Add Stream "),p()()(),d(13,"div",9)(14,"div",10)(15,"table",11)(16,"thead")(17,"tr",12)(18,"th",13),S(19,"i",14),h(20,"Family ID "),p(),d(21,"th",13),S(22,"i",15),h(23,"Code "),p(),d(24,"th",13),S(25,"i",16),h(26,"Name "),p()()(),d(27,"tbody"),O(28,nH,9,5,"tr",17),p()(),O(29,iH,10,2,"div",18),p()()()()),t&2&&(g(10),_("routerLink",Sn(3,Ak)),g(18),_("ngForOf",i.streams),g(),_("ngIf",i.streams.length===0))},dependencies:[ge,je,Ee,Ue,un],encapsulation:2})};function rH(n,e){if(n&1&&(d(0,"option",23),h(1),p()),n&2){let t=e.$implicit;_("value",t._id),g(),Q(t.name)}}var Zf=class n{constructor(e,t,i,r){this.fb=e;this.svc=t;this.familySvc=i;this.router=r}form;families=[];ngOnInit(){this.form=this.fb.group({family:["",fe.required],code:["",fe.required],name:["",fe.required]}),this.familySvc.getAll().subscribe(e=>this.families=e)}onSubmit(){this.form.invalid||this.svc.create(this.form.value).subscribe({next:e=>{window.alert(`\u2705 Stream "${e.name}" added.`),this.router.navigate(["/exam-streams"])},error:e=>{let t=e.error?.message||e.message||"Unknown error";window.alert(`\u274C Failed to add stream: ${t}`)}})}static \u0275fac=function(t){return new(t||n)(U(Vn),U(vr),U(Mi),U(Se))};static \u0275cmp=pe({type:n,selectors:[["app-add-exam-stream"]],decls:32,vars:3,consts:[[1,"min-h-screen","bg-gradient-to-br","from-purple-50","via-blue-50","to-indigo-100","p-4","lg:p-6"],[1,"max-w-4xl","mx-auto"],[1,"bg-white","rounded-2xl","shadow-xl","border","border-gray-200","p-6","mb-8"],[1,"text-3xl","font-bold","text-gray-900","flex","items-center","gap-3"],[1,"fas","fa-plus-circle","text-blue-500"],[1,"text-gray-600","mt-2"],[1,"bg-white","rounded-2xl","shadow-xl","border","border-gray-200","p-6","lg:p-8"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"form-group"],["for","family",1,"flex","items-center","gap-2","text-sm","font-semibold","text-gray-700","mb-2"],[1,"fas","fa-users","text-purple-500"],["id","family","formControlName","family",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition-colors","duration-200","bg-white","appearance-none","bg-[url('data:image/svg+xml;charset=UTF-8,%3csvg","xmlns=\\'http://www.w3.org/2000/svg\\'","viewBox=\\'0","0","24","24\\'","fill=\\'none\\'","stroke=\\'currentColor\\'","stroke-width=\\'2\\'","stroke-linecap=\\'round\\'","stroke-linejoin=\\'round\\'%3e%3cpolyline","points=\\'6","9","12","15","18","9\\'%3e%3c/polyline%3e%3c/svg%3e')]","bg-no-repeat","bg-right-4","bg-[length:1em]"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","code",1,"flex","items-center","gap-2","text-sm","font-semibold","text-gray-700","mb-2"],[1,"fas","fa-code","text-green-500"],["id","code","formControlName","code","placeholder","e.g. medical-stream",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition-colors","duration-200","placeholder-gray-400"],["for","name",1,"flex","items-center","gap-2","text-sm","font-semibold","text-gray-700","mb-2"],[1,"fas","fa-tag","text-indigo-500"],["id","name","formControlName","name","placeholder","Stream Name",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition-colors","duration-200","placeholder-gray-400"],[1,"flex","justify-end","pt-4"],["type","submit",1,"bg-gradient-to-r","from-blue-500","to-blue-600","hover:from-blue-600","hover:to-blue-700","text-white","px-8","py-3","rounded-lg","font-semibold","transition-all","duration-200","transform","hover:scale-105","shadow-lg","disabled:from-gray-400","disabled:to-gray-500","disabled:cursor-not-allowed","disabled:transform-none","disabled:shadow-none","flex","items-center","gap-2",3,"disabled"],[1,"fas","fa-save"],[3,"value"]],template:function(t,i){t&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),S(4,"i",4),h(5," Add Exam Stream "),p(),d(6,"p",5),h(7,"Create a new exam stream within a family category"),p()(),d(8,"div",6)(9,"form",7),F("ngSubmit",function(){return i.onSubmit()}),d(10,"div",8)(11,"label",9),S(12,"i",10),h(13," Family "),p(),d(14,"select",11)(15,"option",12),h(16,"Select Family"),p(),O(17,rH,2,2,"option",13),p()(),d(18,"div",8)(19,"label",14),S(20,"i",15),h(21," Code "),p(),S(22,"input",16),p(),d(23,"div",8)(24,"label",17),S(25,"i",18),h(26," Name "),p(),S(27,"input",19),p(),d(28,"div",20)(29,"button",21),S(30,"i",22),h(31," Save Stream "),p()()()()()()),t&2&&(g(9),_("formGroup",i.form),g(8),_("ngForOf",i.families),g(12),_("disabled",i.form.invalid))},dependencies:[ge,je,$n,dt,qt,Ht,Je,jt,et,ut,Rn,Fn,Ue],styles:[".form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #3b82f61a}button[type=submit][_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 10px 25px #3b82f64d}"]})};var Ik=()=>["/exam-papers","new"];function sH(n,e){if(n&1&&(d(0,"tr",20)(1,"td",21),h(2),p(),d(3,"td",22),h(4),p(),d(5,"td",23)(6,"span",24),h(7),p()(),d(8,"td",21),h(9),p()()),n&2){let t=e.$implicit,i=e.index;$e("bg-purple-50",i%2===0),g(2),Q(t.family),g(2),Q(t.stream),g(3),z(" ",t.code," "),g(2),Q(t.name)}}function oH(n,e){n&1&&(d(0,"div",25),S(1,"i",26),d(2,"h3",27),h(3,"No Exam Papers Found"),p(),d(4,"p",28),h(5,"Get started by creating your first exam paper"),p(),d(6,"button",29),S(7,"i",30),h(8," Add Your First Paper "),p()()),n&2&&(g(6),_("routerLink",Sn(1,Ik)))}var Kf=class n{constructor(e){this.svc=e}papers=[];ngOnInit(){this.svc.getAll().subscribe(e=>this.papers=e)}static \u0275fac=function(t){return new(t||n)(U(xr))};static \u0275cmp=pe({type:n,selectors:[["app-exam-paper-list"]],decls:33,vars:4,consts:[[1,"min-h-screen","bg-gradient-to-br","from-purple-50","via-blue-50","to-indigo-100","p-4","lg:p-6"],[1,"max-w-7xl","mx-auto"],[1,"bg-white","rounded-2xl","shadow-xl","border","border-gray-200","p-6","mb-8"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","gap-4"],[1,"text-3xl","font-bold","text-gray-900","flex","items-center","gap-3"],[1,"fas","fa-file-alt","text-purple-500"],[1,"text-gray-600","mt-2"],[1,"bg-gradient-to-r","from-purple-500","to-purple-600","hover:from-purple-600","hover:to-purple-700","text-white","px-6","py-3","rounded-lg","font-semibold","transition-all","duration-200","transform","hover:scale-105","shadow-lg","flex","items-center","gap-2",3,"routerLink"],[1,"fas","fa-plus"],[1,"bg-white","rounded-2xl","shadow-xl","border","border-gray-200","overflow-hidden"],[1,"overflow-x-auto"],[1,"w-full"],[1,"bg-gradient-to-r","from-gray-800","to-gray-900","text-white"],[1,"px-6","py-4","text-left","font-semibold"],[1,"fas","fa-users","mr-2"],[1,"fas","fa-stream","mr-2"],[1,"fas","fa-code","mr-2"],[1,"fas","fa-file-signature","mr-2"],["class","border-b border-gray-100 hover:bg-gray-50 transition-all duration-200",3,"bg-purple-50",4,"ngFor","ngForOf"],["class","text-center py-12",4,"ngIf"],[1,"border-b","border-gray-100","hover:bg-gray-50","transition-all","duration-200"],[1,"px-6","py-4","text-gray-800","font-medium"],[1,"px-6","py-4","text-gray-700"],[1,"px-6","py-4"],[1,"bg-blue-100","text-blue-800","px-3","py-1","rounded-full","text-sm","font-medium"],[1,"text-center","py-12"],[1,"fas","fa-file-alt","text-4xl","text-gray-400","mb-4"],[1,"text-xl","font-semibold","text-gray-600","mb-2"],[1,"text-gray-500","mb-6"],[1,"bg-gradient-to-r","from-purple-500","to-purple-600","hover:from-purple-600","hover:to-purple-700","text-white","px-6","py-3","rounded-lg","font-semibold","transition-all","duration-200","transform","hover:scale-105","shadow-lg",3,"routerLink"],[1,"fas","fa-plus","mr-2"]],template:function(t,i){t&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"h2",4),S(6,"i",5),h(7," Exam Papers "),p(),d(8,"p",6),h(9,"Manage and organize exam papers by family and stream"),p()(),d(10,"button",7),S(11,"i",8),h(12," Add Paper "),p()()(),d(13,"div",9)(14,"div",10)(15,"table",11)(16,"thead")(17,"tr",12)(18,"th",13),S(19,"i",14),h(20,"Family "),p(),d(21,"th",13),S(22,"i",15),h(23,"Stream "),p(),d(24,"th",13),S(25,"i",16),h(26,"Code "),p(),d(27,"th",13),S(28,"i",17),h(29,"Name "),p()()(),d(30,"tbody"),O(31,sH,10,6,"tr",18),p()(),O(32,oH,9,2,"div",19),p()()()()),t&2&&(g(10),_("routerLink",Sn(3,Ik)),g(21),_("ngForOf",i.papers),g(),_("ngIf",!i.papers||i.papers.length===0))},dependencies:[ge,je,Ee,Ue,un],styles:[".overflow-x-auto[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#cbd5e0 #f7fafc}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f7fafc;border-radius:3px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e0;border-radius:3px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a0aec0}"]})};function aH(n,e){if(n&1&&(d(0,"option",25),h(1),p()),n&2){let t=e.$implicit;_("value",t._id),g(),Q(t.name)}}function lH(n,e){if(n&1&&(d(0,"option",25),h(1),p()),n&2){let t=e.$implicit;_("value",t._id),g(),Q(t.name)}}var Jf=class n{constructor(e,t,i,r,s){this.fb=e;this.paperSvc=t;this.familySvc=i;this.streamSvc=r;this.router=s}form;families=[];streams=[];ngOnInit(){this.form=this.fb.group({family:["",fe.required],stream:["",fe.required],code:["",fe.required],name:["",fe.required],description:[""]}),this.familySvc.getAll().subscribe(e=>this.families=e),this.form.get("family")?.valueChanges.subscribe(e=>{this.streams=[],this.form.get("stream")?.reset(""),this.streamSvc.getByFamily(e).subscribe(t=>this.streams=t)})}onSubmit(){this.form.invalid||this.paperSvc.create(this.form.value).subscribe({next:e=>{window.alert(`\u2705 Paper "${e.name}" added.`),this.router.navigate(["/exam-papers"])},error:e=>{let t=e.error?.message||e.message||"Unknown";window.alert(`\u274C Failed to add paper: ${t}`)}})}static \u0275fac=function(t){return new(t||n)(U(Vn),U(xr),U(Mi),U(vr),U(Se))};static \u0275cmp=pe({type:n,selectors:[["app-add-exam-paper"]],decls:45,vars:5,consts:[[1,"min-h-screen","bg-gradient-to-br","from-purple-50","via-blue-50","to-indigo-100","p-4","lg:p-6"],[1,"max-w-4xl","mx-auto"],[1,"bg-white","rounded-2xl","shadow-xl","border","border-gray-200","p-6","mb-8"],[1,"text-3xl","font-bold","text-gray-900","flex","items-center","gap-3"],[1,"fas","fa-plus-circle","text-purple-500"],[1,"text-gray-600","mt-2"],[1,"bg-white","rounded-2xl","shadow-xl","border","border-gray-200","p-6","lg:p-8"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"form-group"],[1,"flex","items-center","gap-2","text-sm","font-semibold","text-gray-700","mb-2"],[1,"fas","fa-users","text-purple-500"],["formControlName","family",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-purple-500","focus:border-purple-500","transition-colors","duration-200","bg-white","appearance-none","bg-[url('data:image/svg+xml;charset=UTF-8,%3csvg","xmlns=\\'http://www.w3.org/2000/svg\\'","viewBox=\\'0","0","24","24\\'","fill=\\'none\\'","stroke=\\'currentColor\\'","stroke-width=\\'2\\'","stroke-linecap=\\'round\\'","stroke-linejoin=\\'round\\'%3e%3cpolyline","points=\\'6","9","12","15","18","9\\'%3e%3c/polyline%3e%3c/svg%3e')]","bg-no-repeat","bg-right-4","bg-[length:1em]"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"fas","fa-stream","text-blue-500"],["formControlName","stream",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-purple-500","focus:border-purple-500","transition-colors","duration-200","bg-white","appearance-none","bg-[url('data:image/svg+xml;charset=UTF-8,%3csvg","xmlns=\\'http://www.w3.org/2000/svg\\'","viewBox=\\'0","0","24","24\\'","fill=\\'none\\'","stroke=\\'currentColor\\'","stroke-width=\\'2\\'","stroke-linecap=\\'round\\'","stroke-linejoin=\\'round\\'%3e%3cpolyline","points=\\'6","9","12","15","18","9\\'%3e%3c/polyline%3e%3c/svg%3e')]","bg-no-repeat","bg-right-4","bg-[length:1em]","disabled:bg-gray-100","disabled:cursor-not-allowed",3,"disabled"],[1,"fas","fa-code","text-green-500"],["formControlName","code","placeholder","e.g. neet-2025-paper1",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-purple-500","focus:border-purple-500","transition-colors","duration-200","placeholder-gray-400"],[1,"fas","fa-file-signature","text-indigo-500"],["formControlName","name","placeholder","Paper Name",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-purple-500","focus:border-purple-500","transition-colors","duration-200","placeholder-gray-400"],[1,"fas","fa-align-left","text-yellow-500"],["formControlName","description","rows","4","placeholder","Enter exam paper description...",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-purple-500","focus:border-purple-500","transition-colors","duration-200","placeholder-gray-400","resize-vertical"],[1,"flex","justify-end","pt-4"],["type","submit",1,"bg-gradient-to-r","from-purple-500","to-purple-600","hover:from-purple-600","hover:to-purple-700","text-white","px-8","py-3","rounded-lg","font-semibold","transition-all","duration-200","transform","hover:scale-105","shadow-lg","disabled:from-gray-400","disabled:to-gray-500","disabled:cursor-not-allowed","disabled:transform-none","disabled:shadow-none","flex","items-center","gap-2",3,"disabled"],[1,"fas","fa-save"],[3,"value"]],template:function(t,i){t&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),S(4,"i",4),h(5," Add Exam Paper "),p(),d(6,"p",5),h(7,"Create a new exam paper for a specific family and stream"),p()(),d(8,"div",6)(9,"form",7),F("ngSubmit",function(){return i.onSubmit()}),d(10,"div",8)(11,"label",9),S(12,"i",10),h(13," Family "),p(),d(14,"select",11)(15,"option",12),h(16,"Select Family"),p(),O(17,aH,2,2,"option",13),p()(),d(18,"div",8)(19,"label",9),S(20,"i",14),h(21," Stream "),p(),d(22,"select",15)(23,"option",12),h(24,"Select Stream"),p(),O(25,lH,2,2,"option",13),p()(),d(26,"div",8)(27,"label",9),S(28,"i",16),h(29," Code "),p(),S(30,"input",17),p(),d(31,"div",8)(32,"label",9),S(33,"i",18),h(34," Name "),p(),S(35,"input",19),p(),d(36,"div",8)(37,"label",9),S(38,"i",20),h(39," Description "),p(),S(40,"textarea",21),p(),d(41,"div",22)(42,"button",23),S(43,"i",24),h(44," Save Exam Paper "),p()()()()()()),t&2&&(g(9),_("formGroup",i.form),g(8),_("ngForOf",i.families),g(5),_("disabled",!i.streams.length),g(3),_("ngForOf",i.streams),g(17),_("disabled",i.form.invalid))},dependencies:[ge,je,$n,dt,qt,Ht,Je,jt,et,ut,Rn,Fn,Ue],styles:[".form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #9333ea1a}button[type=submit][_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 10px 25px #9333ea4d}"]})};var Mk=()=>["/exam-shifts","new"];function cH(n,e){n&1&&(d(0,"div",13)(1,"div",14),S(2,"i",15),d(3,"h3",16),h(4,"No Exam Shifts"),p(),d(5,"p",17),h(6,"Get started by creating your first exam shift"),p(),d(7,"button",18),S(8,"i",8),h(9," Create First Shift "),p()()()),n&2&&(g(7),_("routerLink",Sn(1,Mk)))}function uH(n,e){if(n&1&&(d(0,"tr",31)(1,"td",32)(2,"div",33)(3,"div",34),S(4,"i",35),p(),d(5,"div",36)(6,"div",37),h(7),p()()()(),d(8,"td",32)(9,"span",38),h(10),p()(),d(11,"td",32)(12,"div",37),h(13),p()(),d(14,"td",39)(15,"div",40)(16,"button",41),S(17,"i",42),h(18," View "),p(),d(19,"button",43),S(20,"i",44),h(21," Edit "),p(),d(22,"button",45),S(23,"i",46),h(24," Delete "),p()()()()),n&2){let t=e.$implicit;g(7),Q(t.paper),g(3),z(" ",t.code," "),g(3),Q(t.name)}}function dH(n,e){if(n&1&&(d(0,"div",19)(1,"div",20)(2,"table",21)(3,"thead",22)(4,"tr")(5,"th",23),S(6,"i",24),h(7," Paper ID "),p(),d(8,"th",23),S(9,"i",25),h(10," Code "),p(),d(11,"th",23),S(12,"i",26),h(13," Name "),p(),d(14,"th",27),S(15,"i",28),h(16," Actions "),p()()(),d(17,"tbody",29),O(18,uH,25,3,"tr",30),p()()()()),n&2){let t=D();g(18),_("ngForOf",t.shifts)}}var em=class n{constructor(e){this.svc=e}shifts=[];ngOnInit(){this.svc.getAll().subscribe(e=>this.shifts=e)}static \u0275fac=function(t){return new(t||n)(U(Ts))};static \u0275cmp=pe({type:n,selectors:[["app-exam-shift-list"]],decls:17,vars:4,consts:[[1,"min-h-screen","bg-gradient-to-br","from-purple-50","to-indigo-100","p-6"],[1,"max-w-6xl","mx-auto"],[1,"bg-gradient-to-r","from-purple-600","to-indigo-600","rounded-t-2xl","px-8","py-6","shadow-lg"],[1,"flex","items-center","justify-between"],[1,"text-3xl","font-bold","text-white","flex","items-center","gap-3"],[1,"fas","fa-clock"],[1,"text-purple-100","mt-2"],[1,"inline-flex","items-center","px-6","py-3","bg-white","text-purple-600","font-semibold","rounded-lg","hover:bg-purple-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-white","transition-all","duration-200","transform","hover:scale-105","shadow-lg",3,"routerLink"],[1,"fas","fa-plus","mr-2"],[1,"bg-white","rounded-b-2xl","shadow-xl","overflow-hidden"],[1,"p-8"],["class","text-center py-16",4,"ngIf"],["class","overflow-hidden",4,"ngIf"],[1,"text-center","py-16"],[1,"bg-gray-50","border","border-gray-200","rounded-lg","p-8","max-w-md","mx-auto"],[1,"fas","fa-clock","text-gray-400","text-4xl","mb-4"],[1,"text-xl","font-semibold","text-gray-700","mb-2"],[1,"text-gray-500","mb-6"],[1,"inline-flex","items-center","px-6","py-3","bg-purple-600","text-white","font-semibold","rounded-lg","hover:bg-purple-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-purple-500","transition-colors","duration-200",3,"routerLink"],[1,"overflow-hidden"],[1,"overflow-x-auto","shadow-lg","rounded-lg","border","border-gray-200"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gradient-to-r","from-gray-50","to-gray-100"],[1,"px-6","py-4","text-left","text-xs","font-semibold","text-gray-700","uppercase","tracking-wider","border-b","border-gray-200"],[1,"fas","fa-file-alt","mr-2","text-purple-500"],[1,"fas","fa-barcode","mr-2","text-purple-500"],[1,"fas","fa-tag","mr-2","text-purple-500"],[1,"px-6","py-4","text-center","text-xs","font-semibold","text-gray-700","uppercase","tracking-wider","border-b","border-gray-200"],[1,"fas","fa-cogs","mr-2","text-purple-500"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-purple-50 transition-colors duration-200",4,"ngFor","ngForOf"],[1,"hover:bg-purple-50","transition-colors","duration-200"],[1,"px-6","py-4","whitespace-nowrap"],[1,"flex","items-center"],[1,"flex-shrink-0","w-10","h-10","bg-purple-100","rounded-full","flex","items-center","justify-center"],[1,"fas","fa-file-alt","text-purple-600"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-900"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-xs","font-medium","bg-indigo-100","text-indigo-800"],[1,"px-6","py-4","whitespace-nowrap","text-center"],[1,"flex","items-center","justify-center","space-x-2"],["title","View Details",1,"inline-flex","items-center","px-3","py-1.5","border","border-blue-300","text-xs","font-medium","rounded-md","text-blue-700","bg-blue-50","hover:bg-blue-100","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","transition-colors","duration-200"],[1,"fas","fa-eye","mr-1"],["title","Edit Shift",1,"inline-flex","items-center","px-3","py-1.5","border","border-green-300","text-xs","font-medium","rounded-md","text-green-700","bg-green-50","hover:bg-green-100","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-green-500","transition-colors","duration-200"],[1,"fas","fa-edit","mr-1"],["title","Delete Shift",1,"inline-flex","items-center","px-3","py-1.5","border","border-red-300","text-xs","font-medium","rounded-md","text-red-700","bg-red-50","hover:bg-red-100","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500","transition-colors","duration-200"],[1,"fas","fa-trash","mr-1"]],template:function(t,i){t&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"h2",4),S(6,"i",5),h(7," Exam Shifts "),p(),d(8,"p",6),h(9,"Manage exam shift schedules and timings"),p()(),d(10,"button",7),S(11,"i",8),h(12," Add Shift "),p()()(),d(13,"div",9)(14,"div",10),O(15,cH,10,2,"div",11)(16,dH,19,1,"div",12),p()()()()),t&2&&(g(10),_("routerLink",Sn(3,Mk)),g(5),_("ngIf",!i.shifts||i.shifts.length===0),g(),_("ngIf",i.shifts&&i.shifts.length>0))},dependencies:[ge,je,Ee,Ue,un],encapsulation:2})};function pH(n,e){if(n&1&&(d(0,"option",26),h(1),p()),n&2){let t=e.$implicit;_("value",t._id),g(),Q(t.name)}}function hH(n,e){n&1&&(d(0,"div",27),S(1,"i",28),h(2," Please select a paper "),p())}function fH(n,e){n&1&&(d(0,"div",27),S(1,"i",28),h(2," Code is required "),p())}function mH(n,e){n&1&&(d(0,"div",27),S(1,"i",28),h(2," Name is required "),p())}var tm=class n{constructor(e,t,i,r){this.fb=e;this.shiftSvc=t;this.paperSvc=i;this.router=r}form;papers=[];ngOnInit(){this.form=this.fb.group({paper:["",fe.required],code:["",fe.required],name:["",fe.required]}),this.paperSvc.getAll().subscribe(e=>this.papers=e)}onSubmit(){this.form.invalid||this.shiftSvc.create(this.form.value).subscribe({next:e=>{window.alert(`\u2705 Shift "${e.name}" added.`),this.router.navigate(["/exam-shifts"])},error:e=>{let t=e.error?.message||e.message||"Unknown error";window.alert(`\u274C Failed to add shift: ${t}`)}})}onCancel(){this.router.navigate(["/exam-shifts"])}static \u0275fac=function(t){return new(t||n)(U(Vn),U(Ts),U(xr),U(Se))};static \u0275cmp=pe({type:n,selectors:[["app-add-exam-shift"]],decls:39,vars:30,consts:[[1,"min-h-screen","bg-gradient-to-br","from-purple-50","to-indigo-100","p-6"],[1,"max-w-2xl","mx-auto"],[1,"bg-gradient-to-r","from-purple-600","to-indigo-600","rounded-t-2xl","px-8","py-6","shadow-lg"],[1,"text-3xl","font-bold","text-white","text-center","flex","items-center","justify-center","gap-3"],[1,"fas","fa-plus-circle"],[1,"text-purple-100","text-center","mt-2"],[1,"bg-white","rounded-b-2xl","shadow-xl","overflow-hidden"],[1,"p-8"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","paper",1,"block","text-sm","font-semibold","text-gray-700","mb-2"],[1,"fas","fa-file-alt","mr-2","text-purple-500"],["id","paper","formControlName","paper",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-purple-500","focus:border-purple-500","transition-colors","duration-200","bg-white"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","mt-1 text-sm text-red-600",4,"ngIf"],["for","code",1,"block","text-sm","font-semibold","text-gray-700","mb-2"],[1,"fas","fa-barcode","mr-2","text-purple-500"],["id","code","formControlName","code","type","text","placeholder","e.g. shift-1",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-purple-500","focus:border-purple-500","transition-colors","duration-200","placeholder-gray-400"],["for","name",1,"block","text-sm","font-semibold","text-gray-700","mb-2"],[1,"fas","fa-tag","mr-2","text-purple-500"],["id","name","formControlName","name","type","text","placeholder","Shift Name",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-purple-500","focus:border-purple-500","transition-colors","duration-200","placeholder-gray-400"],[1,"flex","gap-4","pt-6"],["type","submit",1,"flex-1","bg-gradient-to-r","from-purple-600","to-indigo-600","text-white","font-semibold","py-3","px-6","rounded-lg","hover:from-purple-700","hover:to-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-purple-500","transition-all","duration-200","transform","hover:scale-[1.02]","disabled:opacity-50","disabled:cursor-not-allowed","disabled:transform-none",3,"disabled"],[1,"fas","fa-save","mr-2"],["type","button",1,"px-6","py-3","border","border-gray-300","text-gray-700","font-semibold","rounded-lg","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-gray-500","transition-colors","duration-200",3,"click"],[1,"fas","fa-times","mr-2"],[3,"value"],[1,"mt-1","text-sm","text-red-600"],[1,"fas","fa-exclamation-circle","mr-1"]],template:function(t,i){if(t&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),S(4,"i",4),h(5," Add Exam Shift "),p(),d(6,"p",5),h(7,"Create a new exam shift schedule"),p()(),d(8,"div",6)(9,"div",7)(10,"form",8),F("ngSubmit",function(){return i.onSubmit()}),d(11,"div")(12,"label",9),S(13,"i",10),h(14," Paper "),p(),d(15,"select",11)(16,"option",12),h(17,"Select Paper"),p(),O(18,pH,2,2,"option",13),p(),O(19,hH,3,0,"div",14),p(),d(20,"div")(21,"label",15),S(22,"i",16),h(23," Code "),p(),S(24,"input",17),O(25,fH,3,0,"div",14),p(),d(26,"div")(27,"label",18),S(28,"i",19),h(29," Name "),p(),S(30,"input",20),O(31,mH,3,0,"div",14),p(),d(32,"div",21)(33,"button",22),S(34,"i",23),h(35," Save Exam Shift "),p(),d(36,"button",24),F("click",function(){return i.onCancel()}),S(37,"i",25),h(38," Cancel "),p()()()()()()()),t&2){let r,s,o,a,l,c,u,f,m,v,b,w,y,k,I;g(10),_("formGroup",i.form),g(5),$e("border-red-500",((r=i.form.get("paper"))==null?null:r.invalid)&&((r=i.form.get("paper"))==null?null:r.touched))("focus:ring-red-500",((s=i.form.get("paper"))==null?null:s.invalid)&&((s=i.form.get("paper"))==null?null:s.touched))("border-green-500",((o=i.form.get("paper"))==null?null:o.valid)&&((o=i.form.get("paper"))==null?null:o.touched))("focus:ring-green-500",((a=i.form.get("paper"))==null?null:a.valid)&&((a=i.form.get("paper"))==null?null:a.touched)),g(3),_("ngForOf",i.papers),g(),_("ngIf",((l=i.form.get("paper"))==null?null:l.invalid)&&((l=i.form.get("paper"))==null?null:l.touched)),g(5),$e("border-red-500",((c=i.form.get("code"))==null?null:c.invalid)&&((c=i.form.get("code"))==null?null:c.touched))("focus:ring-red-500",((u=i.form.get("code"))==null?null:u.invalid)&&((u=i.form.get("code"))==null?null:u.touched))("border-green-500",((f=i.form.get("code"))==null?null:f.valid)&&((f=i.form.get("code"))==null?null:f.touched))("focus:ring-green-500",((m=i.form.get("code"))==null?null:m.valid)&&((m=i.form.get("code"))==null?null:m.touched)),g(),_("ngIf",((v=i.form.get("code"))==null?null:v.invalid)&&((v=i.form.get("code"))==null?null:v.touched)),g(5),$e("border-red-500",((b=i.form.get("name"))==null?null:b.invalid)&&((b=i.form.get("name"))==null?null:b.touched))("focus:ring-red-500",((w=i.form.get("name"))==null?null:w.invalid)&&((w=i.form.get("name"))==null?null:w.touched))("border-green-500",((y=i.form.get("name"))==null?null:y.valid)&&((y=i.form.get("name"))==null?null:y.touched))("focus:ring-green-500",((k=i.form.get("name"))==null?null:k.valid)&&((k=i.form.get("name"))==null?null:k.touched)),g(),_("ngIf",((I=i.form.get("name"))==null?null:I.invalid)&&((I=i.form.get("name"))==null?null:I.touched)),g(2),_("disabled",i.form.invalid)}},dependencies:[ge,je,Ee,$n,dt,qt,Ht,Je,jt,et,ut,Rn,Fn,Ue],styles:[`[_nghost-%COMP%]     input:focus, [_nghost-%COMP%]     select:focus{outline:2px solid transparent;outline-offset:2px}[_nghost-%COMP%]     input, [_nghost-%COMP%]     select{transition:all .2s ease-in-out}[_nghost-%COMP%]     .ng-invalid.ng-touched{animation:_ngcontent-%COMP%_shake .5s ease-in-out}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}.form-row[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:0}}.form-group[_ngcontent-%COMP%]{flex:1;margin-bottom:1.5rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#1f2937}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:1px solid #d1d5db;border-radius:8px;font-family:inherit;font-size:1rem;margin-bottom:.5rem;transition:border-color .2s ease,box-shadow .2s ease}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f64d}input[_ngcontent-%COMP%]::placeholder, select[_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{color:#6b7280;opacity:.7}select[_ngcontent-%COMP%]{appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right 1rem center;background-size:1em}.field-error[_ngcontent-%COMP%]{color:#dc2626;font-size:.85rem;margin-top:.25rem}.actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:1rem}@media (max-width: 768px){.actions[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}}.actions[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{background-color:transparent;color:#6b7280;border:1px solid #d1d5db;padding:.75rem 1.5rem;border-radius:8px;cursor:pointer;transition:all .2s ease}.actions[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]:hover{background-color:#f9fafb;color:#1f2937}.actions[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff;border:none;border-radius:8px;padding:.75rem 1.5rem;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .2s ease,transform .2s ease}.actions[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2563eb;transform:translateY(-2px)}.actions[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:disabled{background-color:#d1d5db;cursor:not-allowed;opacity:.7}p[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){form[_ngcontent-%COMP%]{padding:1.5rem}}`]})};var nm=class n{constructor(e,t){this.http=e;this.authService=t}apiUrl=ht.apiUrl+"/users";getAuthHeaders(){let e=this.authService.getToken();return new ze().set("Authorization",`Bearer ${e}`)}getAllUsers(){return this.http.get(`${this.apiUrl}`,{headers:this.getAuthHeaders()})}updateUserAccountSettings(e,t){return this.http.put(`${this.apiUrl}/${e}/account-settings`,t,{headers:this.getAuthHeaders()})}static \u0275fac=function(t){return new(t||n)(ie(_t),ie(wt))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})};var vH=(n,e,t)=>({"bg-purple-100 text-purple-800":n,"bg-blue-100 text-blue-800":e,"bg-green-100 text-green-800":t}),xH=(n,e,t)=>({"bg-red-100 text-red-800":n,"bg-yellow-100 text-yellow-800":e,"bg-green-100 text-green-800":t});function bH(n,e){n&1&&(d(0,"div",9)(1,"div",10),S(2,"div",11),d(3,"p",12),h(4,"Loading users..."),p()()())}function yH(n,e){if(n&1&&(d(0,"div",13)(1,"div",14),W(),d(2,"svg",15),S(3,"path",16),p(),Z(),d(4,"p",17),h(5),p()()()),n&2){let t=D();g(5),Q(t.errorMessage)}}function _H(n,e){n&1&&(d(0,"div",18),W(),d(1,"svg",19),S(2,"path",20),p(),Z(),d(3,"h3",21),h(4,"Access Restricted"),p(),d(5,"p",22),h(6,"You do not have permission to view this page. Contact your administrator for access."),p()())}function wH(n,e){if(n&1){let t=de();d(0,"tr",40)(1,"td",41)(2,"div",14)(3,"div",42)(4,"div",43)(5,"span",44),h(6),p()()(),d(7,"div",45)(8,"div",46),h(9),p(),d(10,"div",47),h(11),p(),d(12,"div",48),h(13),p()()()(),d(14,"td",41)(15,"span",49),h(16),p()(),d(17,"td",41)(18,"input",50),ee("ngModelChange",function(r){let s=M(t).$implicit,o=D(2);return J(o.userEditModels[s._id].formAccountExpiresAt,r)||(o.userEditModels[s._id].formAccountExpiresAt=r),P(r)}),p()(),d(19,"td",41)(20,"span",49),h(21),p()(),d(22,"td",41)(23,"input",50),ee("ngModelChange",function(r){let s=M(t).$implicit,o=D(2);return J(o.userEditModels[s._id].formFreeTrialEndsAt,r)||(o.userEditModels[s._id].formFreeTrialEndsAt=r),P(r)}),p()(),d(24,"td",41)(25,"div",51)(26,"button",52),F("click",function(){let r=M(t).$implicit,s=D(2);return P(s.saveUserSettings(r))}),W(),d(27,"svg",53),S(28,"path",54),p(),h(29," Save "),p(),Z(),d(30,"div",55)(31,"button",56),F("click",function(){let r=M(t).$implicit,s=D(2);return P(s.addExpiryDays(r,30))}),h(32," +30d "),p(),d(33,"button",57),F("click",function(){let r=M(t).$implicit,s=D(2);return P(s.addExpiryDays(r,180))}),h(34," +180d "),p(),d(35,"button",58),F("click",function(){let r=M(t).$implicit,s=D(2);return P(s.addExpiryDays(r,360))}),h(36," +360d "),p()()()()()}if(n&2){let t=e.$implicit,i=D(2);g(6),Q(t.name.charAt(0).toUpperCase()),g(3),Q(t.name),g(2),Q("@"+t.username),g(2),Q(t.email||"No email"),g(2),_("ngClass",Fl(16,vH,t.role==="superadmin",t.role==="admin",t.role==="student")),g(),z(" ",t.role," "),g(2),$e("bg-gray-100",!i.isSuperAdmin),K("ngModel",i.userEditModels[t._id].formAccountExpiresAt),_("readonly",!i.isSuperAdmin),g(2),_("ngClass",Fl(20,xH,i.getDaysLeftNumber(i.userEditModels[t._id].formAccountExpiresAt)<=7,i.getDaysLeftNumber(i.userEditModels[t._id].formAccountExpiresAt)>7&&i.getDaysLeftNumber(i.userEditModels[t._id].formAccountExpiresAt)<=30,i.getDaysLeftNumber(i.userEditModels[t._id].formAccountExpiresAt)>30)),g(),z(" ",i.getDaysLeft(i.userEditModels[t._id].formAccountExpiresAt)," "),g(2),$e("bg-gray-100",!i.isSuperAdmin),K("ngModel",i.userEditModels[t._id].formFreeTrialEndsAt),_("readonly",!i.isSuperAdmin)}}function SH(n,e){n&1&&(d(0,"tr")(1,"td",59)(2,"div",60),W(),d(3,"svg",61),S(4,"path",27),p(),Z(),d(5,"p",62),h(6,"No users found"),p(),d(7,"p",63),h(8,"No user accounts are currently available to manage."),p()()()())}function EH(n,e){if(n&1&&(d(0,"div",23)(1,"div",24)(2,"h2",25),W(),d(3,"svg",26),S(4,"path",27),p(),h(5),p()(),Z(),d(6,"div",28)(7,"table",29)(8,"thead",30)(9,"tr")(10,"th",31),h(11,"User Info"),p(),d(12,"th",31),h(13,"Role"),p(),d(14,"th",31),h(15,"Account Expires"),p(),d(16,"th",31),h(17,"Days Left"),p(),d(18,"th",31),h(19,"Free Trial Ends"),p(),d(20,"th",31),h(21,"Actions"),p()()(),d(22,"tbody",32),O(23,wH,37,24,"tr",33)(24,SH,9,0,"tr",34),p()()(),d(25,"div",35)(26,"div",36)(27,"div",14),W(),d(28,"svg",37),S(29,"path",38),p(),Z(),d(30,"span"),h(31,"Click on date fields to modify user expiry dates"),p()(),d(32,"div",14)(33,"span",39),h(34),p()()()()()),n&2){let t=D();g(5),z(" User Accounts (",t.users.length,") "),g(18),_("ngForOf",t.users),g(),_("ngIf",t.users.length===0),g(10),z("Total Users: ",t.users.length,"")}}var im=class n{constructor(e,t){this.userService=e;this.authService=t}users=[];currentUserRole=null;isLoading=!0;errorMessage=null;isSuperAdmin=!1;userEditModels={};ngOnInit(){this.currentUserRole=this.authService.getRole(),this.isSuperAdmin=this.currentUserRole==="superadmin",this.currentUserRole==="superadmin"||this.currentUserRole==="admin"?this.loadUsers():(this.isLoading=!1,this.errorMessage="You do not have permission to view this page.")}loadUsers(){this.isLoading=!0,this.errorMessage=null,this.userService.getAllUsers().subscribe({next:e=>{this.users=e,this.users.forEach(t=>{this.userEditModels[t._id]={formAccountExpiresAt:this.formatDateForInput(t.accountExpiresAt),formFreeTrialEndsAt:this.formatDateForInput(t.freeTrialEndsAt)}}),this.isLoading=!1},error:e=>{console.error("Error fetching users:",e),this.errorMessage="Failed to load users. You may not have permission to view this page or the server encountered an error.",this.isLoading=!1}})}formatDateForInput(e){if(e)try{let t=new Date(e);if(isNaN(t.getTime()))return"";let i=t.getFullYear(),r=("0"+(t.getMonth()+1)).slice(-2),s=("0"+t.getDate()).slice(-2);return`${i}-${r}-${s}`}catch{return""}return""}getDaysLeft(e){if(!e)return"N/A";let t=new Date(e),i=new Date;if(t.setHours(0,0,0,0),i.setHours(0,0,0,0),isNaN(t.getTime()))return"Invalid Date";let r=t.getTime()-i.getTime(),s=Math.ceil(r/(1e3*60*60*24));return s<0?"Expired":`${s} days left`}getDaysLeftNumber(e){if(!e)return-1;let t=new Date(e),i=new Date;if(t.setHours(0,0,0,0),i.setHours(0,0,0,0),isNaN(t.getTime()))return-1;let r=t.getTime()-i.getTime();return Math.ceil(r/(1e3*60*60*24))}addExpiryDays(e,t){if(console.log("[UserManagement] addExpiryDays called."),console.log("[UserManagement] Current user role:",this.currentUserRole),console.log("[UserManagement] Is SuperAdmin flag:",this.isSuperAdmin),!this.isSuperAdmin){console.log("[UserManagement] Not a SuperAdmin. Action blocked for addExpiryDays."),alert("Action blocked: Only Superadmins can modify user expiry dates.");return}console.log("[UserManagement] Is SuperAdmin. Proceeding with addExpiryDays.");let i=new Date,r=new Date(i.setDate(i.getDate()+t));this.userEditModels[e._id].formAccountExpiresAt=this.formatDateForInput(r.toISOString()),this.saveUserSettings(e)}saveUserSettings(e){if(console.log("[UserManagement] saveUserSettings called."),console.log("[UserManagement] Current user role:",this.currentUserRole),console.log("[UserManagement] Is SuperAdmin flag:",this.isSuperAdmin),!this.isSuperAdmin){console.log("[UserManagement] Not a SuperAdmin. Showing alert and returning."),alert("Action blocked: Only Superadmins can modify user settings.");return}if(console.log("[UserManagement] Is SuperAdmin. Proceeding with save."),!this.userEditModels[e._id]){alert("Cannot save settings: edit model not found.");return}let t=this.userEditModels[e._id],i={};i.accountExpiresAt=t.formAccountExpiresAt?t.formAccountExpiresAt:null,i.freeTrialEndsAt=t.formFreeTrialEndsAt?t.formFreeTrialEndsAt:null;let r=/^\d{4}-\d{2}-\d{2}$/;if(i.accountExpiresAt&&!r.test(i.accountExpiresAt)){alert("Invalid format for Account Expiry Date. Please use YYYY-MM-DD.");return}if(i.freeTrialEndsAt&&!r.test(i.freeTrialEndsAt)){alert("Invalid format for Free Trial End Date. Please use YYYY-MM-DD.");return}this.userService.updateUserAccountSettings(e._id,i).subscribe({next:()=>{alert("User settings updated successfully!"),this.loadUsers()},error:s=>{console.error("Error updating user settings:",s),alert(`Failed to update settings: ${s.error?.message||"Server error"}`)}})}static \u0275fac=function(t){return new(t||n)(U(nm),U(wt))};static \u0275cmp=pe({type:n,selectors:[["app-user-management"]],decls:11,vars:4,consts:[[1,"min-h-screen","bg-gray-50","py-6","px-4","sm:px-6","lg:px-8"],[1,"max-w-7xl","mx-auto"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],["class","bg-white rounded-xl shadow-sm border border-gray-200 p-8",4,"ngIf"],["class","bg-red-50 border border-red-200 rounded-xl p-6 mb-6",4,"ngIf"],["class","bg-yellow-50 border border-yellow-200 rounded-xl p-8 text-center",4,"ngIf"],["class","bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",4,"ngIf"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-200","p-8"],[1,"flex","items-center","justify-center"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-primary-600"],[1,"ml-3","text-gray-600"],[1,"bg-red-50","border","border-red-200","rounded-xl","p-6","mb-6"],[1,"flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-400","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16c-.77.833.192 2.5 1.732 2.5z"],[1,"text-red-800","font-medium"],[1,"bg-yellow-50","border","border-yellow-200","rounded-xl","p-8","text-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","text-yellow-400","mx-auto","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"],[1,"text-lg","font-semibold","text-yellow-800","mb-2"],[1,"text-yellow-700"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-200","overflow-hidden"],[1,"px-6","py-4","border-b","border-gray-200","bg-gray-50"],[1,"text-xl","font-semibold","text-gray-900","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","text-primary-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50 transition-colors",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"bg-gray-50","px-6","py-3","border-t","border-gray-200"],[1,"flex","items-center","justify-between","text-sm","text-gray-600"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"font-medium"],[1,"hover:bg-gray-50","transition-colors"],[1,"px-6","py-4"],[1,"flex-shrink-0","h-10","w-10"],[1,"h-10","w-10","rounded-full","bg-primary-100","flex","items-center","justify-center"],[1,"text-sm","font-medium","text-primary-700"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"text-xs","text-gray-400"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],["type","date",1,"form-input","text-sm","px-3","py-2","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-primary-500","focus:border-primary-500","disabled:bg-gray-100",3,"ngModelChange","ngModel","readonly"],[1,"flex","flex-col","space-y-2"],[1,"inline-flex","items-center","px-3","py-1.5","text-xs","font-medium","rounded-md","text-white","bg-primary-600","hover:bg-primary-700","focus:outline-none","focus:ring-2","focus:ring-primary-500","focus:ring-offset-2","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"flex","flex-wrap","gap-1"],["title","Add 30 days",1,"inline-flex","items-center","px-2","py-1","text-xs","font-medium","rounded","bg-green-100","text-green-700","hover:bg-green-200","transition-colors",3,"click"],["title","Add 180 days",1,"inline-flex","items-center","px-2","py-1","text-xs","font-medium","rounded","bg-blue-100","text-blue-700","hover:bg-blue-200","transition-colors",3,"click"],["title","Add 360 days",1,"inline-flex","items-center","px-2","py-1","text-xs","font-medium","rounded","bg-purple-100","text-purple-700","hover:bg-purple-200","transition-colors",3,"click"],["colspan","6",1,"px-6","py-12","text-center","text-gray-500"],[1,"flex","flex-col","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","text-gray-300","mb-4"],[1,"text-lg","font-medium"],[1,"text-sm"]],template:function(t,i){t&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),h(4,"User Management"),p(),d(5,"p",4),h(6,"Manage user accounts, roles, and permissions"),p()(),O(7,bH,5,0,"div",5)(8,yH,6,1,"div",6)(9,_H,7,0,"div",7)(10,EH,35,4,"div",8),p()()),t&2&&(g(7),_("ngIf",i.isLoading),g(),_("ngIf",i.errorMessage&&!i.isLoading),g(),_("ngIf",!i.isLoading&&!i.errorMessage&&i.currentUserRole!=="superadmin"&&i.currentUserRole!=="admin"),g(),_("ngIf",!i.isLoading&&!i.errorMessage&&(i.currentUserRole==="superadmin"||i.currentUserRole==="admin")))},dependencies:[ge,er,je,Ee,Ut,Je,et,on],styles:[".user-avatar-transition[_ngcontent-%COMP%]{transition-property:all;transition-duration:.2s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.enhanced-focus[_ngcontent-%COMP%]:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-color: rgb(14 165 233 / var(--tw-ring-opacity, 1));--tw-ring-opacity: .5 }"]})};var Xr=class n{constructor(e,t){this.auth=e;this.router=t}canActivate(){return console.log("AdminGuard \u2794 token=",this.auth.getToken(),"role=",this.auth.getRole()),this.auth.isLoggedIn()&&["admin","superadmin"].includes(this.auth.getRole())?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(t){return new(t||n)(ie(wt),ie(Se))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})};var rm=class n{constructor(e,t){this.auth=e;this.router=t}canActivate(){return this.auth.isLoggedIn()&&this.auth.getRole()==="student"?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(t){return new(t||n)(ie(wt),ie(Se))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})};var Pk=(n,e)=>{let t=se(wt),i=se(Se),r=t.getUserRole();return t.isLoggedIn()&&r==="superadmin"?!0:(i.navigate(["/auth/login"]),!1)};var n1=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"login",component:Ih},{path:"register",component:Mh},{path:"logout",component:Ph},{path:"home",component:Mo,canActivate:[Xr]},{path:"series/:seriesId/analytics",component:Lf,canActivate:[Xr]},{path:"student-dashboard",component:Dh,canActivate:[rm]},{path:"",canActivate:[Xr],children:[{path:"test-series",component:Nh},{path:"test-series/create",component:Su},{path:"build-paper",component:Su},{path:"questions",component:Of},{path:"add-question",component:Vf},{path:"questions/edit/:id",component:$f},{path:"questions/:id/view",component:jf,canActivate:[Xr]},{path:"questions/review",component:qf,canActivate:[Pk]},{path:"branches/new",component:Hf},{path:"subjects",component:Mo,data:{hierarchySection:"subjects"}},{path:"subjects/new",component:Uf},{path:"topics",component:Mo,data:{hierarchySection:"topics"}},{path:"topics/new",component:zf},{path:"subtopics",component:Mo,data:{hierarchySection:"subtopics"}},{path:"subtopics/new",component:Wf},{path:"csv-import",component:Qf},{path:"exam-families",component:Gf},{path:"exam-families/new",component:Yf},{path:"exam-streams",component:Xf},{path:"exam-streams/new",component:Zf},{path:"exam-papers",component:Kf},{path:"exam-papers/new",component:Jf},{path:"exam-shifts",component:em},{path:"exam-shifts/new",component:tm},{path:"user-management",component:im,canActivate:[Xr]},{path:"leaderboard",loadComponent:()=>import("./chunk-2PDGGPTT.js").then(n=>n.LeaderboardComponent),canActivate:[Xr]}]},{path:"**",pathMatch:"full",redirectTo:"login",data:{reason:"no-match"}}],Dk=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=es({type:n});static \u0275inj=Jr({imports:[Ue.forRoot(n1),Ue]})};Kg(Ah,{providers:[pb(hb()),{provide:db,useClass:Kp,multi:!0},Av(n1)]}).catch(n=>console.error(n));
